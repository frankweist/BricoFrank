(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function og(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Lh={exports:{}},Ra={},Uh={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),ag=Symbol.for("react.portal"),lg=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),mg=Symbol.for("react.memo"),vg=Symbol.for("react.lazy"),tf=Symbol.iterator;function gg(t){return t===null||typeof t!="object"?null:(t=tf&&t[tf]||t["@@iterator"],typeof t=="function"?t:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mh=Object.assign,Fh={};function Ai(t,e,n){this.props=t,this.context=e,this.refs=Fh,this.updater=n||zh}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bh(){}Bh.prototype=Ai.prototype;function bc(t,e,n){this.props=t,this.context=e,this.refs=Fh,this.updater=n||zh}var kc=bc.prototype=new Bh;kc.constructor=bc;Mh(kc,Ai.prototype);kc.isPureReactComponent=!0;var nf=Array.isArray,Kh=Object.prototype.hasOwnProperty,Sc={current:null},qh={key:!0,ref:!0,__self:!0,__source:!0};function Wh(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Kh.call(e,r)&&!qh.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];i.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:qs,type:t,key:s,ref:a,props:i,_owner:Sc.current}}function yg(t,e){return{$$typeof:qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===qs}function wg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rf=/\/+/g;function Dl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wg(""+t.key):e.toString(36)}function Vo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qs:case ag:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Dl(a,0):r,nf(i)?(n="",t!=null&&(n=t.replace(rf,"$&/")+"/"),Vo(i,e,n,"",function(p){return p})):i!=null&&(xc(i)&&(i=yg(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rf,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",nf(t))for(var u=0;u<t.length;u++){s=t[u];var d=r+Dl(s,u);a+=Vo(s,e,n,d,i)}else if(d=gg(t),typeof d=="function")for(t=d.call(t),u=0;!(s=t.next()).done;)s=s.value,d=r+Dl(s,u++),a+=Vo(s,e,n,d,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function jo(t,e,n){if(t==null)return t;var r=[],i=0;return Vo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _g(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},Ho={transition:null},bg={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:Sc};function Vh(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:jo,forEach:function(t,e,n){jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Ai;ge.Fragment=lg;ge.Profiler=cg;ge.PureComponent=bc;ge.StrictMode=ug;ge.Suspense=pg;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg;ge.act=Vh;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mh({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Sc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Kh.call(e,d)&&!qh.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:qs,type:t.type,key:i,ref:s,props:r,_owner:a}};ge.createContext=function(t){return t={$$typeof:fg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dg,_context:t},t.Consumer=t};ge.createElement=Wh;ge.createFactory=function(t){var e=Wh.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:hg,render:t}};ge.isValidElement=xc;ge.lazy=function(t){return{$$typeof:vg,_payload:{_status:-1,_result:t},_init:_g}};ge.memo=function(t,e){return{$$typeof:mg,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Ho.transition;Ho.transition={};try{t()}finally{Ho.transition=e}};ge.unstable_act=Vh;ge.useCallback=function(t,e){return ht.current.useCallback(t,e)};ge.useContext=function(t){return ht.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ge.useEffect=function(t,e){return ht.current.useEffect(t,e)};ge.useId=function(){return ht.current.useId()};ge.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return ht.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};ge.useRef=function(t){return ht.current.useRef(t)};ge.useState=function(t){return ht.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return ht.current.useTransition()};ge.version="18.3.1";Uh.exports=ge;var ve=Uh.exports;const br=$h(ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=ve,Sg=Symbol.for("react.element"),xg=Symbol.for("react.fragment"),Eg=Object.prototype.hasOwnProperty,jg=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cg={key:!0,ref:!0,__self:!0,__source:!0};function Hh(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Eg.call(e,r)&&!Cg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sg,type:t,key:s,ref:a,props:i,_owner:jg.current}}Ra.Fragment=xg;Ra.jsx=Hh;Ra.jsxs=Hh;Lh.exports=Ra;var _=Lh.exports,Gh={exports:{}},Nt={},Qh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ce){var de=te.length;te.push(ce);e:for(;0<de;){var je=de-1>>>1,Be=te[je];if(0<i(Be,ce))te[je]=ce,te[de]=Be,de=je;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],de=te.pop();if(de!==ce){te[0]=de;e:for(var je=0,Be=te.length,Mt=Be>>>1;je<Mt;){var Jt=2*(je+1)-1,xn=te[Jt],mt=Jt+1,En=te[mt];if(0>i(xn,de))mt<Be&&0>i(En,xn)?(te[je]=En,te[mt]=de,je=mt):(te[je]=xn,te[Jt]=de,je=Jt);else if(mt<Be&&0>i(En,de))te[je]=En,te[mt]=de,je=mt;else break e}}return ce}function i(te,ce){var de=te.sortIndex-ce.sortIndex;return de!==0?de:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],p=[],v=1,g=null,y=3,E=!1,N=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(te){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=te)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(p)}}function A(te){if(U=!1,S(te),!N)if(n(d)!==null)N=!0,an(z);else{var ce=n(p);ce!==null&&Li(A,ce.startTime-te)}}function z(te,ce){N=!1,U&&(U=!1,j(re),re=-1),E=!0;var de=y;try{for(S(ce),g=n(d);g!==null&&(!(g.expirationTime>ce)||te&&!Me());){var je=g.callback;if(typeof je=="function"){g.callback=null,y=g.priorityLevel;var Be=je(g.expirationTime<=ce);ce=t.unstable_now(),typeof Be=="function"?g.callback=Be:g===n(d)&&r(d),S(ce)}else r(d);g=n(d)}if(g!==null)var Mt=!0;else{var Jt=n(p);Jt!==null&&Li(A,Jt.startTime-ce),Mt=!1}return Mt}finally{g=null,y=de,E=!1}}var K=!1,W=null,re=-1,ie=5,oe=-1;function Me(){return!(t.unstable_now()-oe<ie)}function xt(){if(W!==null){var te=t.unstable_now();oe=te;var ce=!0;try{ce=W(!0,te)}finally{ce?Fe():(K=!1,W=null)}}else K=!1}var Fe;if(typeof b=="function")Fe=function(){b(xt)};else if(typeof MessageChannel<"u"){var zr=new MessageChannel,ir=zr.port2;zr.port1.onmessage=xt,Fe=function(){ir.postMessage(null)}}else Fe=function(){q(xt,0)};function an(te){W=te,K||(K=!0,Fe())}function Li(te,ce){re=q(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){N||E||(N=!0,an(z))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var de=y;y=ce;try{return te()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var de=y;y=te;try{return ce()}finally{y=de}},t.unstable_scheduleCallback=function(te,ce,de){var je=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,te){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=de+Be,te={id:v++,callback:ce,priorityLevel:te,startTime:de,expirationTime:Be,sortIndex:-1},de>je?(te.sortIndex=de,e(p,te),n(d)===null&&te===n(p)&&(U?(j(re),re=-1):U=!0,Li(A,de-je))):(te.sortIndex=Be,e(d,te),N||E||(N=!0,an(z))),te},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(te){var ce=y;return function(){var de=y;y=ce;try{return te.apply(this,arguments)}finally{y=de}}}})(Jh);Qh.exports=Jh;var Og=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=ve,Tt=Og;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yh=new Set,Es={};function $r(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(Es[t]=e,t=0;t<e.length;t++)Yh.add(e[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=Object.prototype.hasOwnProperty,Tg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},of={};function Ng(t){return gu.call(of,t)?!0:gu.call(sf,t)?!1:Tg.test(t)?of[t]=!0:(sf[t]=!0,!1)}function Ag(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rg(t,e,n,r){if(e===null||typeof e>"u"||Ag(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ec=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ec,jc);nt[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ec,jc);nt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ec,jc);nt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cc(t,e,n,r){var i=nt.hasOwnProperty(e)?nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rg(e,n,i,r)&&(n=null),r||i===null?Ng(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kn=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),ii=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Oc=Symbol.for("react.strict_mode"),yu=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),ep=Symbol.for("react.offscreen"),af=Symbol.iterator;function Xi(t){return t===null||typeof t!="object"?null:(t=af&&t[af]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,$l;function ls(t){if($l===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$l=e&&e[1]||""}return`
`+$l+t}var Ll=!1;function Ul(t,e){if(!t||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var d=`
`+i[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=u);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ls(t):""}function Ig(t){switch(t.tag){case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return t=Ul(t.type,!1),t;case 11:return t=Ul(t.type.render,!1),t;case 1:return t=Ul(t.type,!0),t;default:return""}}function bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ii:return"Portal";case yu:return"Profiler";case Oc:return"StrictMode";case wu:return"Suspense";case _u:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zh:return(t.displayName||"Context")+".Consumer";case Xh:return(t._context.displayName||"Context")+".Provider";case Pc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tc:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}function Dg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(e);case 8:return e===Oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $g(t){var e=tp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oo(t){t._valueTracker||(t._valueTracker=$g(t))}function np(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ku(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rp(t,e){e=e.checked,e!=null&&Cc(t,"checked",e,!1)}function Su(t,e){rp(t,e);var n=Xn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xu(t,e.type,n):e.hasOwnProperty("defaultValue")&&xu(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xu(t,e,n){(e!=="number"||sa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var us=Array.isArray;function vi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(us(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function ip(t,e){var n=Xn(e.value),r=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function df(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ju(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Po,op=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Po.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function js(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lg=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(t){Lg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hs[e]=hs[t]})});function ap(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hs.hasOwnProperty(t)&&hs[t]?(""+e).trim():e+"px"}function lp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ap(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ug=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(t,e){if(e){if(Ug[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Ou(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function Nc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tu=null,gi=null,yi=null;function ff(t){if(t=Hs(t)){if(typeof Tu!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ua(e),Tu(t.stateNode,t.type,e))}}function up(t){gi?yi?yi.push(t):yi=[t]:gi=t}function cp(){if(gi){var t=gi,e=yi;if(yi=gi=null,ff(t),e)for(t=0;t<e.length;t++)ff(e[t])}}function dp(t,e){return t(e)}function fp(){}var zl=!1;function hp(t,e,n){if(zl)return t(e,n);zl=!0;try{return dp(t,e,n)}finally{zl=!1,(gi!==null||yi!==null)&&(fp(),cp())}}function Cs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ua(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Nu=!1;if(yn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Nu=!1}function zg(t,e,n,r,i,s,a,u,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(v){this.onError(v)}}var ps=!1,oa=null,aa=!1,Au=null,Mg={onError:function(t){ps=!0,oa=t}};function Fg(t,e,n,r,i,s,a,u,d){ps=!1,oa=null,zg.apply(Mg,arguments)}function Bg(t,e,n,r,i,s,a,u,d){if(Fg.apply(this,arguments),ps){if(ps){var p=oa;ps=!1,oa=null}else throw Error(H(198));aa||(aa=!0,Au=p)}}function Lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hf(t){if(Lr(t)!==t)throw Error(H(188))}function Kg(t){var e=t.alternate;if(!e){if(e=Lr(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hf(i),t;if(s===r)return hf(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function mp(t){return t=Kg(t),t!==null?vp(t):null}function vp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vp(t);if(e!==null)return e;t=t.sibling}return null}var gp=Tt.unstable_scheduleCallback,pf=Tt.unstable_cancelCallback,qg=Tt.unstable_shouldYield,Wg=Tt.unstable_requestPaint,ze=Tt.unstable_now,Vg=Tt.unstable_getCurrentPriorityLevel,Ac=Tt.unstable_ImmediatePriority,yp=Tt.unstable_UserBlockingPriority,la=Tt.unstable_NormalPriority,Hg=Tt.unstable_LowPriority,wp=Tt.unstable_IdlePriority,Ia=null,sn=null;function Gg(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Yg,Qg=Math.log,Jg=Math.LN2;function Yg(t){return t>>>=0,t===0?32:31-(Qg(t)/Jg|0)|0}var To=64,No=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ua(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=cs(u):(s&=a,s!==0&&(r=cs(s)))}else a=n&~i,a!==0?r=cs(a):s!==0&&(r=cs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ht(e),i=1<<n,r|=t[n],e&=~i;return r}function Xg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ht(s),u=1<<a,d=i[a];d===-1?(!(u&n)||u&r)&&(i[a]=Xg(u,e)):d<=e&&(t.expiredLanes|=u),s&=~u}}function Ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _p(){var t=To;return To<<=1,!(To&4194240)&&(To=64),t}function Ml(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ws(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ht(e),t[e]=n}function ey(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ht(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ht(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function bp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kp,Ic,Sp,xp,Ep,Iu=!1,Ao=[],qn=null,Wn=null,Vn=null,Os=new Map,Ps=new Map,zn=[],ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(t,e){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Os.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function es(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hs(e),e!==null&&Ic(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ny(t,e,n,r,i){switch(e){case"focusin":return qn=es(qn,t,e,n,r,i),!0;case"dragenter":return Wn=es(Wn,t,e,n,r,i),!0;case"mouseover":return Vn=es(Vn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Os.set(s,es(Os.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ps.set(s,es(Ps.get(s)||null,t,e,n,r,i)),!0}return!1}function jp(t){var e=xr(t.target);if(e!==null){var n=Lr(e);if(n!==null){if(e=n.tag,e===13){if(e=pp(n),e!==null){t.blockedOn=e,Ep(t.priority,function(){Sp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Go(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pu=r,n.target.dispatchEvent(r),Pu=null}else return e=Hs(n),e!==null&&Ic(e),t.blockedOn=n,!1;e.shift()}return!0}function vf(t,e,n){Go(t)&&n.delete(e)}function ry(){Iu=!1,qn!==null&&Go(qn)&&(qn=null),Wn!==null&&Go(Wn)&&(Wn=null),Vn!==null&&Go(Vn)&&(Vn=null),Os.forEach(vf),Ps.forEach(vf)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Iu||(Iu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,ry)))}function Ts(t){function e(i){return ts(i,t)}if(0<Ao.length){ts(Ao[0],t);for(var n=1;n<Ao.length;n++){var r=Ao[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qn!==null&&ts(qn,t),Wn!==null&&ts(Wn,t),Vn!==null&&ts(Vn,t),Os.forEach(e),Ps.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)jp(n),n.blockedOn===null&&zn.shift()}var wi=kn.ReactCurrentBatchConfig,ca=!0;function iy(t,e,n,r){var i=ke,s=wi.transition;wi.transition=null;try{ke=1,Dc(t,e,n,r)}finally{ke=i,wi.transition=s}}function sy(t,e,n,r){var i=ke,s=wi.transition;wi.transition=null;try{ke=4,Dc(t,e,n,r)}finally{ke=i,wi.transition=s}}function Dc(t,e,n,r){if(ca){var i=Du(t,e,n,r);if(i===null)Jl(t,e,r,da,n),mf(t,r);else if(ny(i,t,e,n,r))r.stopPropagation();else if(mf(t,r),e&4&&-1<ty.indexOf(t)){for(;i!==null;){var s=Hs(i);if(s!==null&&kp(s),s=Du(t,e,n,r),s===null&&Jl(t,e,r,da,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jl(t,e,r,null,n)}}var da=null;function Du(t,e,n,r){if(da=null,t=Nc(r),t=xr(t),t!==null)if(e=Lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return da=t,null}function Cp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vg()){case Ac:return 1;case yp:return 4;case la:case Hg:return 16;case wp:return 536870912;default:return 16}default:return 16}}var Bn=null,$c=null,Qo=null;function Op(){if(Qo)return Qo;var t,e=$c,n=e.length,r,i="value"in Bn?Bn.value:Bn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Qo=i.slice(t,1<r?1-r:void 0)}function Jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ro(){return!0}function gf(){return!1}function At(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ro:gf,this.isPropagationStopped=gf,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=At(Ri),Vs=Ie({},Ri,{view:0,detail:0}),oy=At(Vs),Fl,Bl,ns,Da=Ie({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ns&&(ns&&t.type==="mousemove"?(Fl=t.screenX-ns.screenX,Bl=t.screenY-ns.screenY):Bl=Fl=0,ns=t),Fl)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),yf=At(Da),ay=Ie({},Da,{dataTransfer:0}),ly=At(ay),uy=Ie({},Vs,{relatedTarget:0}),Kl=At(uy),cy=Ie({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=At(cy),fy=Ie({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hy=At(fy),py=Ie({},Ri,{data:0}),wf=At(py),my={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gy[t])?!!e[t]:!1}function Uc(){return yy}var wy=Ie({},Vs,{key:function(t){if(t.key){var e=my[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(t){return t.type==="keypress"?Jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_y=At(wy),by=Ie({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=At(by),ky=Ie({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),Sy=At(ky),xy=Ie({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ey=At(xy),jy=Ie({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=At(jy),Oy=[9,13,27,32],zc=yn&&"CompositionEvent"in window,ms=null;yn&&"documentMode"in document&&(ms=document.documentMode);var Py=yn&&"TextEvent"in window&&!ms,Pp=yn&&(!zc||ms&&8<ms&&11>=ms),bf=" ",kf=!1;function Tp(t,e){switch(t){case"keyup":return Oy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oi=!1;function Ty(t,e){switch(t){case"compositionend":return Np(e);case"keypress":return e.which!==32?null:(kf=!0,bf);case"textInput":return t=e.data,t===bf&&kf?null:t;default:return null}}function Ny(t,e){if(oi)return t==="compositionend"||!zc&&Tp(t,e)?(t=Op(),Qo=$c=Bn=null,oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pp&&e.locale!=="ko"?null:e.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ay[t.type]:e==="textarea"}function Ap(t,e,n,r){up(r),e=fa(e,"onChange"),0<e.length&&(n=new Lc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,Ns=null;function Ry(t){Kp(t,0)}function $a(t){var e=ui(t);if(np(e))return t}function Iy(t,e){if(t==="change")return e}var Rp=!1;if(yn){var ql;if(yn){var Wl="oninput"in document;if(!Wl){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),Wl=typeof xf.oninput=="function"}ql=Wl}else ql=!1;Rp=ql&&(!document.documentMode||9<document.documentMode)}function Ef(){vs&&(vs.detachEvent("onpropertychange",Ip),Ns=vs=null)}function Ip(t){if(t.propertyName==="value"&&$a(Ns)){var e=[];Ap(e,Ns,t,Nc(t)),hp(Ry,e)}}function Dy(t,e,n){t==="focusin"?(Ef(),vs=e,Ns=n,vs.attachEvent("onpropertychange",Ip)):t==="focusout"&&Ef()}function $y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $a(Ns)}function Ly(t,e){if(t==="click")return $a(e)}function Uy(t,e){if(t==="input"||t==="change")return $a(e)}function zy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:zy;function As(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gu.call(e,i)||!Qt(t[i],e[i]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cf(t,e){var n=jf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jf(n)}}function Dp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $p(){for(var t=window,e=sa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sa(t.document)}return e}function Mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function My(t){var e=$p(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dp(n.ownerDocument.documentElement,n)){if(r!==null&&Mc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cf(n,s);var a=Cf(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fy=yn&&"documentMode"in document&&11>=document.documentMode,ai=null,$u=null,gs=null,Lu=!1;function Of(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||ai==null||ai!==sa(r)||(r=ai,"selectionStart"in r&&Mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&As(gs,r)||(gs=r,r=fa($u,"onSelect"),0<r.length&&(e=new Lc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ai)))}function Io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var li={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},Vl={},Lp={};yn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function La(t){if(Vl[t])return Vl[t];if(!li[t])return t;var e=li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lp)return Vl[t]=e[n];return t}var Up=La("animationend"),zp=La("animationiteration"),Mp=La("animationstart"),Fp=La("transitionend"),Bp=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,e){Bp.set(t,e),$r(e,[t])}for(var Hl=0;Hl<Pf.length;Hl++){var Gl=Pf[Hl],By=Gl.toLowerCase(),Ky=Gl[0].toUpperCase()+Gl.slice(1);er(By,"on"+Ky)}er(Up,"onAnimationEnd");er(zp,"onAnimationIteration");er(Mp,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(Fp,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Tf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bg(r,e,void 0,t),t.currentTarget=null}function Kp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],d=u.instance,p=u.currentTarget;if(u=u.listener,d!==s&&i.isPropagationStopped())break e;Tf(i,u,p),s=d}else for(a=0;a<r.length;a++){if(u=r[a],d=u.instance,p=u.currentTarget,u=u.listener,d!==s&&i.isPropagationStopped())break e;Tf(i,u,p),s=d}}}if(aa)throw t=Au,aa=!1,Au=null,t}function Oe(t,e){var n=e[Bu];n===void 0&&(n=e[Bu]=new Set);var r=t+"__bubble";n.has(r)||(qp(e,t,2,!1),n.add(r))}function Ql(t,e,n){var r=0;e&&(r|=4),qp(n,t,r,e)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Rs(t){if(!t[Do]){t[Do]=!0,Yh.forEach(function(n){n!=="selectionchange"&&(qy.has(n)||Ql(n,!1,t),Ql(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Do]||(e[Do]=!0,Ql("selectionchange",!1,e))}}function qp(t,e,n,r){switch(Cp(e)){case 1:var i=iy;break;case 4:i=sy;break;default:i=Dc}n=i.bind(null,e,n,t),i=void 0,!Nu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;u!==null;){if(a=xr(u),a===null)return;if(d=a.tag,d===5||d===6){r=s=a;continue e}u=u.parentNode}}r=r.return}hp(function(){var p=s,v=Nc(n),g=[];e:{var y=Bp.get(t);if(y!==void 0){var E=Lc,N=t;switch(t){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":E=_y;break;case"focusin":N="focus",E=Kl;break;case"focusout":N="blur",E=Kl;break;case"beforeblur":case"afterblur":E=Kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Sy;break;case Up:case zp:case Mp:E=dy;break;case Fp:E=Ey;break;case"scroll":E=oy;break;case"wheel":E=Cy;break;case"copy":case"cut":case"paste":E=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=_f}var U=(e&4)!==0,q=!U&&t==="scroll",j=U?y!==null?y+"Capture":null:y;U=[];for(var b=p,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,j!==null&&(A=Cs(b,j),A!=null&&U.push(Is(b,A,S)))),q)break;b=b.return}0<U.length&&(y=new E(y,N,null,n,v),g.push({event:y,listeners:U}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",y&&n!==Pu&&(N=n.relatedTarget||n.fromElement)&&(xr(N)||N[wn]))break e;if((E||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,E?(N=n.relatedTarget||n.toElement,E=p,N=N?xr(N):null,N!==null&&(q=Lr(N),N!==q||N.tag!==5&&N.tag!==6)&&(N=null)):(E=null,N=p),E!==N)){if(U=yf,A="onMouseLeave",j="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(U=_f,A="onPointerLeave",j="onPointerEnter",b="pointer"),q=E==null?y:ui(E),S=N==null?y:ui(N),y=new U(A,b+"leave",E,n,v),y.target=q,y.relatedTarget=S,A=null,xr(v)===p&&(U=new U(j,b+"enter",N,n,v),U.target=S,U.relatedTarget=q,A=U),q=A,E&&N)t:{for(U=E,j=N,b=0,S=U;S;S=Gr(S))b++;for(S=0,A=j;A;A=Gr(A))S++;for(;0<b-S;)U=Gr(U),b--;for(;0<S-b;)j=Gr(j),S--;for(;b--;){if(U===j||j!==null&&U===j.alternate)break t;U=Gr(U),j=Gr(j)}U=null}else U=null;E!==null&&Nf(g,y,E,U,!1),N!==null&&q!==null&&Nf(g,q,N,U,!0)}}e:{if(y=p?ui(p):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var z=Iy;else if(Sf(y))if(Rp)z=Uy;else{z=$y;var K=Dy}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=Ly);if(z&&(z=z(t,p))){Ap(g,z,n,v);break e}K&&K(t,y,p),t==="focusout"&&(K=y._wrapperState)&&K.controlled&&y.type==="number"&&xu(y,"number",y.value)}switch(K=p?ui(p):window,t){case"focusin":(Sf(K)||K.contentEditable==="true")&&(ai=K,$u=p,gs=null);break;case"focusout":gs=$u=ai=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Of(g,n,v);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":Of(g,n,v)}var W;if(zc)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else oi?Tp(t,n)&&(re="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(Pp&&n.locale!=="ko"&&(oi||re!=="onCompositionStart"?re==="onCompositionEnd"&&oi&&(W=Op()):(Bn=v,$c="value"in Bn?Bn.value:Bn.textContent,oi=!0)),K=fa(p,re),0<K.length&&(re=new wf(re,t,null,n,v),g.push({event:re,listeners:K}),W?re.data=W:(W=Np(n),W!==null&&(re.data=W)))),(W=Py?Ty(t,n):Ny(t,n))&&(p=fa(p,"onBeforeInput"),0<p.length&&(v=new wf("onBeforeInput","beforeinput",null,n,v),g.push({event:v,listeners:p}),v.data=W))}Kp(g,e)})}function Is(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cs(t,n),s!=null&&r.unshift(Is(t,s,i)),s=Cs(t,e),s!=null&&r.push(Is(t,s,i))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nf(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,d=u.alternate,p=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&p!==null&&(u=p,i?(d=Cs(n,s),d!=null&&a.unshift(Is(n,d,u))):i||(d=Cs(n,s),d!=null&&a.push(Is(n,d,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Wy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function Af(t){return(typeof t=="string"?t:""+t).replace(Wy,`
`).replace(Vy,"")}function $o(t,e,n){if(e=Af(e),Af(t)!==e&&n)throw Error(H(425))}function ha(){}var Uu=null,zu=null;function Mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(t){return Rf.resolve(null).then(t).catch(Qy)}:Fu;function Qy(t){setTimeout(function(){throw t})}function Yl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ts(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function If(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ii,Ds="__reactProps$"+Ii,wn="__reactContainer$"+Ii,Bu="__reactEvents$"+Ii,Jy="__reactListeners$"+Ii,Yy="__reactHandles$"+Ii;function xr(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wn]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=If(t);t!==null;){if(n=t[rn])return n;t=If(t)}return e}t=n,n=t.parentNode}return null}function Hs(t){return t=t[rn]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ua(t){return t[Ds]||null}var Ku=[],ci=-1;function tr(t){return{current:t}}function Pe(t){0>ci||(t.current=Ku[ci],Ku[ci]=null,ci--)}function Ee(t,e){ci++,Ku[ci]=t.current,t.current=e}var Zn={},ut=tr(Zn),_t=tr(!1),Nr=Zn;function xi(t,e){var n=t.type.contextTypes;if(!n)return Zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function pa(){Pe(_t),Pe(ut)}function Df(t,e,n){if(ut.current!==Zn)throw Error(H(168));Ee(ut,e),Ee(_t,n)}function Wp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,Dg(t)||"Unknown",i));return Ie({},n,r)}function ma(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Nr=ut.current,Ee(ut,t),Ee(_t,_t.current),!0}function $f(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Wp(t,e,Nr),r.__reactInternalMemoizedMergedChildContext=t,Pe(_t),Pe(ut),Ee(ut,t)):Pe(_t),Ee(_t,n)}var fn=null,za=!1,Xl=!1;function Vp(t){fn===null?fn=[t]:fn.push(t)}function Xy(t){za=!0,Vp(t)}function nr(){if(!Xl&&fn!==null){Xl=!0;var t=0,e=ke;try{var n=fn;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fn=null,za=!1}catch(i){throw fn!==null&&(fn=fn.slice(t+1)),gp(Ac,nr),i}finally{ke=e,Xl=!1}}return null}var di=[],fi=0,va=null,ga=0,It=[],Dt=0,Ar=null,pn=1,mn="";function yr(t,e){di[fi++]=ga,di[fi++]=va,va=t,ga=e}function Hp(t,e,n){It[Dt++]=pn,It[Dt++]=mn,It[Dt++]=Ar,Ar=t;var r=pn;t=mn;var i=32-Ht(r)-1;r&=~(1<<i),n+=1;var s=32-Ht(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pn=1<<32-Ht(e)+i|n<<i|r,mn=s+t}else pn=1<<s|n<<i|r,mn=t}function Fc(t){t.return!==null&&(yr(t,1),Hp(t,1,0))}function Bc(t){for(;t===va;)va=di[--fi],di[fi]=null,ga=di[--fi],di[fi]=null;for(;t===Ar;)Ar=It[--Dt],It[Dt]=null,mn=It[--Dt],It[Dt]=null,pn=It[--Dt],It[Dt]=null}var Pt=null,Ot=null,Ne=!1,Vt=null;function Gp(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,Ot=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,Ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ar!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,Ot=null,!0):!1;default:return!1}}function qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wu(t){if(Ne){var e=Ot;if(e){var n=e;if(!Lf(t,e)){if(qu(t))throw Error(H(418));e=Hn(n.nextSibling);var r=Pt;e&&Lf(t,e)?Gp(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Pt=t)}}else{if(qu(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ne=!1,Pt=t}}}function Uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function Lo(t){if(t!==Pt)return!1;if(!Ne)return Uf(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mu(t.type,t.memoizedProps)),e&&(e=Ot)){if(qu(t))throw Qp(),Error(H(418));for(;e;)Gp(t,e),e=Hn(e.nextSibling)}if(Uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=Pt?Hn(t.stateNode.nextSibling):null;return!0}function Qp(){for(var t=Ot;t;)t=Hn(t.nextSibling)}function Ei(){Ot=Pt=null,Ne=!1}function Kc(t){Vt===null?Vt=[t]:Vt.push(t)}var Zy=kn.ReactCurrentBatchConfig;function rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Uo(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function Jp(t){function e(j,b){if(t){var S=j.deletions;S===null?(j.deletions=[b],j.flags|=16):S.push(b)}}function n(j,b){if(!t)return null;for(;b!==null;)e(j,b),b=b.sibling;return null}function r(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function i(j,b){return j=Yn(j,b),j.index=0,j.sibling=null,j}function s(j,b,S){return j.index=S,t?(S=j.alternate,S!==null?(S=S.index,S<b?(j.flags|=2,b):S):(j.flags|=2,b)):(j.flags|=1048576,b)}function a(j){return t&&j.alternate===null&&(j.flags|=2),j}function u(j,b,S,A){return b===null||b.tag!==6?(b=su(S,j.mode,A),b.return=j,b):(b=i(b,S),b.return=j,b)}function d(j,b,S,A){var z=S.type;return z===si?v(j,b,S.props.children,A,S.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ln&&zf(z)===b.type)?(A=i(b,S.props),A.ref=rs(j,b,S),A.return=j,A):(A=ra(S.type,S.key,S.props,null,j.mode,A),A.ref=rs(j,b,S),A.return=j,A)}function p(j,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=ou(S,j.mode,A),b.return=j,b):(b=i(b,S.children||[]),b.return=j,b)}function v(j,b,S,A,z){return b===null||b.tag!==7?(b=Pr(S,j.mode,A,z),b.return=j,b):(b=i(b,S),b.return=j,b)}function g(j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=su(""+b,j.mode,S),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Co:return S=ra(b.type,b.key,b.props,null,j.mode,S),S.ref=rs(j,null,b),S.return=j,S;case ii:return b=ou(b,j.mode,S),b.return=j,b;case Ln:var A=b._init;return g(j,A(b._payload),S)}if(us(b)||Xi(b))return b=Pr(b,j.mode,S,null),b.return=j,b;Uo(j,b)}return null}function y(j,b,S,A){var z=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return z!==null?null:u(j,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:return S.key===z?d(j,b,S,A):null;case ii:return S.key===z?p(j,b,S,A):null;case Ln:return z=S._init,y(j,b,z(S._payload),A)}if(us(S)||Xi(S))return z!==null?null:v(j,b,S,A,null);Uo(j,S)}return null}function E(j,b,S,A,z){if(typeof A=="string"&&A!==""||typeof A=="number")return j=j.get(S)||null,u(b,j,""+A,z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Co:return j=j.get(A.key===null?S:A.key)||null,d(b,j,A,z);case ii:return j=j.get(A.key===null?S:A.key)||null,p(b,j,A,z);case Ln:var K=A._init;return E(j,b,S,K(A._payload),z)}if(us(A)||Xi(A))return j=j.get(S)||null,v(b,j,A,z,null);Uo(b,A)}return null}function N(j,b,S,A){for(var z=null,K=null,W=b,re=b=0,ie=null;W!==null&&re<S.length;re++){W.index>re?(ie=W,W=null):ie=W.sibling;var oe=y(j,W,S[re],A);if(oe===null){W===null&&(W=ie);break}t&&W&&oe.alternate===null&&e(j,W),b=s(oe,b,re),K===null?z=oe:K.sibling=oe,K=oe,W=ie}if(re===S.length)return n(j,W),Ne&&yr(j,re),z;if(W===null){for(;re<S.length;re++)W=g(j,S[re],A),W!==null&&(b=s(W,b,re),K===null?z=W:K.sibling=W,K=W);return Ne&&yr(j,re),z}for(W=r(j,W);re<S.length;re++)ie=E(W,j,re,S[re],A),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?re:ie.key),b=s(ie,b,re),K===null?z=ie:K.sibling=ie,K=ie);return t&&W.forEach(function(Me){return e(j,Me)}),Ne&&yr(j,re),z}function U(j,b,S,A){var z=Xi(S);if(typeof z!="function")throw Error(H(150));if(S=z.call(S),S==null)throw Error(H(151));for(var K=z=null,W=b,re=b=0,ie=null,oe=S.next();W!==null&&!oe.done;re++,oe=S.next()){W.index>re?(ie=W,W=null):ie=W.sibling;var Me=y(j,W,oe.value,A);if(Me===null){W===null&&(W=ie);break}t&&W&&Me.alternate===null&&e(j,W),b=s(Me,b,re),K===null?z=Me:K.sibling=Me,K=Me,W=ie}if(oe.done)return n(j,W),Ne&&yr(j,re),z;if(W===null){for(;!oe.done;re++,oe=S.next())oe=g(j,oe.value,A),oe!==null&&(b=s(oe,b,re),K===null?z=oe:K.sibling=oe,K=oe);return Ne&&yr(j,re),z}for(W=r(j,W);!oe.done;re++,oe=S.next())oe=E(W,j,re,oe.value,A),oe!==null&&(t&&oe.alternate!==null&&W.delete(oe.key===null?re:oe.key),b=s(oe,b,re),K===null?z=oe:K.sibling=oe,K=oe);return t&&W.forEach(function(xt){return e(j,xt)}),Ne&&yr(j,re),z}function q(j,b,S,A){if(typeof S=="object"&&S!==null&&S.type===si&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:e:{for(var z=S.key,K=b;K!==null;){if(K.key===z){if(z=S.type,z===si){if(K.tag===7){n(j,K.sibling),b=i(K,S.props.children),b.return=j,j=b;break e}}else if(K.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ln&&zf(z)===K.type){n(j,K.sibling),b=i(K,S.props),b.ref=rs(j,K,S),b.return=j,j=b;break e}n(j,K);break}else e(j,K);K=K.sibling}S.type===si?(b=Pr(S.props.children,j.mode,A,S.key),b.return=j,j=b):(A=ra(S.type,S.key,S.props,null,j.mode,A),A.ref=rs(j,b,S),A.return=j,j=A)}return a(j);case ii:e:{for(K=S.key;b!==null;){if(b.key===K)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(j,b.sibling),b=i(b,S.children||[]),b.return=j,j=b;break e}else{n(j,b);break}else e(j,b);b=b.sibling}b=ou(S,j.mode,A),b.return=j,j=b}return a(j);case Ln:return K=S._init,q(j,b,K(S._payload),A)}if(us(S))return N(j,b,S,A);if(Xi(S))return U(j,b,S,A);Uo(j,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(j,b.sibling),b=i(b,S),b.return=j,j=b):(n(j,b),b=su(S,j.mode,A),b.return=j,j=b),a(j)):n(j,b)}return q}var ji=Jp(!0),Yp=Jp(!1),ya=tr(null),wa=null,hi=null,qc=null;function Wc(){qc=hi=wa=null}function Vc(t){var e=ya.current;Pe(ya),t._currentValue=e}function Vu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _i(t,e){wa=t,qc=hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(qc!==t)if(t={context:t,memoizedValue:e,next:null},hi===null){if(wa===null)throw Error(H(308));hi=t,wa.dependencies={lanes:0,firstContext:t}}else hi=hi.next=t;return e}var Er=null;function Hc(t){Er===null?Er=[t]:Er.push(t)}function Xp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hc(e)):(n.next=i.next,i.next=n),e.interleaved=n,_n(t,r)}function _n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Un=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_n(t,n)}return i=r.interleaved,i===null?(e.next=e,Hc(r)):(e.next=i.next,i.next=e),r.interleaved=e,_n(t,n)}function Yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rc(t,n)}}function Mf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _a(t,e,n,r){var i=t.updateQueue;Un=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,p=d.next;d.next=null,a===null?s=p:a.next=p,a=d;var v=t.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==a&&(u===null?v.firstBaseUpdate=p:u.next=p,v.lastBaseUpdate=d))}if(s!==null){var g=i.baseState;a=0,v=p=d=null,u=s;do{var y=u.lane,E=u.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var N=t,U=u;switch(y=e,E=n,U.tag){case 1:if(N=U.payload,typeof N=="function"){g=N.call(E,g,y);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=U.payload,y=typeof N=="function"?N.call(E,g,y):N,y==null)break e;g=Ie({},g,y);break e;case 2:Un=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else E={eventTime:E,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(p=v=E,d=g):v=v.next=E,a|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(v===null&&(d=g),i.baseState=d,i.firstBaseUpdate=p,i.lastBaseUpdate=v,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ir|=a,t.lanes=a,t.memoizedState=g}}function Ff(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Gs={},on=tr(Gs),$s=tr(Gs),Ls=tr(Gs);function jr(t){if(t===Gs)throw Error(H(174));return t}function Qc(t,e){switch(Ee(Ls,e),Ee($s,t),Ee(on,Gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ju(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ju(e,t)}Pe(on),Ee(on,e)}function Ci(){Pe(on),Pe($s),Pe(Ls)}function em(t){jr(Ls.current);var e=jr(on.current),n=ju(e,t.type);e!==n&&(Ee($s,t),Ee(on,n))}function Jc(t){$s.current===t&&(Pe(on),Pe($s))}var Ae=tr(0);function ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zl=[];function Yc(){for(var t=0;t<Zl.length;t++)Zl[t]._workInProgressVersionPrimary=null;Zl.length=0}var Xo=kn.ReactCurrentDispatcher,eu=kn.ReactCurrentBatchConfig,Rr=0,Re=null,He=null,Ye=null,ka=!1,ys=!1,Us=0,e0=0;function ot(){throw Error(H(321))}function Xc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function Zc(t,e,n,r,i,s){if(Rr=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=t===null||t.memoizedState===null?i0:s0,t=n(r,i),ys){s=0;do{if(ys=!1,Us=0,25<=s)throw Error(H(301));s+=1,Ye=He=null,e.updateQueue=null,Xo.current=o0,t=n(r,i)}while(ys)}if(Xo.current=Sa,e=He!==null&&He.next!==null,Rr=0,Ye=He=Re=null,ka=!1,e)throw Error(H(300));return t}function ed(){var t=Us!==0;return Us=0,t}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function zt(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ye===null?Re.memoizedState:Ye.next;if(e!==null)Ye=e,He=t;else{if(t===null)throw Error(H(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function zs(t,e){return typeof e=="function"?e(t):e}function tu(t){var e=zt(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,d=null,p=s;do{var v=p.lane;if((Rr&v)===v)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var g={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(u=d=g,a=r):d=d.next=g,Re.lanes|=v,Ir|=v}p=p.next}while(p!==null&&p!==s);d===null?a=r:d.next=u,Qt(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nu(t){var e=zt(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Qt(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tm(){}function nm(t,e){var n=Re,r=zt(),i=e(),s=!Qt(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,td(sm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Ms(9,im.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(H(349));Rr&30||rm(n,e,i)}return i}function rm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function im(t,e,n,r){e.value=n,e.getSnapshot=r,om(e)&&am(t)}function sm(t,e,n){return n(function(){om(e)&&am(t)})}function om(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function am(t){var e=_n(t,1);e!==null&&Gt(e,t,1,-1)}function Bf(t){var e=tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},e.queue=t,t=t.dispatch=r0.bind(null,Re,t),[e.memoizedState,t]}function Ms(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lm(){return zt().memoizedState}function Zo(t,e,n,r){var i=tn();Re.flags|=t,i.memoizedState=Ms(1|e,n,void 0,r===void 0?null:r)}function Ma(t,e,n,r){var i=zt();r=r===void 0?null:r;var s=void 0;if(He!==null){var a=He.memoizedState;if(s=a.destroy,r!==null&&Xc(r,a.deps)){i.memoizedState=Ms(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Ms(1|e,n,s,r)}function Kf(t,e){return Zo(8390656,8,t,e)}function td(t,e){return Ma(2048,8,t,e)}function um(t,e){return Ma(4,2,t,e)}function cm(t,e){return Ma(4,4,t,e)}function dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fm(t,e,n){return n=n!=null?n.concat([t]):null,Ma(4,4,dm.bind(null,e,t),n)}function nd(){}function hm(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pm(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mm(t,e,n){return Rr&21?(Qt(n,e)||(n=_p(),Re.lanes|=n,Ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function t0(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=eu.transition;eu.transition={};try{t(!1),e()}finally{ke=n,eu.transition=r}}function vm(){return zt().memoizedState}function n0(t,e,n){var r=Jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(t))ym(e,n);else if(n=Xp(t,e,n,r),n!==null){var i=ft();Gt(n,t,r,i),wm(n,e,r)}}function r0(t,e,n){var r=Jn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(t))ym(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Qt(u,a)){var d=e.interleaved;d===null?(i.next=i,Hc(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}n=Xp(t,e,i,r),n!==null&&(i=ft(),Gt(n,t,r,i),wm(n,e,r))}}function gm(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function ym(t,e){ys=ka=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rc(t,n)}}var Sa={readContext:Ut,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},i0={readContext:Ut,useCallback:function(t,e){return tn().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Kf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zo(4194308,4,dm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zo(4,2,t,e)},useMemo:function(t,e){var n=tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=n0.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=tn();return t={current:t},e.memoizedState=t},useState:Bf,useDebugValue:nd,useDeferredValue:function(t){return tn().memoizedState=t},useTransition:function(){var t=Bf(!1),e=t[0];return t=t0.bind(null,t[1]),tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=tn();if(Ne){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Xe===null)throw Error(H(349));Rr&30||rm(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Kf(sm.bind(null,r,s,t),[t]),r.flags|=2048,Ms(9,im.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tn(),e=Xe.identifierPrefix;if(Ne){var n=mn,r=pn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s0={readContext:Ut,useCallback:hm,useContext:Ut,useEffect:td,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:tu,useRef:lm,useState:function(){return tu(zs)},useDebugValue:nd,useDeferredValue:function(t){var e=zt();return mm(e,He.memoizedState,t)},useTransition:function(){var t=tu(zs)[0],e=zt().memoizedState;return[t,e]},useMutableSource:tm,useSyncExternalStore:nm,useId:vm,unstable_isNewReconciler:!1},o0={readContext:Ut,useCallback:hm,useContext:Ut,useEffect:td,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:nu,useRef:lm,useState:function(){return nu(zs)},useDebugValue:nd,useDeferredValue:function(t){var e=zt();return He===null?e.memoizedState=t:mm(e,He.memoizedState,t)},useTransition:function(){var t=nu(zs)[0],e=zt().memoizedState;return[t,e]},useMutableSource:tm,useSyncExternalStore:nm,useId:vm,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fa={isMounted:function(t){return(t=t._reactInternals)?Lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Jn(t),s=gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Gn(t,s,i),e!==null&&(Gt(e,t,i,r),Yo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Jn(t),s=gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gn(t,s,i),e!==null&&(Gt(e,t,i,r),Yo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=Jn(t),i=gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gn(t,i,r),e!==null&&(Gt(e,t,r,n),Yo(e,t,r))}};function qf(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!As(n,r)||!As(i,s):!0}function _m(t,e,n){var r=!1,i=Zn,s=e.contextType;return typeof s=="object"&&s!==null?s=Ut(s):(i=bt(e)?Nr:ut.current,r=e.contextTypes,s=(r=r!=null)?xi(t,i):Zn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fa.enqueueReplaceState(e,e.state,null)}function Gu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ut(s):(s=bt(e)?Nr:ut.current,i.context=xi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fa.enqueueReplaceState(i,i.state,null),_a(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,e){try{var n="",r=e;do n+=Ig(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ru(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function bm(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ea||(Ea=!0,sc=r),Qu(t,e)},n}function km(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qu(t,e),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Vf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b0.bind(null,t,e,n),e.then(t,t))}function Hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,Gn(n,e,1))),n.lanes|=1),t)}var l0=kn.ReactCurrentOwner,wt=!1;function dt(t,e,n,r){e.child=t===null?Yp(e,null,n,r):ji(e,t.child,n,r)}function Qf(t,e,n,r,i){n=n.render;var s=e.ref;return _i(e,i),r=Zc(t,e,n,r,s,i),n=ed(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(Ne&&n&&Fc(e),e.flags|=1,dt(t,e,r,i),e.child)}function Jf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sm(t,e,s,r,i)):(t=ra(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(a,r)&&t.ref===e.ref)return bn(t,e,i)}return e.flags|=1,t=Yn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(As(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,bn(t,e,i)}return Ju(t,e,n,r,i)}function xm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(mi,Ct),Ct|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(mi,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(mi,Ct),Ct|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(mi,Ct),Ct|=r;return dt(t,e,i,n),e.child}function Em(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ju(t,e,n,r,i){var s=bt(n)?Nr:ut.current;return s=xi(e,s),_i(e,i),n=Zc(t,e,n,r,s,i),r=ed(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(Ne&&r&&Fc(e),e.flags|=1,dt(t,e,n,i),e.child)}function Yf(t,e,n,r,i){if(bt(n)){var s=!0;ma(e)}else s=!1;if(_i(e,i),e.stateNode===null)ea(t,e),_m(e,n,r),Gu(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var d=a.context,p=n.contextType;typeof p=="object"&&p!==null?p=Ut(p):(p=bt(n)?Nr:ut.current,p=xi(e,p));var v=n.getDerivedStateFromProps,g=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||d!==p)&&Wf(e,a,r,p),Un=!1;var y=e.memoizedState;a.state=y,_a(e,r,a,i),d=e.memoizedState,u!==r||y!==d||_t.current||Un?(typeof v=="function"&&(Hu(e,n,v,r),d=e.memoizedState),(u=Un||qf(e,n,u,r,y,d,p))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=p,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Zp(t,e),u=e.memoizedProps,p=e.type===e.elementType?u:Kt(e.type,u),a.props=p,g=e.pendingProps,y=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ut(d):(d=bt(n)?Nr:ut.current,d=xi(e,d));var E=n.getDerivedStateFromProps;(v=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||y!==d)&&Wf(e,a,r,d),Un=!1,y=e.memoizedState,a.state=y,_a(e,r,a,i);var N=e.memoizedState;u!==g||y!==N||_t.current||Un?(typeof E=="function"&&(Hu(e,n,E,r),N=e.memoizedState),(p=Un||qf(e,n,p,r,y,N,d)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),a.props=r,a.state=N,a.context=d,r=p):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Yu(t,e,n,r,s,i)}function Yu(t,e,n,r,i,s){Em(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&$f(e,n,!1),bn(t,e,s);r=e.stateNode,l0.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ji(e,t.child,null,s),e.child=ji(e,null,u,s)):dt(t,e,u,s),e.memoizedState=r.state,i&&$f(e,n,!0),e.child}function jm(t){var e=t.stateNode;e.pendingContext?Df(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Df(t,e.context,!1),Qc(t,e.containerInfo)}function Xf(t,e,n,r,i){return Ei(),Kc(i),e.flags|=256,dt(t,e,n,r),e.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cm(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Ae,i&1),t===null)return Wu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=qa(a,r,0,null),t=Pr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zu(n),e.memoizedState=Xu,t):rd(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return u0(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Yn(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Yn(u,s):(s=Pr(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Zu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Xu,r}return s=t.child,t=s.sibling,r=Yn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rd(t,e){return e=qa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zo(t,e,n,r){return r!==null&&Kc(r),ji(e,t.child,null,n),t=rd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u0(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=ru(Error(H(422))),zo(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qa({mode:"visible",children:r.children},i,0,null),s=Pr(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ji(e,t.child,null,a),e.child.memoizedState=Zu(a),e.memoizedState=Xu,s);if(!(e.mode&1))return zo(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(H(419)),r=ru(s,r,void 0),zo(t,e,a,r)}if(u=(a&t.childLanes)!==0,wt||u){if(r=Xe,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_n(t,i),Gt(r,t,i,-1))}return ud(),r=ru(Error(H(421))),zo(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ot=Hn(i.nextSibling),Pt=e,Ne=!0,Vt=null,t!==null&&(It[Dt++]=pn,It[Dt++]=mn,It[Dt++]=Ar,pn=t.id,mn=t.overflow,Ar=e),e=rd(e,r.children),e.flags|=4096,e)}function Zf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vu(t.return,e,n)}function iu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Om(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zf(t,n,e);else if(t.tag===19)Zf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ba(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ba(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iu(e,!0,n,null,s);break;case"together":iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ea(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Yn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function c0(t,e,n){switch(e.tag){case 3:jm(e),Ei();break;case 5:em(e);break;case 1:bt(e.type)&&ma(e);break;case 4:Qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(ya,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?Cm(t,e,n):(Ee(Ae,Ae.current&1),t=bn(t,e,n),t!==null?t.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Om(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,xm(t,e,n)}return bn(t,e,n)}var Pm,ec,Tm,Nm;Pm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};Tm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jr(on.current);var s=null;switch(n){case"input":i=ku(t,i),r=ku(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Eu(t,i),r=Eu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ha)}Cu(n,r);var a;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Es.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var d=r[p];if(u=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&d!==u&&(d!=null||u!=null))if(p==="style")if(u){for(a in u)!u.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&u[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(s||(s=[]),s.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Es.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Oe("scroll",t),s||u===d||(s=[])):(s=s||[]).push(p,d))}n&&(s=s||[]).push("style",n);var p=s;(e.updateQueue=p)&&(e.flags|=4)}};Nm=function(t,e,n,r){n!==r&&(e.flags|=4)};function is(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d0(t,e,n){var r=e.pendingProps;switch(Bc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return bt(e.type)&&pa(),at(e),null;case 3:return r=e.stateNode,Ci(),Pe(_t),Pe(ut),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vt!==null&&(lc(Vt),Vt=null))),ec(t,e),at(e),null;case 5:Jc(e);var i=jr(Ls.current);if(n=e.type,t!==null&&e.stateNode!=null)Tm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return at(e),null}if(t=jr(on.current),Lo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rn]=e,r[Ds]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<ds.length;i++)Oe(ds[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":lf(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":cf(r,s),Oe("invalid",r)}Cu(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,u,t),i=["children",""+u]):Es.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Oo(r),uf(r,s,!0);break;case"textarea":Oo(r),df(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ha)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rn]=e,t[Ds]=r,Pm(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ou(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ds.length;i++)Oe(ds[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":lf(t,r),i=ku(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":cf(t,r),i=Eu(t,r),Oe("invalid",t);break;default:i=r}Cu(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?lp(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&op(t,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&js(t,d):typeof d=="number"&&js(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Es.hasOwnProperty(s)?d!=null&&s==="onScroll"&&Oe("scroll",t):d!=null&&Cc(t,s,d,a))}switch(n){case"input":Oo(t),uf(t,r,!1);break;case"textarea":Oo(t),df(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vi(t,!!r.multiple,s,!1):r.defaultValue!=null&&vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)Nm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=jr(Ls.current),jr(on.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[rn]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:$o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=e,e.stateNode=r}return at(e),null;case 13:if(Pe(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Ot!==null&&e.mode&1&&!(e.flags&128))Qp(),Ei(),e.flags|=98560,s=!1;else if(s=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[rn]=e}else Ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else Vt!==null&&(lc(Vt),Vt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ge===0&&(Ge=3):ud())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Ci(),ec(t,e),t===null&&Rs(e.stateNode.containerInfo),at(e),null;case 10:return Vc(e.type._context),at(e),null;case 17:return bt(e.type)&&pa(),at(e),null;case 19:if(Pe(Ae),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)is(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ba(t),a!==null){for(e.flags|=128,is(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Pi&&(e.flags|=128,r=!0,is(s,!1),e.lanes=4194304)}else{if(!r)if(t=ba(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ne)return at(e),null}else 2*ze()-s.renderingStartTime>Pi&&n!==1073741824&&(e.flags|=128,r=!0,is(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Ae.current,Ee(Ae,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return ld(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ct&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function f0(t,e){switch(Bc(e),e.tag){case 1:return bt(e.type)&&pa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(),Pe(_t),Pe(ut),Yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jc(e),null;case 13:if(Pe(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ae),null;case 4:return Ci(),null;case 10:return Vc(e.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var Mo=!1,lt=!1,h0=typeof WeakSet=="function"?WeakSet:Set,se=null;function pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function tc(t,e,n){try{n()}catch(r){$e(t,e,r)}}var eh=!1;function p0(t,e){if(Uu=ca,t=$p(),Mc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,d=-1,p=0,v=0,g=t,y=null;t:for(;;){for(var E;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(d=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(E=g.firstChild)!==null;)y=g,g=E;for(;;){if(g===t)break t;if(y===n&&++p===i&&(u=a),y===s&&++v===r&&(d=a),(E=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=E}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:t,selectionRange:n},ca=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var U=N.memoizedProps,q=N.memoizedState,j=e.stateNode,b=j.getSnapshotBeforeUpdate(e.elementType===e.type?U:Kt(e.type,U),q);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(A){$e(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return N=eh,eh=!1,N}function ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tc(e,n,s)}i=i.next}while(i!==r)}}function Ba(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Am(t){var e=t.alternate;e!==null&&(t.alternate=null,Am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Ds],delete e[Bu],delete e[Jy],delete e[Yy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rm(t){return t.tag===5||t.tag===3||t.tag===4}function th(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ha));else if(r!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}var et=null,qt=!1;function Rn(t,e,n){for(n=n.child;n!==null;)Im(t,e,n),n=n.sibling}function Im(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ia,n)}catch{}switch(n.tag){case 5:lt||pi(n,e);case 6:var r=et,i=qt;et=null,Rn(t,e,n),et=r,qt=i,et!==null&&(qt?(t=et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(qt?(t=et,n=n.stateNode,t.nodeType===8?Yl(t.parentNode,n):t.nodeType===1&&Yl(t,n),Ts(t)):Yl(et,n.stateNode));break;case 4:r=et,i=qt,et=n.stateNode.containerInfo,qt=!0,Rn(t,e,n),et=r,qt=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&tc(n,e,a),i=i.next}while(i!==r)}Rn(t,e,n);break;case 1:if(!lt&&(pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){$e(n,e,u)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Rn(t,e,n),lt=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function nh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new h0),e.forEach(function(r){var i=S0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:et=u.stateNode,qt=!1;break e;case 3:et=u.stateNode.containerInfo,qt=!0;break e;case 4:et=u.stateNode.containerInfo,qt=!0;break e}u=u.return}if(et===null)throw Error(H(160));Im(s,a,i),et=null,qt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(p){$e(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dm(e,t),e=e.sibling}function Dm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),en(t),r&4){try{ws(3,t,t.return),Ba(3,t)}catch(U){$e(t,t.return,U)}try{ws(5,t,t.return)}catch(U){$e(t,t.return,U)}}break;case 1:Ft(e,t),en(t),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Ft(e,t),en(t),r&512&&n!==null&&pi(n,n.return),t.flags&32){var i=t.stateNode;try{js(i,"")}catch(U){$e(t,t.return,U)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&rp(i,s),Ou(u,a);var p=Ou(u,s);for(a=0;a<d.length;a+=2){var v=d[a],g=d[a+1];v==="style"?lp(i,g):v==="dangerouslySetInnerHTML"?op(i,g):v==="children"?js(i,g):Cc(i,v,g,p)}switch(u){case"input":Su(i,s);break;case"textarea":ip(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?vi(i,!!s.multiple,E,!1):y!==!!s.multiple&&(s.defaultValue!=null?vi(i,!!s.multiple,s.defaultValue,!0):vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ds]=s}catch(U){$e(t,t.return,U)}}break;case 6:if(Ft(e,t),en(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(U){$e(t,t.return,U)}}break;case 3:if(Ft(e,t),en(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(U){$e(t,t.return,U)}break;case 4:Ft(e,t),en(t);break;case 13:Ft(e,t),en(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(od=ze())),r&4&&nh(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(p=lt)||v,Ft(e,t),lt=p):Ft(e,t),en(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!v&&t.mode&1)for(se=t,v=t.child;v!==null;){for(g=se=v;se!==null;){switch(y=se,E=y.child,y.tag){case 0:case 11:case 14:case 15:ws(4,y,y.return);break;case 1:pi(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(U){$e(r,n,U)}}break;case 5:pi(y,y.return);break;case 22:if(y.memoizedState!==null){ih(g);continue}}E!==null?(E.return=y,se=E):ih(g)}v=v.sibling}e:for(v=null,g=t;;){if(g.tag===5){if(v===null){v=g;try{i=g.stateNode,p?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=ap("display",a))}catch(U){$e(t,t.return,U)}}}else if(g.tag===6){if(v===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(U){$e(t,t.return,U)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ft(e,t),en(t),r&4&&nh(t);break;case 21:break;default:Ft(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rm(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var s=th(t);ic(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=th(t);rc(t,u,a);break;default:throw Error(H(161))}}catch(d){$e(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m0(t,e,n){se=t,$m(t)}function $m(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Mo;if(!a){var u=i.alternate,d=u!==null&&u.memoizedState!==null||lt;u=Mo;var p=lt;if(Mo=a,(lt=d)&&!p)for(se=i;se!==null;)a=se,d=a.child,a.tag===22&&a.memoizedState!==null?sh(i):d!==null?(d.return=a,se=d):sh(i);for(;s!==null;)se=s,$m(s),s=s.sibling;se=i,Mo=u,lt=p}rh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):rh(t)}}function rh(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Ba(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ff(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ff(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var g=v.dehydrated;g!==null&&Ts(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}lt||e.flags&512&&nc(e)}catch(y){$e(e,e.return,y)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function ih(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function sh(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ba(4,e)}catch(d){$e(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(d){$e(e,i,d)}}var s=e.return;try{nc(e)}catch(d){$e(e,s,d)}break;case 5:var a=e.return;try{nc(e)}catch(d){$e(e,a,d)}}}catch(d){$e(e,e.return,d)}if(e===t){se=null;break}var u=e.sibling;if(u!==null){u.return=e.return,se=u;break}se=e.return}}var v0=Math.ceil,xa=kn.ReactCurrentDispatcher,id=kn.ReactCurrentOwner,Lt=kn.ReactCurrentBatchConfig,_e=0,Xe=null,We=null,tt=0,Ct=0,mi=tr(0),Ge=0,Fs=null,Ir=0,Ka=0,sd=0,_s=null,gt=null,od=0,Pi=1/0,cn=null,Ea=!1,sc=null,Qn=null,Fo=!1,Kn=null,ja=0,bs=0,oc=null,ta=-1,na=0;function ft(){return _e&6?ze():ta!==-1?ta:ta=ze()}function Jn(t){return t.mode&1?_e&2&&tt!==0?tt&-tt:Zy.transition!==null?(na===0&&(na=_p()),na):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Cp(t.type)),t):1}function Gt(t,e,n,r){if(50<bs)throw bs=0,oc=null,Error(H(185));Ws(t,n,r),(!(_e&2)||t!==Xe)&&(t===Xe&&(!(_e&2)&&(Ka|=n),Ge===4&&Mn(t,tt)),kt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Pi=ze()+500,za&&nr()))}function kt(t,e){var n=t.callbackNode;Zg(t,e);var r=ua(t,t===Xe?tt:0);if(r===0)n!==null&&pf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pf(n),e===1)t.tag===0?Xy(oh.bind(null,t)):Vp(oh.bind(null,t)),Gy(function(){!(_e&6)&&nr()}),n=null;else{switch(bp(r)){case 1:n=Ac;break;case 4:n=yp;break;case 16:n=la;break;case 536870912:n=wp;break;default:n=la}n=qm(n,Lm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lm(t,e){if(ta=-1,na=0,_e&6)throw Error(H(327));var n=t.callbackNode;if(bi()&&t.callbackNode!==n)return null;var r=ua(t,t===Xe?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ca(t,r);else{e=r;var i=_e;_e|=2;var s=zm();(Xe!==t||tt!==e)&&(cn=null,Pi=ze()+500,Or(t,e));do try{w0();break}catch(u){Um(t,u)}while(!0);Wc(),xa.current=s,_e=i,We!==null?e=0:(Xe=null,tt=0,e=Ge)}if(e!==0){if(e===2&&(i=Ru(t),i!==0&&(r=i,e=ac(t,i))),e===1)throw n=Fs,Or(t,0),Mn(t,r),kt(t,ze()),n;if(e===6)Mn(t,r);else{if(i=t.current.alternate,!(r&30)&&!g0(i)&&(e=Ca(t,r),e===2&&(s=Ru(t),s!==0&&(r=s,e=ac(t,s))),e===1))throw n=Fs,Or(t,0),Mn(t,r),kt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:wr(t,gt,cn);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=od+500-ze(),10<e)){if(ua(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fu(wr.bind(null,t,gt,cn),e);break}wr(t,gt,cn);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ht(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v0(r/1960))-r,10<r){t.timeoutHandle=Fu(wr.bind(null,t,gt,cn),r);break}wr(t,gt,cn);break;case 5:wr(t,gt,cn);break;default:throw Error(H(329))}}}return kt(t,ze()),t.callbackNode===n?Lm.bind(null,t):null}function ac(t,e){var n=_s;return t.current.memoizedState.isDehydrated&&(Or(t,e).flags|=256),t=Ca(t,e),t!==2&&(e=gt,gt=n,e!==null&&lc(e)),t}function lc(t){gt===null?gt=t:gt.push.apply(gt,t)}function g0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~sd,e&=~Ka,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ht(e),r=1<<n;t[n]=-1,e&=~r}}function oh(t){if(_e&6)throw Error(H(327));bi();var e=ua(t,0);if(!(e&1))return kt(t,ze()),null;var n=Ca(t,e);if(t.tag!==0&&n===2){var r=Ru(t);r!==0&&(e=r,n=ac(t,r))}if(n===1)throw n=Fs,Or(t,0),Mn(t,e),kt(t,ze()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wr(t,gt,cn),kt(t,ze()),null}function ad(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Pi=ze()+500,za&&nr())}}function Dr(t){Kn!==null&&Kn.tag===0&&!(_e&6)&&bi();var e=_e;_e|=1;var n=Lt.transition,r=ke;try{if(Lt.transition=null,ke=1,t)return t()}finally{ke=r,Lt.transition=n,_e=e,!(_e&6)&&nr()}}function ld(){Ct=mi.current,Pe(mi)}function Or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Hy(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Bc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pa();break;case 3:Ci(),Pe(_t),Pe(ut),Yc();break;case 5:Jc(r);break;case 4:Ci();break;case 13:Pe(Ae);break;case 19:Pe(Ae);break;case 10:Vc(r.type._context);break;case 22:case 23:ld()}n=n.return}if(Xe=t,We=t=Yn(t.current,null),tt=Ct=e,Ge=0,Fs=null,sd=Ka=Ir=0,gt=_s=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Er=null}return t}function Um(t,e){do{var n=We;try{if(Wc(),Xo.current=Sa,ka){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ka=!1}if(Rr=0,Ye=He=Re=null,ys=!1,Us=0,id.current=null,n===null||n.return===null){Ge=1,Fs=e,We=null;break}e:{var s=t,a=n.return,u=n,d=e;if(e=tt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,v=u,g=v.tag;if(!(v.mode&1)&&(g===0||g===11||g===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=Hf(a);if(E!==null){E.flags&=-257,Gf(E,a,u,s,e),E.mode&1&&Vf(s,p,e),e=E,d=p;var N=e.updateQueue;if(N===null){var U=new Set;U.add(d),e.updateQueue=U}else N.add(d);break e}else{if(!(e&1)){Vf(s,p,e),ud();break e}d=Error(H(426))}}else if(Ne&&u.mode&1){var q=Hf(a);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Gf(q,a,u,s,e),Kc(Oi(d,u));break e}}s=d=Oi(d,u),Ge!==4&&(Ge=2),_s===null?_s=[s]:_s.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var j=bm(s,d,e);Mf(s,j);break e;case 1:u=d;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qn===null||!Qn.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=km(s,u,e);Mf(s,A);break e}}s=s.return}while(s!==null)}Fm(n)}catch(z){e=z,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function zm(){var t=xa.current;return xa.current=Sa,t===null?Sa:t}function ud(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||!(Ir&268435455)&&!(Ka&268435455)||Mn(Xe,tt)}function Ca(t,e){var n=_e;_e|=2;var r=zm();(Xe!==t||tt!==e)&&(cn=null,Or(t,e));do try{y0();break}catch(i){Um(t,i)}while(!0);if(Wc(),_e=n,xa.current=r,We!==null)throw Error(H(261));return Xe=null,tt=0,Ge}function y0(){for(;We!==null;)Mm(We)}function w0(){for(;We!==null&&!qg();)Mm(We)}function Mm(t){var e=Km(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?Fm(t):We=e,id.current=null}function Fm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f0(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,We=null;return}}else if(n=d0(n,e,Ct),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ge===0&&(Ge=5)}function wr(t,e,n){var r=ke,i=Lt.transition;try{Lt.transition=null,ke=1,_0(t,e,n,r)}finally{Lt.transition=i,ke=r}return null}function _0(t,e,n,r){do bi();while(Kn!==null);if(_e&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ey(t,s),t===Xe&&(We=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fo||(Fo=!0,qm(la,function(){return bi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lt.transition,Lt.transition=null;var a=ke;ke=1;var u=_e;_e|=4,id.current=null,p0(t,n),Dm(n,t),My(zu),ca=!!Uu,zu=Uu=null,t.current=n,m0(n),Wg(),_e=u,ke=a,Lt.transition=s}else t.current=n;if(Fo&&(Fo=!1,Kn=t,ja=i),s=t.pendingLanes,s===0&&(Qn=null),Gg(n.stateNode),kt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ea)throw Ea=!1,t=sc,sc=null,t;return ja&1&&t.tag!==0&&bi(),s=t.pendingLanes,s&1?t===oc?bs++:(bs=0,oc=t):bs=0,nr(),null}function bi(){if(Kn!==null){var t=bp(ja),e=Lt.transition,n=ke;try{if(Lt.transition=null,ke=16>t?16:t,Kn===null)var r=!1;else{if(t=Kn,Kn=null,ja=0,_e&6)throw Error(H(331));var i=_e;for(_e|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var p=u[d];for(se=p;se!==null;){var v=se;switch(v.tag){case 0:case 11:case 15:ws(8,v,s)}var g=v.child;if(g!==null)g.return=v,se=g;else for(;se!==null;){v=se;var y=v.sibling,E=v.return;if(Am(v),v===p){se=null;break}if(y!==null){y.return=E,se=y;break}se=E}}}var N=s.alternate;if(N!==null){var U=N.child;if(U!==null){N.child=null;do{var q=U.sibling;U.sibling=null,U=q}while(U!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ws(9,s,s.return)}var j=s.sibling;if(j!==null){j.return=s.return,se=j;break e}se=s.return}}var b=t.current;for(se=b;se!==null;){a=se;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,se=S;else e:for(a=b;se!==null;){if(u=se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ba(9,u)}}catch(z){$e(u,u.return,z)}if(u===a){se=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,se=A;break e}se=u.return}}if(_e=i,nr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ia,t)}catch{}r=!0}return r}finally{ke=n,Lt.transition=e}}return!1}function ah(t,e,n){e=Oi(n,e),e=bm(t,e,1),t=Gn(t,e,1),e=ft(),t!==null&&(Ws(t,1,e),kt(t,e))}function $e(t,e,n){if(t.tag===3)ah(t,t,n);else for(;e!==null;){if(e.tag===3){ah(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){t=Oi(n,t),t=km(e,t,1),e=Gn(e,t,1),t=ft(),e!==null&&(Ws(e,1,t),kt(e,t));break}}e=e.return}}function b0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(tt&n)===n&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>ze()-od?Or(t,0):sd|=n),kt(t,e)}function Bm(t,e){e===0&&(t.mode&1?(e=No,No<<=1,!(No&130023424)&&(No=4194304)):e=1);var n=ft();t=_n(t,e),t!==null&&(Ws(t,e,n),kt(t,n))}function k0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bm(t,n)}function S0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Bm(t,n)}var Km;Km=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,c0(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Ne&&e.flags&1048576&&Hp(e,ga,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ea(t,e),t=e.pendingProps;var i=xi(e,ut.current);_i(e,n),i=Zc(null,e,r,t,i,n);var s=ed();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,ma(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gc(e),i.updater=Fa,e.stateNode=i,i._reactInternals=e,Gu(e,r,t,n),e=Yu(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&Fc(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ea(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E0(r),t=Kt(r,t),i){case 0:e=Ju(null,e,r,t,n);break e;case 1:e=Yf(null,e,r,t,n);break e;case 11:e=Qf(null,e,r,t,n);break e;case 14:e=Jf(null,e,r,Kt(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Ju(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Yf(t,e,r,i,n);case 3:e:{if(jm(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zp(t,e),_a(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oi(Error(H(423)),e),e=Xf(t,e,r,n,i);break e}else if(r!==i){i=Oi(Error(H(424)),e),e=Xf(t,e,r,n,i);break e}else for(Ot=Hn(e.stateNode.containerInfo.firstChild),Pt=e,Ne=!0,Vt=null,n=Yp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ei(),r===i){e=bn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return em(e),t===null&&Wu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Mu(r,i)?a=null:s!==null&&Mu(r,s)&&(e.flags|=32),Em(t,e),dt(t,e,a,n),e.child;case 6:return t===null&&Wu(e),null;case 13:return Cm(t,e,n);case 4:return Qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ji(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Qf(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ee(ya,r._currentValue),r._currentValue=a,s!==null)if(Qt(s.value,a)){if(s.children===i.children&&!_t.current){e=bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=gn(-1,n&-n),d.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?d.next=d:(d.next=v.next,v.next=d),p.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),Vu(s.return,n,e),u.lanes|=n;break}d=d.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(H(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Vu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_i(e,n),i=Ut(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),Jf(t,e,r,i,n);case 15:return Sm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),ea(t,e),e.tag=1,bt(r)?(t=!0,ma(e)):t=!1,_i(e,n),_m(e,r,i),Gu(e,r,i,n),Yu(null,e,r,!0,t,n);case 19:return Om(t,e,n);case 22:return xm(t,e,n)}throw Error(H(156,e.tag))};function qm(t,e){return gp(t,e)}function x0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new x0(t,e,n,r)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E0(t){if(typeof t=="function")return cd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pc)return 11;if(t===Tc)return 14}return 2}function Yn(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ra(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")cd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case si:return Pr(n.children,i,s,e);case Oc:a=8,i|=8;break;case yu:return t=$t(12,n,e,i|2),t.elementType=yu,t.lanes=s,t;case wu:return t=$t(13,n,e,i),t.elementType=wu,t.lanes=s,t;case _u:return t=$t(19,n,e,i),t.elementType=_u,t.lanes=s,t;case ep:return qa(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xh:a=10;break e;case Zh:a=9;break e;case Pc:a=11;break e;case Tc:a=14;break e;case Ln:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=$t(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pr(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function qa(t,e,n,r){return t=$t(22,t,r,e),t.elementType=ep,t.lanes=n,t.stateNode={isHidden:!1},t}function su(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function ou(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dd(t,e,n,r,i,s,a,u,d){return t=new j0(t,e,n,u,d),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(s),t}function C0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wm(t){if(!t)return Zn;t=t._reactInternals;e:{if(Lr(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(bt(n))return Wp(t,n,e)}return e}function Vm(t,e,n,r,i,s,a,u,d){return t=dd(n,r,!0,t,i,s,a,u,d),t.context=Wm(null),n=t.current,r=ft(),i=Jn(n),s=gn(r,i),s.callback=e??null,Gn(n,s,i),t.current.lanes=i,Ws(t,i,r),kt(t,r),t}function Wa(t,e,n,r){var i=e.current,s=ft(),a=Jn(i);return n=Wm(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gn(i,e,a),t!==null&&(Gt(t,i,a,s),Yo(t,i,a)),a}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fd(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function O0(){return null}var Hm=typeof reportError=="function"?reportError:function(t){console.error(t)};function hd(t){this._internalRoot=t}Va.prototype.render=hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Wa(t,e,null,null)};Va.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dr(function(){Wa(null,t,null,null)}),e[wn]=null}};function Va(t){this._internalRoot=t}Va.prototype.unstable_scheduleHydration=function(t){if(t){var e=xp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&jp(t)}};function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uh(){}function P0(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var p=Oa(a);s.call(p)}}var a=Vm(e,r,t,0,null,!1,!1,"",uh);return t._reactRootContainer=a,t[wn]=a.current,Rs(t.nodeType===8?t.parentNode:t),Dr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var p=Oa(d);u.call(p)}}var d=dd(t,0,!1,null,null,!1,!1,"",uh);return t._reactRootContainer=d,t[wn]=d.current,Rs(t.nodeType===8?t.parentNode:t),Dr(function(){Wa(e,d,n,r)}),d}function Ga(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var d=Oa(a);u.call(d)}}Wa(e,a,t,i)}else a=P0(n,e,t,i,r);return Oa(a)}kp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cs(e.pendingLanes);n!==0&&(Rc(e,n|1),kt(e,ze()),!(_e&6)&&(Pi=ze()+500,nr()))}break;case 13:Dr(function(){var r=_n(t,1);if(r!==null){var i=ft();Gt(r,t,1,i)}}),fd(t,1)}};Ic=function(t){if(t.tag===13){var e=_n(t,134217728);if(e!==null){var n=ft();Gt(e,t,134217728,n)}fd(t,134217728)}};Sp=function(t){if(t.tag===13){var e=Jn(t),n=_n(t,e);if(n!==null){var r=ft();Gt(n,t,e,r)}fd(t,e)}};xp=function(){return ke};Ep=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Tu=function(t,e,n){switch(e){case"input":if(Su(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ua(r);if(!i)throw Error(H(90));np(r),Su(r,i)}}}break;case"textarea":ip(t,n);break;case"select":e=n.value,e!=null&&vi(t,!!n.multiple,e,!1)}};dp=ad;fp=Dr;var T0={usingClientEntryPoint:!1,Events:[Hs,ui,Ua,up,cp,ad]},ss={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N0={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mp(t),t===null?null:t.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||O0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Ia=Bo.inject(N0),sn=Bo}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T0;Nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(e))throw Error(H(200));return C0(t,e,null,n)};Nt.createRoot=function(t,e){if(!pd(t))throw Error(H(299));var n=!1,r="",i=Hm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dd(t,1,!1,null,null,n,!1,r,i),t[wn]=e.current,Rs(t.nodeType===8?t.parentNode:t),new hd(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=mp(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return Dr(t)};Nt.hydrate=function(t,e,n){if(!Ha(e))throw Error(H(200));return Ga(null,t,e,!0,n)};Nt.hydrateRoot=function(t,e,n){if(!pd(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Hm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Vm(e,null,t,1,n??null,i,!1,s,a),t[wn]=e.current,Rs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Va(e)};Nt.render=function(t,e,n){if(!Ha(e))throw Error(H(200));return Ga(null,t,e,!1,n)};Nt.unmountComponentAtNode=function(t){if(!Ha(t))throw Error(H(40));return t._reactRootContainer?(Dr(function(){Ga(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1};Nt.unstable_batchedUpdates=ad;Nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ha(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Ga(t,e,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(t){console.error(t)}}Gm(),Gh.exports=Nt;var A0=Gh.exports,Qm,ch=A0;Qm=ch.createRoot,ch.hydrateRoot;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dh=t=>{const e=I0(t);return e.charAt(0).toUpperCase()+e.slice(1)},Jm=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),D0=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ve.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},d)=>ve.createElement("svg",{ref:d,...$0,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Jm("lucide",i),...!s&&!D0(u)&&{"aria-hidden":"true"},...u},[...a.map(([p,v])=>ve.createElement(p,v)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(t,e)=>{const n=ve.forwardRef(({className:r,...i},s)=>ve.createElement(L0,{ref:s,iconNode:e,className:Jm(`lucide-${R0(dh(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dh(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],z0=Sn("calculator",U0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F0=Sn("chevron-down",M0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],K0=Sn("chevron-right",B0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W0=Sn("clipboard-list",q0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],H0=Sn("hammer",V0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Q0=Sn("moon",G0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Y0=Sn("sun",J0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Z0=Sn("trending-up",X0);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],tw=Sn("wrench",ew),nw="modulepreload",rw=function(t,e){return new URL(t,e).href},fh={},Qs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(p=>{if(p=rw(p,r),p in fh)return;fh[p]=!0;const v=p.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(!!r)for(let N=a.length-1;N>=0;N--){const U=a[N];if(U.href===p&&(!v||U.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${g}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":nw,v||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((N,U)=>{E.addEventListener("load",N),E.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},iw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class md extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class hh extends md{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ph extends md{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mh extends md{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uc||(uc={}));var sw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};class ow{constructor(e,{headers:n={},customFetch:r,region:i=uc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return sw(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:a,body:u,signal:d}=r;let p={},{region:v}=r;v||(v=this.region);const g=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)));const E=yield this.fetch(g.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:y,signal:d}).catch(j=>{throw j.name==="AbortError"?j:new hh(j)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new ph(E);if(!E.ok)throw new mh(E);let U=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),q;return U==="application/json"?q=yield E.json():U==="application/octet-stream"?q=yield E.blob():U==="text/event-stream"?q=E:U==="multipart/form-data"?q=yield E.formData():q=yield E.text(),{data:q,error:null,response:E}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new hh(s)}:{data:null,error:s,response:s instanceof mh||s instanceof ph?s.context:void 0}}})}}var yt={},vd={},Qa={},Js={},Ja={},Ya={},aw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=aw();const lw=Ti.fetch,Ym=Ti.fetch.bind(Ti),Xm=Ti.Headers,uw=Ti.Request,cw=Ti.Response,Di=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xm,Request:uw,Response:cw,default:Ym,fetch:lw},Symbol.toStringTag,{value:"Module"})),dw=og(Di);var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});let fw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xa.default=fw;var Zm=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ya,"__esModule",{value:!0});const hw=Zm(dw),pw=Zm(Xa);let mw=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,u,d,p;let v=null,g=null,y=null,E=s.status,N=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?g=b:g=JSON.parse(b))}const q=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");q&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,E=406,N="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const q=await s.text();try{v=JSON.parse(q),Array.isArray(v)&&s.status===404&&(g=[],v=null,E=200,N="OK")}catch{s.status===404&&q===""?(E=204,N="No Content"):v={message:q}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,E=200,N="OK"),v&&this.shouldThrowOnError)throw new pw.default(v)}return{error:v,data:g,count:y,status:E,statusText:N}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,u,d;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=s==null?void 0:s.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ya.default=mw;var vw=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0});const gw=vw(Ya);let yw=class extends gw.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var u;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${p}"; options=${d};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ja.default=yw;var ww=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const _w=ww(Ja);let bw=class extends _w.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Js.default=bw;var kw=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});const os=kw(Js);let Sw=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new os.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new os.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var a;const u="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(d.length>0){const p=[...new Set(d)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new os.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new os.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new os.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Qa.default=Sw;var ev=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vd,"__esModule",{value:!0});const xw=ev(Qa),Ew=ev(Js);let jw=class tv{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new xw.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new tv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let u;const d=new URL(`${this.url}/rpc/${e}`);let p;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{d.searchParams.append(g,y)})):(u="POST",p=n);const v=new Headers(this.headers);return s&&v.set("Prefer",`count=${s}`),new Ew.default({method:u,url:d,headers:v,schema:this.schemaName,body:p,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};vd.default=jw;var $i=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const nv=$i(vd);yt.PostgrestClient=nv.default;const rv=$i(Qa);yt.PostgrestQueryBuilder=rv.default;const iv=$i(Js);yt.PostgrestFilterBuilder=iv.default;const sv=$i(Ja);yt.PostgrestTransformBuilder=sv.default;const ov=$i(Ya);yt.PostgrestBuilder=ov.default;const av=$i(Xa);yt.PostgrestError=av.default;var Cw=yt.default={PostgrestClient:nv.default,PostgrestQueryBuilder:rv.default,PostgrestFilterBuilder:iv.default,PostgrestTransformBuilder:sv.default,PostgrestBuilder:ov.default,PostgrestError:av.default};const{PostgrestClient:Ow,PostgrestQueryBuilder:hk,PostgrestFilterBuilder:pk,PostgrestTransformBuilder:mk,PostgrestBuilder:vk,PostgrestError:gk}=Cw;class Pw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tw="2.75.0",Nw=`realtime-js/${Tw}`,Aw="1.0.0",cc=1e4,Rw=1e3,Iw=100;var ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ks||(ks={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var Wt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wt||(Wt={}));var dc;(function(t){t.websocket="websocket"})(dc||(dc={}));var kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kr||(kr={}));class Dw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const u=r.decode(e.slice(a,a+i));a=a+i;const d=r.decode(e.slice(a,a+s));a=a+s;const p=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:u,event:d,payload:p}}}class lv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xe||(xe={}));const vh=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=$w(a,t,e,i),s),{}):{}},$w=(t,e,n,r)=>{const i=e.find(u=>u.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?uv(s,a):fc(a)},uv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Mw(e,n)}switch(t){case xe.bool:return Lw(e);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Uw(e);case xe.json:case xe.jsonb:return zw(e);case xe.timestamp:return Fw(e);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return fc(e);default:return fc(e)}},fc=t=>t,Lw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Uw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(u=>uv(e,u))}return t},Fw=t=>typeof t=="string"?t.replace(" ","T"):t,cv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class au{constructor(e,n,r={},i=cc){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gh||(gh={}));class Ss{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,i,s,a),this.pendingDiffs.forEach(d=>{this.state=Ss.syncDiff(this.state,d,s,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ss.syncDiff(this.state,i,s,a),u())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),u={},d={};return this.map(s,(p,v)=>{a[p]||(d[p]=v)}),this.map(a,(p,v)=>{const g=s[p];if(g){const y=v.map(q=>q.presence_ref),E=g.map(q=>q.presence_ref),N=v.filter(q=>E.indexOf(q.presence_ref)<0),U=g.filter(q=>y.indexOf(q.presence_ref)<0);N.length>0&&(u[p]=N),U.length>0&&(d[p]=U)}else u[p]=v}),this.syncDiff(s,{joins:u,leaves:d},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var p;const v=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(d),v.length>0){const g=e[u].map(E=>E.presence_ref),y=v.filter(E=>g.indexOf(E.presence_ref)<0);e[u].unshift(...y)}r(u,v,d)}),this.map(a,(u,d)=>{let p=e[u];if(!p)return;const v=d.map(g=>g.presence_ref);p=p.filter(g=>v.indexOf(g.presence_ref)<0),e[u]=p,i(u,p,d),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yh||(yh={}));var xs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xs||(xs={}));var dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class gd{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new au(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Ss(this),this.broadcastEndpointURL=cv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:a,presence:u,private:d}}=this.params,p=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:v}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(dn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket.setAuth(),E===void 0){e==null||e(dn.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,q=(N=U==null?void 0:U.length)!==null&&N!==void 0?N:0,j=[];for(let b=0;b<q;b++){const S=U[b],{filter:{event:A,schema:z,table:K,filter:W}}=S,re=E&&E[b];if(re&&re.event===A&&re.schema===z&&re.table===K&&re.filter===W)j.push(Object.assign(Object.assign({},S),{id:re.id}));else{this.unsubscribe(),this.state=Ve.errored,e==null||e(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(dn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Ve.errored,e==null||e(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ve.joined&&e===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,u,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),p.receive("ok",()=>s("ok")),p.receive("error",()=>s("error")),p.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new au(this,Wt.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new au(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Iw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:u,error:d,leave:p,join:v}=Wt;if(r&&[u,d,p,v].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(E=>{var N,U,q;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((q=(U=E.filter)===null||U===void 0?void 0:U.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===a}).map(E=>E.callback(y,r)):(s=this.bindings[a])===null||s===void 0||s.filter(E=>{var N,U,q,j,b,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in E){const A=E.id,z=(N=E.filter)===null||N===void 0?void 0:N.event;return A&&((U=n.ids)===null||U===void 0?void 0:U.includes(A))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((q=n.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const A=(b=(j=E==null?void 0:E.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===a}).map(E=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:U,table:q,commit_timestamp:j,type:b,errors:S}=N;y=Object.assign(Object.assign({},{schema:U,table:q,commit_timestamp:j,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(N))}E.callback(y,r)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&gd.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wt.close,{},e)}_onError(e){this._on(Wt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vh(e.columns,e.old_record)),n}}const lu=()=>{},Ko={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bw=[1e3,2e3,5e3,1e4],Kw=1e4,qw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ww{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cc,this.transport=null,this.heartbeatIntervalMs=Ko.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lu,this.ref=0,this.reconnectTimer=null,this.logger=lu,this.conn=null,this.sendBuffer=[],this.serializer=new Dw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Qs(async()=>{const{default:u}=await Promise.resolve().then(()=>Di);return{default:u}},void 0,import.meta.url).then(({default:u})=>u(...a)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${dc.websocket}`,this.httpEndpoint=cv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Aw}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return kr.Connecting;case ks.open:return kr.Open;case ks.closing:return kr.Closing;default:return kr.Closed}}isConnected(){return this.connectionState()===kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new gd(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Rw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ko.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,u=a?`(${a})`:"",d=s.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),s),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([qw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Nw};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Wt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ko.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,u,d,p,v;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:cc,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ko.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:lu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:g=>Bw[g-1]||Kw,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(g,y)=>y(JSON.stringify(g)),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vw extends yd{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hc extends yd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Hw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};const dv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Gw=()=>Hw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qs(()=>Promise.resolve().then(()=>Di),void 0,import.meta.url)).Response:Response}),pc=t=>{if(Array.isArray(t))return t.map(n=>pc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pc(r)}),e},Qw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ur=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};const uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jw=(t,e,n)=>Ur(void 0,void 0,void 0,function*(){const r=yield Gw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new Vw(uu(i),s,a))}).catch(i=>{e(new hc(uu(i),i))}):e(new hc(uu(t),t))}),Yw=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Qw(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Ys(t,e,n,r,i,s){return Ur(this,void 0,void 0,function*(){return new Promise((a,u)=>{t(n,Yw(e,r,i,s)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>Jw(d,u,r))})})}function Pa(t,e,n,r){return Ur(this,void 0,void 0,function*(){return Ys(t,"GET",e,n,r)})}function nn(t,e,n,r,i){return Ur(this,void 0,void 0,function*(){return Ys(t,"POST",e,r,i,n)})}function mc(t,e,n,r,i){return Ur(this,void 0,void 0,function*(){return Ys(t,"PUT",e,r,i,n)})}function Xw(t,e,n,r){return Ur(this,void 0,void 0,function*(){return Ys(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fv(t,e,n,r,i){return Ur(this,void 0,void 0,function*(){return Ys(t,"DELETE",e,r,i,n)})}var Zw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};class e_{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Zw(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}var t_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};class n_{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new e_(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return t_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}var vt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};const r_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i_{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=dv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return vt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},wh),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),g=yield(e=="PUT"?mc:nn)(this.fetch,`${this.url}/object/${v}`,s,Object.assign({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}upload(e,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return vt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${a}`);u.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:wh.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const g=yield mc(this.fetch,u.toString(),d,{headers:v});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),u=a.searchParams.get("token");if(!u)throw new yd("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}update(e,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vt(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}copy(e,n,r){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield nn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return vt(this,void 0,void 0,function*(){try{const i=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",u=this._getFinalPath(e),d=()=>Pa(this.fetch,`${this.url}/${i}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new n_(d,this.shouldThrowOnError)}info(e){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Pa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}exists(e){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Xw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r)&&r instanceof hc){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(e){return vt(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}list(e,n,r){return vt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},r_),n),{prefix:e||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}listV2(e,n){return vt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const s_="2.75.0",o_={"X-Client-Info":`storage-js/${s_}`};var Qr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};class a_{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),n),this.fetch=dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qr(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}getBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}createBucket(e){return Qr(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield mc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Qr(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}class l_ extends a_{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new i_(this.url,this.headers,e,this.fetch)}}const u_="2.75.0";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const c_={"X-Client-Info":`supabase-js-${fs}/${u_}`},d_={headers:c_},f_={schema:"public"},h_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};var m_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};const v_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ym:e=fetch,(...n)=>e(...n)},g_=()=>typeof Headers>"u"?Xm:Headers,y_=(t,e,n)=>{const r=v_(n),i=g_();return(s,a)=>m_(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:t;let p=new i(a==null?void 0:a.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(s,Object.assign(Object.assign({},a),{headers:p}))})};var w_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};function __(t){return t.endsWith("/")?t:t+"/"}function b_(t,e){var n,r;const{db:i,auth:s,realtime:a,global:u}=t,{db:d,auth:p,realtime:v,global:g}=e,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},p),s),realtime:Object.assign(Object.assign({},v),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>w_(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function k_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(__(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hv="2.75.0",ni=30*1e3,vc=3,cu=vc*ni,S_="http://localhost:9999",x_="supabase.auth.token",E_={"X-Client-Info":`gotrue-js/${hv}`},gc="X-Supabase-Api-Version",pv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C_=10*60*1e3;class Bs extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class O_ extends Bs{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P_(t){return ue(t)&&t.name==="AuthApiError"}class Sr extends Bs{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class rr extends Bs{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $n extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T_(t){return ue(t)&&t.name==="AuthSessionMissingError"}class Jr extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends rr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wo extends rr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class _h extends rr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yc extends rr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function du(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class bh extends rr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wc extends rr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kh=` 	
\r=`.split(""),A_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kh.length;e+=1)t[kh[e].charCodeAt(0)]=-2;for(let e=0;e<Ta.length;e+=1)t[Ta[e].charCodeAt(0)]=e;return t})();function Sh(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ta[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ta[r]),e.queuedBits-=6}}function mv(t,e,n){const r=A_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xh(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{D_(a,r,n)};for(let a=0;a<t.length;a+=1)mv(t.charCodeAt(a),i,s);return e.join("")}function R_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I_(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}R_(r,e)}}function D_(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ki(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)mv(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $_(t){const e=[];return I_(t,n=>e.push(n)),new Uint8Array(e)}function Cr(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Sh(i,n,r)),Sh(null,n,r),e.join("")}function L_(t){return Math.round(Date.now()/1e3)+t}function U_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},vv=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function z_(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const gv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},M_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ri=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},gr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},In=async(t,e)=>{await t.removeItem(e)};class Za{constructor(){this.promise=new Za.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Za.promiseConstructor=Promise;function fu(t){const e=t.split(".");if(e.length!==3)throw new wc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!j_.test(e[r]))throw new wc("JWT not in base64url format");return{header:JSON.parse(xh(e[0])),payload:JSON.parse(xh(e[1])),signature:ki(e[2]),raw:{header:e[0],payload:e[1]}}}async function F_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B_(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function K_(t){return("0"+t.toString(16)).substr(-2)}function q_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,K_).join("")}async function W_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function V_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await W_(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(t,e,n=!1){const r=q_();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ri(t,`${e}-code-verifier`,i);const s=await V_(r);return[s,r===s?"plain":"s256"]}const H_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G_(t){const e=t.headers.get(gc);if(!e||!e.match(H_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Q_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function J_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xr(t){if(!Y_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Eh(t){return JSON.parse(JSON.stringify(t))}var X_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z_=[502,503,504];async function jh(t){var e;if(!M_(t))throw new yc(_r(t),0);if(Z_.includes(t.status))throw new yc(_r(t),t.status);let n;try{n=await t.json()}catch(s){throw new Sr(_r(s),s)}let r;const i=G_(t);if(i&&i.getTime()>=pv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bh(_r(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $n}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new bh(_r(n),t.status,n.weak_password.reasons);throw new O_(_r(n),t.status||500,r)}const eb=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function pe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[gc]||(s[gc]=pv["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await tb(t,e,n+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function tb(t,e,n,r,i,s){const a=eb(e,r,i,s);let u;try{u=await t(n,Object.assign({},a))}catch(d){throw console.error(d),new yc(_r(d),0)}if(u.ok||await jh(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await jh(d)}}function Bt(t){var e;let n=null;ib(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=L_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ch(t){const e=Bt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nb(t){return{data:t,error:null}}function rb(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=X_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},d=Object.assign({},a);return{data:{properties:u,user:d},error:null}}function Oh(t){return t}function ib(t){return t.access_token&&t.refresh_token&&t.expires_in}const pu=["global","local","others"];var sb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class ob{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pu[0]){if(pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pu.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=sb(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,u,d;try{const p={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Oh});if(v.error)throw v.error;const g=await v.json(),y=(a=v.headers.get("x-total-count"))!==null&&a!==void 0?a:0,E=(d=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return E.length>0&&(E.forEach(N=>{const U=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(N.split(";")[1].split("=")[1]);p[`${q}Page`]=U}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Xr(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xr(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Xr(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Xr(e.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xr(e.userId),Xr(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,u,d;try{const p={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Oh});if(v.error)throw v.error;const g=await v.json(),y=(a=v.headers.get("x-total-count"))!==null&&a!==void 0?a:0,E=(d=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return E.length>0&&(E.forEach(N=>{const U=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(N.split(";")[1].split("=")[1]);p[`${q}Page`]=U}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(ue(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Ph(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Zr={debug:!!(globalThis&&vv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ab extends yv{}async function lb(t,e,n){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ab(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ub(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cb(t){return parseInt(t,16)}function db(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function fb(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:u,requestId:d,resources:p,scheme:v,uri:g,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=wv(t.address),N=v?`${v}://${r}`:r,U=t.statement?`${t.statement}
`:"",q=`${N} wants you to sign in with your Ethereum account:
${E}

${U}`;let j=`URI: ${g}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),p){let b=`
Resources:`;for(const S of p){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}j+=b}return`${q}
${j}`}class Ke extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Na extends Ke{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function hb({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(bv(a)){if(s.rp.id!==a)return new Ke({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(bv(r)){if(n.rpId!==r)return new Ke({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var _v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class mb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vb=new mb;function gb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=_v(t,["challenge","user","excludeCredentials"]),s=ki(e).buffer,a=Object.assign(Object.assign({},n),{id:ki(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const p=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:ki(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function yb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=_v(t,["challenge","allowCredentials"]),i=ki(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},u),{id:ki(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function wb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _b(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cr(new Uint8Array(i.authenticatorData)),clientDataJSON:Cr(new Uint8Array(i.clientDataJSON)),signature:Cr(new Uint8Array(i.signature)),userHandle:i.userHandle?Cr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Th(){var t,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function bb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Na("Browser returned unexpected credential type",e)}:{data:null,error:new Na("Empty credential response",e)}}catch(e){return{data:null,error:hb({error:e,options:t})}}}async function kb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Na("Browser returned unexpected credential type",e)}:{data:null,error:new Na("Empty credential response",e)}}catch(e){return{data:null,error:pb({error:e,options:t})}}}const Sb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xb={userVerification:"preferred",hints:["security-key"]};function Aa(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const u=r[s];e(u)?r[s]=Aa(u,a):r[s]=Aa(a)}else r[s]=a}return r}function Eb(t,e){return Aa(Sb,t,e||{})}function jb(t,e){return Aa(xb,t,e||{})}class Cb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:u};const d=i??vb.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:p}=a.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(a.webauthn.type){case"create":{const p=Eb(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:v,error:g}=await bb({publicKey:p,signal:d});return v?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}case"request":{const p=jb(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:v,error:g}=await kb(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:p,signal:d}));return v?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}}}catch(a){return ue(a)?{data:null,error:a}:{data:null,error:new Sr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn authentication")};try{if(!Th())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:u};const{webauthn:d}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return ue(a)?{data:null,error:a}:{data:null,error:new Sr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn registration")};try{if(!Th())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(v=>{var g;return(g=v.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:u};const{data:d,error:p}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(a){return ue(a)?{data:null,error:a}:{data:null,error:new Sr("Unexpected error in register",a)}}}}ub();const Ob={url:S_,storageKey:x_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nh(t,e,n){return await n()}const ei={};class Ks{get jwks(){var e,n;return(n=(e=ei[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ei[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ob),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ob({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gv(i.fetch),this.lock=i.lock||Nh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:jt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lb:this.lock=Nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cb(this)},this.persistSession?(i.storage?this.storage=i.storage:vv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ph(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=z_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),jt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),N_(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new Sr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bt}),{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};const d=a.session,p=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:v,password:g,options:y}=e;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await Yr(this.storage,this.storageKey)),s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:v,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:E,code_challenge_method:N},xform:Bt})}else if("phone"in e){const{phone:v,password:g,options:y}=e;s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Bt})}else throw new qo("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};const d=a.session,p=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:u}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ch})}else if("phone"in e){const{phone:s,password:a,options:u}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ch})}else throw new qo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Jr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,u,d,p,v,g,y;let E,N;if("message"in e)E=e.message,N=e.signature;else{const{chain:U,wallet:q,statement:j,options:b}=e;let S;if(jt())if(typeof q=="object")S=q;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")S=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=q}const A=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),z=await S.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=wv(z[0]);let W=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const ie=await S.request({method:"eth_chainId"});W=cb(ie)}const re={domain:A.host,address:K,statement:j,uri:A.href,version:"1",chainId:W,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=b==null?void 0:b.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=b==null?void 0:b.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=fb(re),N=await S.request({method:"personal_sign",params:[db(E),K]})}try{const{data:U,error:q}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:N},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Bt});if(q)throw q;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new Jr}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:q})}catch(U){if(ue(U))return{data:{user:null,session:null},error:U};throw U}}async signInWithSolana(e){var n,r,i,s,a,u,d,p,v,g,y,E;let N,U;if("message"in e)N=e.message,U=e.signature;else{const{chain:q,wallet:j,statement:b,options:S}=e;let A;if(jt())if(typeof j=="object")A=j;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))A=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const z=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const K=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),b?{statement:b}:null));let W;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")W=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)W=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)N=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),U=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${z.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S==null?void 0:S.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(v=S==null?void 0:S.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const K=await A.signMessage(new TextEncoder().encode(N),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=K}}try{const{data:q,error:j}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Cr(U)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Bt});if(j)throw j;return!q||!q.session||!q.user?{data:{user:null,session:null},error:new Jr}:(q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),{data:Object.assign({},q),error:j})}catch(q){if(ue(q))return{data:{user:null,session:null},error:q};throw q}}async _exchangeCodeForSession(e){const n=await gr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bt});if(await In(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Jr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,u=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bt}),{data:d,error:p}=u;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Jr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:u,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Yr(this.storage,this.storageKey));const{error:g}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:u,options:d}=e,{data:p,error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new qo("You must provide either an email or phone number.")}catch(u){if(ue(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Bt});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,p=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Yr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:nb})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $n;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:u}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u}}throw new qo("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<cu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await gr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hu()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,v)=>(!a&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,v))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fn}):await this._useSession(async n=>{var r,i,s;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fn})})}catch(n){if(ue(n))return T_(n)&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $n;const a=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Yr(this.storage,this.storageKey));const{data:p,error:v}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:a.access_token,xform:Fn});if(v)throw v;return a.user=p.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $n;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=fu(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:u}=n;if(u)throw u;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $n;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!jt())throw new Wo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _h("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:u,expires_at:d,token_type:p}=e;if(!s||!u||!a||!p)throw new Wo("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(u);let y=v+g;d&&(y=parseInt(d));const E=y-v;E*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${g}s`);const N=y-g;v-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,v):v-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,v);const{data:U,error:q}=await this._getUser(s);if(q)throw q;const j={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:y,refresh_token:a,token_type:p,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,e);if(u&&!(P_(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=U_(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Yr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,u,d,p,v;const{data:g,error:y}=s;if(y)throw y;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return jt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:u,token:d,access_token:p,nonce:v}=e,g=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bt}),{data:y,error:E}=g;return E?{data:{user:null,session:null},error:E}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Jr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:E})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B_(async i=>(i>0&&await F_(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&du(s)&&Date.now()+a-r<ni})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),jt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await gr(this.storage,this.storageKey);if(i&&this.userStorage){let a=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ri(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hu()}else if(i&&!i.user&&!i.user){const a=await gr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await In(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,i)):i.user=hu()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${cu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),du(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(i.access_token);!u&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Za;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new $n;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),ue(s)){const a={data:null,error:s};return du(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){s.push(d)}});if(await Promise.all(a),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ri(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Eh(i);await ri(this.storage,this.storageKey,s)}else{const i=Eh(n);await ri(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await In(this.storage,this.storageKey),await In(this.storage,this.storageKey+"-code-verifier"),await In(this.storage,this.storageKey+"-user"),this.userStorage&&await In(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ni}ms, refresh threshold is ${vc} ticks`),i<=vc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Yr(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wb(e.webauthn.credential_response):_b(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:gb(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:yb(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fu(i.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const v=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+C_>i)return r;const{data:s,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:E,error:N}=await this.getSession();if(N||!E.session)return{data:null,error:N};r=E.session.access_token}const{header:i,payload:s,signature:a,raw:{header:u,payload:d}}=fu(r);n!=null&&n.allowExpired||Q_(s.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:s,header:i,signature:a},error:null}}const v=J_(i.alg),g=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,a,$_(`${u}.${d}`)))throw new wc("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Ks.nextInstanceID=0;const Pb=Ks;class Tb extends Pb{constructor(e){super(e)}}var Nb=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(v){try{p(r.next(v))}catch(g){a(g)}}function d(v){try{p(r.throw(v))}catch(g){a(g)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(t,e||[])).next())})};class Ab{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const u=k_(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:f_,realtime:p_,auth:Object.assign(Object.assign({},h_),{storageKey:d}),global:d_},v=b_(r??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=v.auth)!==null&&a!==void 0?a:{},this.headers,v.global.fetch),this.fetch=y_(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Ow(new URL("rest/v1",u).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new l_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new ow(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Nb(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:u,lock:d,debug:p},v,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tb({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),v),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:u,lock:d,debug:p,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ww(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rb=(t,e,n)=>new Ab(t,e,n);function Ib(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ib()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kv=Rb(`https://dzazapfzfuonyuvslhgk.supabase.co
`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR6YXphcGZ6ZnVvbnl1dnNsaGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNDA3NzAsImV4cCI6MjA3NTYxNjc3MH0.wSVO93VzKwC3Tvwwh-1yCDb1gV0Kw5ava5iBGYfD_j0
`);var Sv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(St,function(){var n=function(o,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])})(o,l)},r=function(){return(r=Object.assign||function(o){for(var l,c=1,f=arguments.length;c<f;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o}).apply(this,arguments)};function i(o,l,c){for(var f,h=0,m=l.length;h<m;h++)!f&&h in l||((f=f||Array.prototype.slice.call(l,0,h))[h]=l[h]);return o.concat(f||Array.prototype.slice.call(l))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:St,a=Object.keys,u=Array.isArray;function d(o,l){return typeof l!="object"||a(l).forEach(function(c){o[c]=l[c]}),o}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var p=Object.getPrototypeOf,v={}.hasOwnProperty;function g(o,l){return v.call(o,l)}function y(o,l){typeof l=="function"&&(l=l(p(o))),(typeof Reflect>"u"?a:Reflect.ownKeys)(l).forEach(function(c){N(o,c,l[c])})}var E=Object.defineProperty;function N(o,l,c,f){E(o,l,d(c&&g(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},f))}function U(o){return{from:function(l){return o.prototype=Object.create(l.prototype),N(o.prototype,"constructor",o),{extend:y.bind(null,o.prototype)}}}}var q=Object.getOwnPropertyDescriptor,j=[].slice;function b(o,l,c){return j.call(o,l,c)}function S(o,l){return l(o)}function A(o){if(!o)throw new Error("Assertion Failed")}function z(o){s.setImmediate?setImmediate(o):setTimeout(o,0)}function K(o,l){if(typeof l=="string"&&g(o,l))return o[l];if(!l)return o;if(typeof l!="string"){for(var c=[],f=0,h=l.length;f<h;++f){var m=K(o,l[f]);c.push(m)}return c}var w=l.indexOf(".");if(w!==-1){var k=o[l.substr(0,w)];return k==null?void 0:K(k,l.substr(w+1))}}function W(o,l,c){if(o&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof l!="string"&&"length"in l){A(typeof c!="string"&&"length"in c);for(var f=0,h=l.length;f<h;++f)W(o,l[f],c[f])}else{var m,w,k=l.indexOf(".");k!==-1?(m=l.substr(0,k),(w=l.substr(k+1))===""?c===void 0?u(o)&&!isNaN(parseInt(m))?o.splice(m,1):delete o[m]:o[m]=c:W(k=!(k=o[m])||!g(o,m)?o[m]={}:k,w,c)):c===void 0?u(o)&&!isNaN(parseInt(l))?o.splice(l,1):delete o[l]:o[l]=c}}function re(o){var l,c={};for(l in o)g(o,l)&&(c[l]=o[l]);return c}var ie=[].concat;function oe(o){return ie.apply([],o)}var or="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(l){return l+o+"Array"})}))).filter(function(o){return s[o]}),Me=new Set(or.map(function(o){return s[o]})),xt=null;function Fe(o){return xt=new WeakMap,o=function l(c){if(!c||typeof c!="object")return c;var f=xt.get(c);if(f)return f;if(u(c)){f=[],xt.set(c,f);for(var h=0,m=c.length;h<m;++h)f.push(l(c[h]))}else if(Me.has(c.constructor))f=c;else{var w,k=p(c);for(w in f=k===Object.prototype?{}:Object.create(k),xt.set(c,f),c)g(c,w)&&(f[w]=l(c[w]))}return f}(o),xt=null,o}var zr={}.toString;function ir(o){return zr.call(o).slice(8,-1)}var an=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Li=typeof an=="symbol"?function(o){var l;return o!=null&&(l=o[an])&&l.apply(o)}:function(){return null};function te(o,l){return l=o.indexOf(l),0<=l&&o.splice(l,1),0<=l}var ce={};function de(o){var l,c,f,h;if(arguments.length===1){if(u(o))return o.slice();if(this===ce&&typeof o=="string")return[o];if(h=Li(o)){for(c=[];!(f=h.next()).done;)c.push(f.value);return c}if(o==null)return[o];if(typeof(l=o.length)!="number")return[o];for(c=new Array(l);l--;)c[l]=o[l];return c}for(l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return c}var je=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Mi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Mi),Be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mt(o,l){this.name=o,this.message=l}function Jt(o,l){return o+". Errors: "+Object.keys(l).map(function(c){return l[c].toString()}).filter(function(c,f,h){return h.indexOf(c)===f}).join(`
`)}function xn(o,l,c,f){this.failures=l,this.failedKeys=f,this.successCount=c,this.message=Jt(o,l)}function mt(o,l){this.name="BulkError",this.failures=Object.keys(l).map(function(c){return l[c]}),this.failuresByPos=l,this.message=Jt(o,this.failures)}U(Mt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),U(xn).from(Mt),U(mt).from(Mt);var En=Rt.reduce(function(o,l){return o[l]=l+"Error",o},{}),Pv=Mt,le=Rt.reduce(function(o,l){var c=l+"Error";function f(h,m){this.name=c,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Be[l]||c,this.inner=null)}return U(f).from(Pv),o[l]=f,o},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var _d=Mi.reduce(function(o,l){return o[l+"Error"]=le[l],o},{}),Xs=Rt.reduce(function(o,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(o[l+"Error"]=le[l]),o},{});function Se(){}function Ui(o){return o}function Tv(o,l){return o==null||o===Ui?l:function(c){return l(o(c))}}function sr(o,l){return function(){o.apply(this,arguments),l.apply(this,arguments)}}function Nv(o,l){return o===Se?l:function(){var c=o.apply(this,arguments);c!==void 0&&(arguments[0]=c);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?sr(f,this.onsuccess):f),h&&(this.onerror=this.onerror?sr(h,this.onerror):h),m!==void 0?m:c}}function Av(o,l){return o===Se?l:function(){o.apply(this,arguments);var c=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?sr(c,this.onsuccess):c),f&&(this.onerror=this.onerror?sr(f,this.onerror):f)}}function Rv(o,l){return o===Se?l:function(c){var f=o.apply(this,arguments);d(c,f);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,c=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?sr(h,this.onsuccess):h),m&&(this.onerror=this.onerror?sr(m,this.onerror):m),f===void 0?c===void 0?void 0:c:d(f,c)}}function Iv(o,l){return o===Se?l:function(){return l.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function el(o,l){return o===Se?l:function(){var c=o.apply(this,arguments);if(c&&typeof c.then=="function"){for(var f=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return c.then(function(){return l.apply(f,m)})}return l.apply(this,arguments)}}Xs.ModifyError=xn,Xs.DexieError=Mt,Xs.BulkError=mt;var Yt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bd(o){Yt=o}var zi={},kd=100,or=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,p(o),o];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,p(l),o]}(),Mi=or[0],Rt=or[1],or=or[2],Rt=Rt&&Rt.then,ar=Mi&&Mi.constructor,tl=!!or,Fi=function(o,l){Bi.push([o,l]),Zs&&(queueMicrotask($v),Zs=!1)},nl=!0,Zs=!0,lr=[],eo=[],rl=Ui,jn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},ae=jn,Bi=[],ur=0,to=[];function ee(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ae;if(typeof o!="function"){if(o!==zi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&sl(this,this._value))}this._state=null,this._value=null,++l.ref,function c(f,h){try{h(function(m){if(f._state===null){if(m===f)throw new TypeError("A promise cannot be resolved with itself.");var w=f._lib&&Mr();m&&typeof m.then=="function"?c(f,function(k,C){m instanceof ee?m._then(k,C):m.then(k,C)}):(f._state=!0,f._value=m,xd(f)),w&&Fr()}},sl.bind(null,f))}catch(m){sl(f,m)}}(this,o)}var il={get:function(){var o=ae,l=so;function c(f,h){var m=this,w=!o.global&&(o!==ae||l!==so),k=w&&!On(),C=new ee(function(P,R){ol(m,new Sd(jd(f,o,w,k),jd(h,o,w,k),P,R,o))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return c.prototype=zi,c},set:function(o){N(this,"then",o&&o.prototype===zi?il:{get:function(){return o},set:il.set})}};function Sd(o,l,c,f,h){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof l=="function"?l:null,this.resolve=c,this.reject=f,this.psd=h}function sl(o,l){var c,f;eo.push(l),o._state===null&&(c=o._lib&&Mr(),l=rl(l),o._state=!1,o._value=l,f=o,lr.some(function(h){return h._value===f._value})||lr.push(f),xd(o),c&&Fr())}function xd(o){var l=o._listeners;o._listeners=[];for(var c=0,f=l.length;c<f;++c)ol(o,l[c]);var h=o._PSD;--h.ref||h.finalize(),ur===0&&(++ur,Fi(function(){--ur==0&&al()},[]))}function ol(o,l){if(o._state!==null){var c=o._state?l.onFulfilled:l.onRejected;if(c===null)return(o._state?l.resolve:l.reject)(o._value);++l.psd.ref,++ur,Fi(Dv,[c,o,l])}else o._listeners.push(l)}function Dv(o,l,c){try{var f,h=l._value;!l._state&&eo.length&&(eo=[]),f=Yt&&l._consoleTask?l._consoleTask.run(function(){return o(h)}):o(h),l._state||eo.indexOf(h)!==-1||function(m){for(var w=lr.length;w;)if(lr[--w]._value===m._value)return lr.splice(w,1)}(l),c.resolve(f)}catch(m){c.reject(m)}finally{--ur==0&&al(),--c.psd.ref||c.psd.finalize()}}function $v(){cr(jn,function(){Mr()&&Fr()})}function Mr(){var o=nl;return Zs=nl=!1,o}function Fr(){var o,l,c;do for(;0<Bi.length;)for(o=Bi,Bi=[],c=o.length,l=0;l<c;++l){var f=o[l];f[0].apply(null,f[1])}while(0<Bi.length);Zs=nl=!0}function al(){var o=lr;lr=[],o.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var l=to.slice(0),c=l.length;c;)l[--c]()}function no(o){return new ee(zi,!1,o)}function Te(o,l){var c=ae;return function(){var f=Mr(),h=ae;try{return Pn(c,!0),o.apply(this,arguments)}catch(m){l&&l(m)}finally{Pn(h,!1),f&&Fr()}}}y(ee.prototype,{then:il,_then:function(o,l){ol(this,new Sd(null,null,o,l,ae))},catch:function(o){if(arguments.length===1)return this.then(null,o);var l=o,c=arguments[1];return typeof l=="function"?this.then(null,function(f){return(f instanceof l?c:no)(f)}):this.then(null,function(f){return(f&&f.name===l?c:no)(f)})},finally:function(o){return this.then(function(l){return ee.resolve(o()).then(function(){return l})},function(l){return ee.resolve(o()).then(function(){return no(l)})})},timeout:function(o,l){var c=this;return o<1/0?new ee(function(f,h){var m=setTimeout(function(){return h(new le.Timeout(l))},o);c.then(f,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),jn.env=Ed(),y(ee,{all:function(){var o=de.apply(null,arguments).map(oo);return new ee(function(l,c){o.length===0&&l([]);var f=o.length;o.forEach(function(h,m){return ee.resolve(h).then(function(w){o[m]=w,--f||l(o)},c)})})},resolve:function(o){return o instanceof ee?o:o&&typeof o.then=="function"?new ee(function(l,c){o.then(l,c)}):new ee(zi,!0,o)},reject:no,race:function(){var o=de.apply(null,arguments).map(oo);return new ee(function(l,c){o.map(function(f){return ee.resolve(f).then(l,c)})})},PSD:{get:function(){return ae},set:function(o){return ae=o}},totalEchoes:{get:function(){return so}},newPSD:Cn,usePSD:cr,scheduler:{get:function(){return Fi},set:function(o){Fi=o}},rejectionMapper:{get:function(){return rl},set:function(o){rl=o}},follow:function(o,l){return new ee(function(c,f){return Cn(function(h,m){var w=ae;w.unhandleds=[],w.onunhandled=m,w.finalize=sr(function(){var k,C=this;k=function(){C.unhandleds.length===0?h():m(C.unhandleds[0])},to.push(function P(){k(),to.splice(to.indexOf(P),1)}),++ur,Fi(function(){--ur==0&&al()},[])},w.finalize),o()},l,c,f)})}}),ar&&(ar.allSettled&&N(ee,"allSettled",function(){var o=de.apply(null,arguments).map(oo);return new ee(function(l){o.length===0&&l([]);var c=o.length,f=new Array(c);o.forEach(function(h,m){return ee.resolve(h).then(function(w){return f[m]={status:"fulfilled",value:w}},function(w){return f[m]={status:"rejected",reason:w}}).then(function(){return--c||l(f)})})})}),ar.any&&typeof AggregateError<"u"&&N(ee,"any",function(){var o=de.apply(null,arguments).map(oo);return new ee(function(l,c){o.length===0&&c(new AggregateError([]));var f=o.length,h=new Array(f);o.forEach(function(m,w){return ee.resolve(m).then(function(k){return l(k)},function(k){h[w]=k,--f||c(new AggregateError(h))})})})}),ar.withResolvers&&(ee.withResolvers=ar.withResolvers));var Qe={awaits:0,echoes:0,id:0},Lv=0,ro=[],io=0,so=0,Uv=0;function Cn(o,l,c,f){var h=ae,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++Uv,jn.env,m.env=tl?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject}:{},l&&d(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},f=cr(m,o,c,f),m.ref===0&&m.finalize(),f}function Br(){return Qe.id||(Qe.id=++Lv),++Qe.awaits,Qe.echoes+=kd,Qe.id}function On(){return!!Qe.awaits&&(--Qe.awaits==0&&(Qe.id=0),Qe.echoes=Qe.awaits*kd,!0)}function oo(o){return Qe.echoes&&o&&o.constructor===ar?(Br(),o.then(function(l){return On(),l},function(l){return On(),Le(l)})):o}function zv(){var o=ro[ro.length-1];ro.pop(),Pn(o,!1)}function Pn(o,l){var c,f=ae;(l?!Qe.echoes||io++&&o===ae:!io||--io&&o===ae)||queueMicrotask(l?(function(h){++so,Qe.echoes&&--Qe.echoes!=0||(Qe.echoes=Qe.awaits=Qe.id=0),ro.push(ae),Pn(h,!0)}).bind(null,o):zv),o!==ae&&(ae=o,f===jn&&(jn.env=Ed()),tl&&(c=jn.env.Promise,l=o.env,(f.global||o.global)&&(Object.defineProperty(s,"Promise",l.PromiseProp),c.all=l.all,c.race=l.race,c.resolve=l.resolve,c.reject=l.reject,l.allSettled&&(c.allSettled=l.allSettled),l.any&&(c.any=l.any))))}function Ed(){var o=s.Promise;return tl?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function cr(o,l,c,f,h){var m=ae;try{return Pn(o,!0),l(c,f,h)}finally{Pn(m,!1)}}function jd(o,l,c,f){return typeof o!="function"?o:function(){var h=ae;c&&Br(),Pn(l,!0);try{return o.apply(this,arguments)}finally{Pn(h,!1),f&&queueMicrotask(On)}}}function ll(o){Promise===ar&&Qe.echoes===0?io===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Rt).indexOf("[native code]")===-1&&(Br=On=Se);var Le=ee.reject,dr="￿",ln="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Cd="String expected.",Kr=[],ao="__dbnames",ul="readonly",cl="readwrite";function fr(o,l){return o?l?function(){return o.apply(this,arguments)&&l.apply(this,arguments)}:o:l}var Od={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lo(o){return typeof o!="string"||/\./.test(o)?function(l){return l}:function(l){return l[o]===void 0&&o in l&&delete(l=Fe(l))[o],l}}function Pd(){throw le.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ye(o,l){try{var c=Td(o),f=Td(l);if(c!==f)return c==="Array"?1:f==="Array"?-1:c==="binary"?1:f==="binary"?-1:c==="string"?1:f==="string"?-1:c==="Date"?1:f!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return l<o?1:o<l?-1:0;case"binary":return function(h,m){for(var w=h.length,k=m.length,C=w<k?w:k,P=0;P<C;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return w===k?0:w<k?-1:1}(Nd(o),Nd(l));case"Array":return function(h,m){for(var w=h.length,k=m.length,C=w<k?w:k,P=0;P<C;++P){var R=ye(h[P],m[P]);if(R!==0)return R}return w===k?0:w<k?-1:1}(o,l)}}catch{}return NaN}function Td(o){var l=typeof o;return l!="object"?l:ArrayBuffer.isView(o)?"binary":(o=ir(o),o==="ArrayBuffer"?"binary":o)}function Nd(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function uo(o,l,c){var f=o.schema.yProps;return f?(l&&0<c.numFailures&&(l=l.filter(function(h,m){return!c.failures[m]})),Promise.all(f.map(function(h){return h=h.updatesTable,l?o.db.table(h).where("k").anyOf(l).delete():o.db.table(h).clear()})).then(function(){return c})):c}var Ad=(Ce.prototype._trans=function(o,l,c){var f=this._tx||ae.trans,h=this.name,m=Yt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function w(P,R,x){if(!x.schema[h])throw new le.NotFound("Table "+h+" not part of transaction");return l(x.idbtrans,x)}var k=Mr();try{var C=f&&f.db._novip===this.db._novip?f===ae.trans?f._promise(o,w,c):Cn(function(){return f._promise(o,w,c)},{trans:f,transless:ae.transless||ae}):function P(R,x,$,O){if(R.idbdb&&(R._state.openComplete||ae.letThrough||R._vip)){var T=R._createTransaction(x,$,R._dbSchema);try{T.create(),R._state.PR1398_maxLoop=3}catch(D){return D.name===En.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,x,$,O)})):Le(D)}return T._promise(x,function(D,I){return Cn(function(){return ae.trans=T,O(D,I,T)})}).then(function(D){if(x==="readwrite")try{T.idbtrans.commit()}catch{}return x==="readonly"?D:T._completion.then(function(){return D})})}if(R._state.openComplete)return Le(new le.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return Le(new le.DatabaseClosed);R.open().catch(Se)}return R._state.dbReadyPromise.then(function(){return P(R,x,$,O)})}(this.db,o,[this.name],w);return m&&(C._consoleTask=m,C=C.catch(function(P){return console.trace(P),Le(P)})),C}finally{k&&Fr()}},Ce.prototype.get=function(o,l){var c=this;return o&&o.constructor===Object?this.where(o).first(l):o==null?Le(new le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return c.core.get({trans:f,key:o}).then(function(h){return c.hook.reading.fire(h)})}).then(l)},Ce.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(u(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var l=a(o);if(l.length===1)return this.where(l[0]).equals(o[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&l.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var C=0;C<l.length;++C)if(l.indexOf(k.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(k,C){return k.keyPath.length-C.keyPath.length})[0];if(c&&this.db._maxKey!==dr){var m=c.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(C){return o[C]}))}!c&&Yt&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var f=this.schema.idxByName;function h(k,C){return ye(k,C)===0}var w=l.reduce(function(x,C){var P=x[0],R=x[1],x=f[C],$=o[C];return[P||x,P||!x?fr(R,x&&x.multi?function(O){return O=K(O,C),u(O)&&O.some(function(T){return h($,T)})}:function(O){return h($,K(O,C))}):R]},[null,null]),m=w[0],w=w[1];return m?this.where(m.name).equals(o[m.keyPath]).filter(w):c?this.filter(w):this.where(l).equals("")},Ce.prototype.filter=function(o){return this.toCollection().and(o)},Ce.prototype.count=function(o){return this.toCollection().count(o)},Ce.prototype.offset=function(o){return this.toCollection().offset(o)},Ce.prototype.limit=function(o){return this.toCollection().limit(o)},Ce.prototype.each=function(o){return this.toCollection().each(o)},Ce.prototype.toArray=function(o){return this.toCollection().toArray(o)},Ce.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ce.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,u(o)?"[".concat(o.join("+"),"]"):o))},Ce.prototype.reverse=function(){return this.toCollection().reverse()},Ce.prototype.mapToClass=function(o){var l,c=this.db,f=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Pd&&(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function R(){this.constructor=C}n(C,P),C.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)}(h,l=o),Object.defineProperty(h.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},o=h);for(var m=new Set,w=o.prototype;w;w=p(w))Object.getOwnPropertyNames(w).forEach(function(C){return m.add(C)});function k(C){if(!C)return C;var P,R=Object.create(o.prototype);for(P in C)if(!m.has(P))try{R[P]=C[P]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),o},Ce.prototype.defineClass=function(){return this.mapToClass(function(o){d(this,o)})},Ce.prototype.add=function(o,l){var c=this,f=this.schema.primKey,h=f.auto,m=f.keyPath,w=o;return m&&h&&(w=lo(m)(o)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"add",keys:l!=null?[l]:null,values:[w]})}).then(function(k){return k.numFailures?ee.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{W(o,m,k)}catch{}return k})},Ce.prototype.update=function(o,l){return typeof o!="object"||u(o)?this.where(":id").equals(o).modify(l):(o=K(o,this.schema.primKey.keyPath),o===void 0?Le(new le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(l))},Ce.prototype.put=function(o,l){var c=this,f=this.schema.primKey,h=f.auto,m=f.keyPath,w=o;return m&&h&&(w=lo(m)(o)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"put",values:[w],keys:l!=null?[l]:null})}).then(function(k){return k.numFailures?ee.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{W(o,m,k)}catch{}return k})},Ce.prototype.delete=function(o){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[o]}).then(function(f){return uo(l,[o],f)}).then(function(f){return f.numFailures?ee.reject(f.failures[0]):void 0})})},Ce.prototype.clear=function(){var o=this;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"deleteRange",range:Od}).then(function(c){return uo(o,null,c)})}).then(function(l){return l.numFailures?ee.reject(l.failures[0]):void 0})},Ce.prototype.bulkGet=function(o){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:o,trans:c}).then(function(f){return f.map(function(h){return l.hook.reading.fire(h)})})})},Ce.prototype.bulkAdd=function(o,l,c){var f=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(w){var P=f.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==o.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var C=o.length,P=P&&k?o.map(lo(P)):o;return f.core.mutate({trans:w,type:"add",keys:h,values:P,wantResults:m}).then(function(T){var x=T.numFailures,$=T.results,O=T.lastResult,T=T.failures;if(x===0)return m?$:O;throw new mt("".concat(f.name,".bulkAdd(): ").concat(x," of ").concat(C," operations failed"),T)})})},Ce.prototype.bulkPut=function(o,l,c){var f=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(w){var P=f.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==o.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var C=o.length,P=P&&k?o.map(lo(P)):o;return f.core.mutate({trans:w,type:"put",keys:h,values:P,wantResults:m}).then(function(T){var x=T.numFailures,$=T.results,O=T.lastResult,T=T.failures;if(x===0)return m?$:O;throw new mt("".concat(f.name,".bulkPut(): ").concat(x," of ").concat(C," operations failed"),T)})})},Ce.prototype.bulkUpdate=function(o){var l=this,c=this.core,f=o.map(function(w){return w.key}),h=o.map(function(w){return w.changes}),m=[];return this._trans("readwrite",function(w){return c.getMany({trans:w,keys:f,cache:"clone"}).then(function(k){var C=[],P=[];o.forEach(function(x,$){var O=x.key,T=x.changes,D=k[$];if(D){for(var I=0,L=Object.keys(T);I<L.length;I++){var M=L[I],F=T[M];if(M===l.schema.primKey.keyPath){if(ye(F,O)!==0)throw new le.Constraint("Cannot update primary key in bulkUpdate()")}else W(D,M,F)}m.push($),C.push(O),P.push(D)}});var R=C.length;return c.mutate({trans:w,type:"put",keys:C,values:P,updates:{keys:f,changeSpecs:h}}).then(function(x){var $=x.numFailures,O=x.failures;if($===0)return R;for(var T=0,D=Object.keys(O);T<D.length;T++){var I,L=D[T],M=m[Number(L)];M!=null&&(I=O[L],delete O[L],O[M]=I)}throw new mt("".concat(l.name,".bulkUpdate(): ").concat($," of ").concat(R," operations failed"),O)})})})},Ce.prototype.bulkDelete=function(o){var l=this,c=o.length;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:o}).then(function(h){return uo(l,o,h)})}).then(function(w){var h=w.numFailures,m=w.lastResult,w=w.failures;if(h===0)return m;throw new mt("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(c," operations failed"),w)})},Ce);function Ce(){}function Ki(o){function l(w,k){if(k){for(var C=arguments.length,P=new Array(C-1);--C;)P[C-1]=arguments[C];return c[w].subscribe.apply(null,P),o}if(typeof w=="string")return c[w]}var c={};l.addEventType=m;for(var f=1,h=arguments.length;f<h;++f)m(arguments[f]);return l;function m(w,k,C){if(typeof w!="object"){var P;k=k||Iv;var R={subscribers:[],fire:C=C||Se,subscribe:function(x){R.subscribers.indexOf(x)===-1&&(R.subscribers.push(x),R.fire=k(R.fire,x))},unsubscribe:function(x){R.subscribers=R.subscribers.filter(function($){return $!==x}),R.fire=R.subscribers.reduce(k,C)}};return c[w]=l[w]=R}a(P=w).forEach(function(x){var $=P[x];if(u($))m(x,P[x][0],P[x][1]);else{if($!=="asap")throw new le.InvalidArgument("Invalid event config");var O=m(x,Ui,function(){for(var T=arguments.length,D=new Array(T);T--;)D[T]=arguments[T];O.subscribers.forEach(function(I){z(function(){I.apply(null,D)})})})}})}}function qi(o,l){return U(l).from({prototype:o}),l}function qr(o,l){return!(o.filter||o.algorithm||o.or)&&(l?o.justLimit:!o.replayFilter)}function dl(o,l){o.filter=fr(o.filter,l)}function fl(o,l,c){var f=o.replayFilter;o.replayFilter=f?function(){return fr(f(),l())}:l,o.justLimit=c&&!f}function co(o,l){if(o.isPrimKey)return l.primaryKey;var c=l.getIndexByKeyPath(o.index);if(!c)throw new le.Schema("KeyPath "+o.index+" on object store "+l.name+" is not indexed");return c}function Rd(o,l,c){var f=co(o,l.schema);return l.openCursor({trans:c,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:f,range:o.range}})}function fo(o,l,c,f){var h=o.replayFilter?fr(o.filter,o.replayFilter()):o.filter;if(o.or){var m={},w=function(k,C,P){var R,x;h&&!h(C,P,function($){return C.stop($)},function($){return C.fail($)})||((x=""+(R=C.primaryKey))=="[object ArrayBuffer]"&&(x=""+new Uint8Array(R)),g(m,x)||(m[x]=!0,l(k,C,P)))};return Promise.all([o.or._iterate(w,c),Id(Rd(o,f,c),o.algorithm,w,!o.keysOnly&&o.valueMapper)])}return Id(Rd(o,f,c),fr(o.algorithm,h),l,!o.keysOnly&&o.valueMapper)}function Id(o,l,c,f){var h=Te(f?function(m,w,k){return c(f(m),w,k)}:c);return o.then(function(m){if(m)return m.start(function(){var w=function(){return m.continue()};l&&!l(m,function(k){return w=k},function(k){m.stop(k),w=Se},function(k){m.fail(k),w=Se})||h(m.value,m,function(k){return w=k}),w()})})}var Wi=(Dd.prototype.execute=function(o){var l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(u(c))return i(i([],u(o)?o:[],!0),c).sort();if(typeof c=="number")return(Number(o)||0)+c;if(typeof c=="bigint")try{return BigInt(o)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var f=l.remove;if(u(f))return u(o)?o.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(o)-f;if(typeof f=="bigint")try{return BigInt(o)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return c=(c=l.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof o=="string"&&o.startsWith(c)?l.replacePrefix[1]+o.substring(c.length):o},Dd);function Dd(o){this["@@propmod"]=o}var Mv=(be.prototype._read=function(o,l){var c=this._ctx;return c.error?c.table._trans(null,Le.bind(null,c.error)):c.table._trans("readonly",o).then(l)},be.prototype._write=function(o){var l=this._ctx;return l.error?l.table._trans(null,Le.bind(null,l.error)):l.table._trans("readwrite",o,"locked")},be.prototype._addAlgorithm=function(o){var l=this._ctx;l.algorithm=fr(l.algorithm,o)},be.prototype._iterate=function(o,l){return fo(this._ctx,o,l,this._ctx.table.core)},be.prototype.clone=function(o){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return o&&d(c,o),l._ctx=c,l},be.prototype.raw=function(){return this._ctx.valueMapper=null,this},be.prototype.each=function(o){var l=this._ctx;return this._read(function(c){return fo(l,o,c,l.table.core)})},be.prototype.count=function(o){var l=this;return this._read(function(c){var f=l._ctx,h=f.table.core;if(qr(f,!0))return h.count({trans:c,query:{index:co(f,h.schema),range:f.range}}).then(function(w){return Math.min(w,f.limit)});var m=0;return fo(f,function(){return++m,!1},c,h).then(function(){return m})}).then(o)},be.prototype.sortBy=function(o,l){var c=o.split(".").reverse(),f=c[0],h=c.length-1;function m(C,P){return P?m(C[c[P]],P-1):C[f]}var w=this._ctx.dir==="next"?1:-1;function k(C,P){return ye(m(C,h),m(P,h))*w}return this.toArray(function(C){return C.sort(k)}).then(l)},be.prototype.toArray=function(o){var l=this;return this._read(function(c){var f=l._ctx;if(f.dir==="next"&&qr(f,!0)&&0<f.limit){var h=f.valueMapper,m=co(f,f.table.core.schema);return f.table.core.query({trans:c,limit:f.limit,values:!0,query:{index:m,range:f.range}}).then(function(k){return k=k.result,h?k.map(h):k})}var w=[];return fo(f,function(k){return w.push(k)},c,f.table.core).then(function(){return w})},o)},be.prototype.offset=function(o){var l=this._ctx;return o<=0||(l.offset+=o,qr(l)?fl(l,function(){var c=o;return function(f,h){return c===0||(c===1?--c:h(function(){f.advance(c),c=0}),!1)}}):fl(l,function(){var c=o;return function(){return--c<0}})),this},be.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),fl(this._ctx,function(){var l=o;return function(c,f,h){return--l<=0&&f(h),0<=l}},!0),this},be.prototype.until=function(o,l){return dl(this._ctx,function(c,f,h){return!o(c.value)||(f(h),l)}),this},be.prototype.first=function(o){return this.limit(1).toArray(function(l){return l[0]}).then(o)},be.prototype.last=function(o){return this.reverse().first(o)},be.prototype.filter=function(o){var l;return dl(this._ctx,function(c){return o(c.value)}),(l=this._ctx).isMatch=fr(l.isMatch,o),this},be.prototype.and=function(o){return this.filter(o)},be.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},be.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},be.prototype.desc=function(){return this.reverse()},be.prototype.eachKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,f){o(f.key,f)})},be.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},be.prototype.eachPrimaryKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,f){o(f.primaryKey,f)})},be.prototype.keys=function(o){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(f,h){c.push(h.key)}).then(function(){return c}).then(o)},be.prototype.primaryKeys=function(o){var l=this._ctx;if(l.dir==="next"&&qr(l,!0)&&0<l.limit)return this._read(function(f){var h=co(l,l.table.core.schema);return l.table.core.query({trans:f,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(f){return f.result}).then(o);l.keysOnly=!l.isMatch;var c=[];return this.each(function(f,h){c.push(h.primaryKey)}).then(function(){return c}).then(o)},be.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},be.prototype.firstKey=function(o){return this.limit(1).keys(function(l){return l[0]}).then(o)},be.prototype.lastKey=function(o){return this.reverse().firstKey(o)},be.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var l={};return dl(this._ctx,function(h){var f=h.primaryKey.toString(),h=g(l,f);return l[f]=!0,!h}),this},be.prototype.modify=function(o){var l=this,c=this._ctx;return this._write(function(f){var h,m,w;w=typeof o=="function"?o:(h=a(o),m=h.length,function(L){for(var M=!1,F=0;F<m;++F){var B=h[F],V=o[B],J=K(L,B);V instanceof Wi?(W(L,B,V.execute(J)),M=!0):J!==V&&(W(L,B,V),M=!0)}return M});var k=c.table.core,x=k.schema.primaryKey,C=x.outbound,P=x.extractKey,R=200,x=l.db._options.modifyChunkSize;x&&(R=typeof x=="object"?x[k.name]||x["*"]||200:x);function $(L,B){var F=B.failures,B=B.numFailures;T+=L-B;for(var V=0,J=a(F);V<J.length;V++){var G=J[V];O.push(F[G])}}var O=[],T=0,D=[],I=o===$d;return l.clone().primaryKeys().then(function(L){function M(B){var V=Math.min(R,L.length-B),J=L.slice(B,B+V);return(I?Promise.resolve([]):k.getMany({trans:f,keys:J,cache:"immutable"})).then(function(G){var Q=[],X=[],Y=C?[]:null,ne=I?J:[];if(!I)for(var me=0;me<V;++me){var we=G[me],he={value:Fe(we),primKey:L[B+me]};w.call(he,he.value,he)!==!1&&(he.value==null?ne.push(L[B+me]):C||ye(P(we),P(he.value))===0?(X.push(he.value),C&&Y.push(L[B+me])):(ne.push(L[B+me]),Q.push(he.value)))}return Promise.resolve(0<Q.length&&k.mutate({trans:f,type:"add",values:Q}).then(function(De){for(var fe in De.failures)ne.splice(parseInt(fe),1);$(Q.length,De)})).then(function(){return(0<X.length||F&&typeof o=="object")&&k.mutate({trans:f,type:"put",keys:Y,values:X,criteria:F,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<B}).then(function(De){return $(X.length,De)})}).then(function(){return(0<ne.length||F&&I)&&k.mutate({trans:f,type:"delete",keys:ne,criteria:F,isAdditionalChunk:0<B}).then(function(De){return uo(c.table,ne,De)}).then(function(De){return $(ne.length,De)})}).then(function(){return L.length>B+V&&M(B+R)})})}var F=qr(c)&&c.limit===1/0&&(typeof o!="function"||I)&&{index:c.index,range:c.range};return M(0).then(function(){if(0<O.length)throw new xn("Error modifying one or more objects",O,T,D);return L.length})})})},be.prototype.delete=function(){var o=this._ctx,l=o.range;return!qr(o)||o.table.schema.yProps||!o.isPrimKey&&l.type!==3?this.modify($d):this._write(function(c){var f=o.table.core.schema.primaryKey,h=l;return o.table.core.count({trans:c,query:{index:f,range:h}}).then(function(m){return o.table.core.mutate({trans:c,type:"deleteRange",range:h}).then(function(C){var k=C.failures,C=C.numFailures;if(C)throw new xn("Could not delete some values",Object.keys(k).map(function(P){return k[P]}),m-C);return m-C})})})},be);function be(){}var $d=function(o,l){return l.value=null};function Fv(o,l){return o<l?-1:o===l?0:1}function Bv(o,l){return l<o?-1:o===l?0:1}function Et(o,l,c){return o=o instanceof Ud?new o.Collection(o):o,o._ctx.error=new(c||TypeError)(l),o}function Wr(o){return new o.Collection(o,function(){return Ld("")}).limit(0)}function ho(o,l,c,f){var h,m,w,k,C,P,R,x=c.length;if(!c.every(function(T){return typeof T=="string"}))return Et(o,Cd);function $(T){h=T==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},m=T==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},w=T==="next"?Fv:Bv;var D=c.map(function(I){return{lower:m(I),upper:h(I)}}).sort(function(I,L){return w(I.lower,L.lower)});k=D.map(function(I){return I.upper}),C=D.map(function(I){return I.lower}),R=(P=T)==="next"?"":f}$("next"),o=new o.Collection(o,function(){return Tn(k[0],C[x-1]+f)}),o._ondirectionchange=function(T){$(T)};var O=0;return o._addAlgorithm(function(T,D,I){var L=T.key;if(typeof L!="string")return!1;var M=m(L);if(l(M,C,O))return!0;for(var F=null,B=O;B<x;++B){var V=function(J,G,Q,X,Y,ne){for(var me=Math.min(J.length,X.length),we=-1,he=0;he<me;++he){var De=G[he];if(De!==X[he])return Y(J[he],Q[he])<0?J.substr(0,he)+Q[he]+Q.substr(he+1):Y(J[he],X[he])<0?J.substr(0,he)+X[he]+Q.substr(he+1):0<=we?J.substr(0,we)+G[we]+Q.substr(we+1):null;Y(J[he],De)<0&&(we=he)}return me<X.length&&ne==="next"?J+Q.substr(J.length):me<J.length&&ne==="prev"?J.substr(0,Q.length):we<0?null:J.substr(0,we)+X[we]+Q.substr(we+1)}(L,M,k[B],C[B],w,P);V===null&&F===null?O=B+1:(F===null||0<w(F,V))&&(F=V)}return D(F!==null?function(){T.continue(F+R)}:I),!1}),o}function Tn(o,l,c,f){return{type:2,lower:o,upper:l,lowerOpen:c,upperOpen:f}}function Ld(o){return{type:1,lower:o,upper:o}}var Ud=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(o,l,c,f){c=c!==!1,f=f===!0;try{return 0<this._cmp(o,l)||this._cmp(o,l)===0&&(c||f)&&(!c||!f)?Wr(this):new this.Collection(this,function(){return Tn(o,l,!c,!f)})}catch{return Et(this,ln)}},Je.prototype.equals=function(o){return o==null?Et(this,ln):new this.Collection(this,function(){return Ld(o)})},Je.prototype.above=function(o){return o==null?Et(this,ln):new this.Collection(this,function(){return Tn(o,void 0,!0)})},Je.prototype.aboveOrEqual=function(o){return o==null?Et(this,ln):new this.Collection(this,function(){return Tn(o,void 0,!1)})},Je.prototype.below=function(o){return o==null?Et(this,ln):new this.Collection(this,function(){return Tn(void 0,o,!1,!0)})},Je.prototype.belowOrEqual=function(o){return o==null?Et(this,ln):new this.Collection(this,function(){return Tn(void 0,o)})},Je.prototype.startsWith=function(o){return typeof o!="string"?Et(this,Cd):this.between(o,o+dr,!0,!0)},Je.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):ho(this,function(l,c){return l.indexOf(c[0])===0},[o],dr)},Je.prototype.equalsIgnoreCase=function(o){return ho(this,function(l,c){return l===c[0]},[o],"")},Je.prototype.anyOfIgnoreCase=function(){var o=de.apply(ce,arguments);return o.length===0?Wr(this):ho(this,function(l,c){return c.indexOf(l)!==-1},o,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var o=de.apply(ce,arguments);return o.length===0?Wr(this):ho(this,function(l,c){return c.some(function(f){return l.indexOf(f)===0})},o,dr)},Je.prototype.anyOf=function(){var o=this,l=de.apply(ce,arguments),c=this._cmp;try{l.sort(c)}catch{return Et(this,ln)}if(l.length===0)return Wr(this);var f=new this.Collection(this,function(){return Tn(l[0],l[l.length-1])});f._ondirectionchange=function(m){c=m==="next"?o._ascending:o._descending,l.sort(c)};var h=0;return f._addAlgorithm(function(m,w,k){for(var C=m.key;0<c(C,l[h]);)if(++h===l.length)return w(k),!1;return c(C,l[h])===0||(w(function(){m.continue(l[h])}),!1)}),f},Je.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var o=de.apply(ce,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Et(this,ln)}var l=o.reduce(function(c,f){return c?c.concat([[c[c.length-1][1],f]]):[[-1/0,f]]},null);return l.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(L,l){var c=this,f=this._cmp,h=this._ascending,m=this._descending,w=this._min,k=this._max;if(L.length===0)return Wr(this);if(!L.every(function(M){return M[0]!==void 0&&M[1]!==void 0&&h(M[0],M[1])<=0}))return Et(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);var C=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,R,x=h;function $(M,F){return x(M[0],F[0])}try{(R=L.reduce(function(M,F){for(var B=0,V=M.length;B<V;++B){var J=M[B];if(f(F[0],J[1])<0&&0<f(F[1],J[0])){J[0]=w(J[0],F[0]),J[1]=k(J[1],F[1]);break}}return B===V&&M.push(F),M},[])).sort($)}catch{return Et(this,ln)}var O=0,T=P?function(M){return 0<h(M,R[O][1])}:function(M){return 0<=h(M,R[O][1])},D=C?function(M){return 0<m(M,R[O][0])}:function(M){return 0<=m(M,R[O][0])},I=T,L=new this.Collection(this,function(){return Tn(R[0][0],R[R.length-1][1],!C,!P)});return L._ondirectionchange=function(M){x=M==="next"?(I=T,h):(I=D,m),R.sort($)},L._addAlgorithm(function(M,F,B){for(var V,J=M.key;I(J);)if(++O===R.length)return F(B),!1;return!T(V=J)&&!D(V)||(c._cmp(J,R[O][1])===0||c._cmp(J,R[O][0])===0||F(function(){x===h?M.continue(R[O][0]):M.continue(R[O][1])}),!1)}),L},Je.prototype.startsWithAnyOf=function(){var o=de.apply(ce,arguments);return o.every(function(l){return typeof l=="string"})?o.length===0?Wr(this):this.inAnyRange(o.map(function(l){return[l,l+dr]})):Et(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function Xt(o){return Te(function(l){return Vi(l),o(l.target.error),!1})}function Vi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Hi="storagemutated",hl="x-storagemutated-1",Nn=Ki(null,Hi),Kv=(Zt.prototype._lock=function(){return A(!ae.global),++this._reculock,this._reculock!==1||ae.global||(ae.lockOwnerFor=this),this},Zt.prototype._unlock=function(){if(A(!ae.global),--this._reculock==0)for(ae.global||(ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{cr(o[1],o[0])}catch{}}return this},Zt.prototype._locked=function(){return this._reculock&&ae.lockOwnerFor!==this},Zt.prototype.create=function(o){var l=this;if(!this.mode)return this;var c=this.db.idbdb,f=this.db._state.dbOpenError;if(A(!this.idbtrans),!o&&!c)switch(f&&f.name){case"DatabaseClosedError":throw new le.DatabaseClosed(f);case"MissingAPIError":throw new le.MissingAPI(f.message,f);default:throw new le.OpenFailed(f)}if(!this.active)throw new le.TransactionInactive;return A(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(h){Vi(h),l._reject(o.error)}),o.onabort=Te(function(h){Vi(h),l.active&&l._reject(new le.Abort(o.error)),l.active=!1,l.on("abort").fire(h)}),o.oncomplete=Te(function(){l.active=!1,l._resolve(),"mutatedParts"in o&&Nn.storagemutated.fire(o.mutatedParts)}),this},Zt.prototype._promise=function(o,l,c){var f=this;if(o==="readwrite"&&this.mode!=="readwrite")return Le(new le.ReadOnly("Transaction is readonly"));if(!this.active)return Le(new le.TransactionInactive);if(this._locked())return new ee(function(m,w){f._blockedFuncs.push([function(){f._promise(o,l,c).then(m,w)},ae])});if(c)return Cn(function(){var m=new ee(function(w,k){f._lock();var C=l(w,k,f);C&&C.then&&C.then(w,k)});return m.finally(function(){return f._unlock()}),m._lib=!0,m});var h=new ee(function(m,w){var k=l(m,w,f);k&&k.then&&k.then(m,w)});return h._lib=!0,h},Zt.prototype._root=function(){return this.parent?this.parent._root():this},Zt.prototype.waitFor=function(o){var l,c=this._root(),f=ee.resolve(o);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return f}):(c._waitingFor=f,c._waitingQueue=[],l=c.idbtrans.objectStore(c.storeNames[0]),function m(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=c._waitingFor;return new ee(function(m,w){f.then(function(k){return c._waitingQueue.push(Te(m.bind(null,k)))},function(k){return c._waitingQueue.push(Te(w.bind(null,k)))}).finally(function(){c._waitingFor===h&&(c._waitingFor=null)})})},Zt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))},Zt.prototype.table=function(o){var l=this._memoizedTables||(this._memoizedTables={});if(g(l,o))return l[o];var c=this.schema[o];if(!c)throw new le.NotFound("Table "+o+" not part of transaction");return c=new this.db.Table(o,c,this),c.core=this.db.core.table(o),l[o]=c},Zt);function Zt(){}function pl(o,l,c,f,h,m,w,k){return{name:o,keyPath:l,unique:c,multi:f,auto:h,compound:m,src:(c&&!w?"&":"")+(f?"*":"")+(h?"++":"")+zd(l),type:k}}function zd(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function ml(o,l,c){return{name:o,primKey:l,indexes:c,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},c.reduce(function(h,m,w){return w=f(m,w),w&&(h[w[0]]=w[1]),h},{}))};var f}var Gi=function(o){try{return o.only([[]]),Gi=function(){return[[]]},[[]]}catch{return Gi=function(){return dr},dr}};function vl(o){return o==null?function(){}:typeof o=="string"?(l=o).split(".").length===1?function(c){return c[l]}:function(c){return K(c,l)}:function(c){return K(c,o)};var l}function Md(o){return[].slice.call(o)}var qv=0;function Qi(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Wv(o,l,C){function f(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=I.lower,T=I.upper,D=I.lowerOpen,I=I.upperOpen;return O===void 0?T===void 0?null:l.upperBound(T,!!I):T===void 0?l.lowerBound(O,!!D):l.bound(O,T,!!D,!!I)}function h($){var O,T=$.name;return{name:T,schema:$,mutate:function(D){var I=D.trans,L=D.type,M=D.keys,F=D.values,B=D.range;return new Promise(function(V,J){V=Te(V);var G=I.objectStore(T),Q=G.keyPath==null,X=L==="put"||L==="add";if(!X&&L!=="delete"&&L!=="deleteRange")throw new Error("Invalid operation type: "+L);var Y,ne=(M||F||{length:1}).length;if(M&&F&&M.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(ne===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function me(ct){++De,Vi(ct)}var we=[],he=[],De=0;if(L==="deleteRange"){if(B.type===4)return V({numFailures:De,failures:he,results:[],lastResult:void 0});B.type===3?we.push(Y=G.clear()):we.push(Y=G.delete(f(B)))}else{var Q=X?Q?[F,M]:[F,null]:[M,null],fe=Q[0],it=Q[1];if(X)for(var st=0;st<ne;++st)we.push(Y=it&&it[st]!==void 0?G[L](fe[st],it[st]):G[L](fe[st])),Y.onerror=me;else for(st=0;st<ne;++st)we.push(Y=G[L](fe[st])),Y.onerror=me}function Eo(ct){ct=ct.target.result,we.forEach(function(mr,Il){return mr.error!=null&&(he[Il]=mr.error)}),V({numFailures:De,failures:he,results:L==="delete"?M:we.map(function(mr){return mr.result}),lastResult:ct})}Y.onerror=function(ct){me(ct),Eo(ct)},Y.onsuccess=Eo})},getMany:function(D){var I=D.trans,L=D.keys;return new Promise(function(M,F){M=Te(M);for(var B,V=I.objectStore(T),J=L.length,G=new Array(J),Q=0,X=0,Y=function(we){we=we.target,G[we._pos]=we.result,++X===Q&&M(G)},ne=Xt(F),me=0;me<J;++me)L[me]!=null&&((B=V.get(L[me]))._pos=me,B.onsuccess=Y,B.onerror=ne,++Q);Q===0&&M(G)})},get:function(D){var I=D.trans,L=D.key;return new Promise(function(M,F){M=Te(M);var B=I.objectStore(T).get(L);B.onsuccess=function(V){return M(V.target.result)},B.onerror=Xt(F)})},query:(O=P,function(D){return new Promise(function(I,L){I=Te(I);var M,F,B,Q=D.trans,V=D.values,J=D.limit,Y=D.query,G=J===1/0?void 0:J,X=Y.index,Y=Y.range,Q=Q.objectStore(T),X=X.isPrimaryKey?Q:Q.index(X.name),Y=f(Y);if(J===0)return I({result:[]});O?((G=V?X.getAll(Y,G):X.getAllKeys(Y,G)).onsuccess=function(ne){return I({result:ne.target.result})},G.onerror=Xt(L)):(M=0,F=!V&&"openKeyCursor"in X?X.openKeyCursor(Y):X.openCursor(Y),B=[],F.onsuccess=function(ne){var me=F.result;return me?(B.push(V?me.value:me.primaryKey),++M===J?I({result:B}):void me.continue()):I({result:B})},F.onerror=Xt(L))})}),openCursor:function(D){var I=D.trans,L=D.values,M=D.query,F=D.reverse,B=D.unique;return new Promise(function(V,J){V=Te(V);var X=M.index,G=M.range,Q=I.objectStore(T),Q=X.isPrimaryKey?Q:Q.index(X.name),X=F?B?"prevunique":"prev":B?"nextunique":"next",Y=!L&&"openKeyCursor"in Q?Q.openKeyCursor(f(G),X):Q.openCursor(f(G),X);Y.onerror=Xt(J),Y.onsuccess=Te(function(ne){var me,we,he,De,fe=Y.result;fe?(fe.___id=++qv,fe.done=!1,me=fe.continue.bind(fe),we=(we=fe.continuePrimaryKey)&&we.bind(fe),he=fe.advance.bind(fe),De=function(){throw new Error("Cursor not stopped")},fe.trans=I,fe.stop=fe.continue=fe.continuePrimaryKey=fe.advance=function(){throw new Error("Cursor not started")},fe.fail=Te(J),fe.next=function(){var it=this,st=1;return this.start(function(){return st--?it.continue():it.stop()}).then(function(){return it})},fe.start=function(it){function st(){if(Y.result)try{it()}catch(ct){fe.fail(ct)}else fe.done=!0,fe.start=function(){throw new Error("Cursor behind last entry")},fe.stop()}var Eo=new Promise(function(ct,mr){ct=Te(ct),Y.onerror=Xt(mr),fe.fail=mr,fe.stop=function(Il){fe.stop=fe.continue=fe.continuePrimaryKey=fe.advance=De,ct(Il)}});return Y.onsuccess=Te(function(ct){Y.onsuccess=st,st()}),fe.continue=me,fe.continuePrimaryKey=we,fe.advance=he,st(),Eo},V(fe)):V(null)},J)})},count:function(D){var I=D.query,L=D.trans,M=I.index,F=I.range;return new Promise(function(B,V){var J=L.objectStore(T),G=M.isPrimaryKey?J:J.index(M.name),J=f(F),G=J?G.count(J):G.count();G.onsuccess=Te(function(Q){return B(Q.target.result)}),G.onerror=Xt(V)})}}}var m,w,k,R=(w=C,k=Md((m=o).objectStoreNames),{schema:{name:m.name,tables:k.map(function($){return w.objectStore($)}).map(function($){var O=$.keyPath,I=$.autoIncrement,T=u(O),D={},I={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:T,keyPath:O,autoIncrement:I,unique:!0,extractKey:vl(O)},indexes:Md($.indexNames).map(function(L){return $.index(L)}).map(function(B){var M=B.name,F=B.unique,V=B.multiEntry,B=B.keyPath,V={name:M,compound:u(B),keyPath:B,unique:F,multiEntry:V,extractKey:vl(B)};return D[Qi(B)]=V}),getIndexByKeyPath:function(L){return D[Qi(L)]}};return D[":id"]=I.primaryKey,O!=null&&(D[Qi(O)]=I.primaryKey),I})},hasGetAll:0<k.length&&"getAll"in w.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=R.schema,P=R.hasGetAll,R=C.tables.map(h),x={};return R.forEach(function($){return x[$.name]=$}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function($){if(!x[$])throw new Error("Table '".concat($,"' not found"));return x[$]},MIN_KEY:-1/0,MAX_KEY:Gi(l),schema:C}}function Vv(o,l,c,f){var h=c.IDBKeyRange;return c.indexedDB,{dbcore:(f=Wv(l,h,f),o.dbcore.reduce(function(m,w){return w=w.create,r(r({},m),w(m))},f))}}function po(o,f){var c=f.db,f=Vv(o._middlewares,c,o._deps,f);o.core=f.dbcore,o.tables.forEach(function(h){var m=h.name;o.core.schema.tables.some(function(w){return w.name===m})&&(h.core=o.core.table(m),o[m]instanceof o.Table&&(o[m].core=h.core))})}function mo(o,l,c,f){c.forEach(function(h){var m=f[h];l.forEach(function(w){var k=function C(P,R){return q(P,R)||(P=p(P))&&C(P,R)}(w,h);(!k||"value"in k&&k.value===void 0)&&(w===o.Transaction.prototype||w instanceof o.Transaction?N(w,h,{get:function(){return this.table(h)},set:function(C){E(this,h,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):w[h]=new o.Table(h,m))})})}function gl(o,l){l.forEach(function(c){for(var f in c)c[f]instanceof o.Table&&delete c[f]})}function Hv(o,l){return o._cfg.version-l._cfg.version}function Gv(o,l,c,f){var h=o._dbSchema;c.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=ml("$meta",Bd("")[0],[]),o._storeNames.push("$meta"));var m=o._createTransaction("readwrite",o._storeNames,h);m.create(c),m._completion.catch(f);var w=m._reject.bind(m),k=ae.transless||ae;Cn(function(){return ae.trans=m,ae.transless=k,l!==0?(po(o,c),P=l,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(R){return R??P}):ee.resolve(P)).then(function(R){return $=R,O=m,T=c,D=[],R=(x=o)._versions,I=x._dbSchema=go(0,x.idbdb,T),(R=R.filter(function(L){return L._cfg.version>=$})).length!==0?(R.forEach(function(L){D.push(function(){var M=I,F=L._cfg.dbschema;yo(x,M,T),yo(x,F,T),I=x._dbSchema=F;var B=yl(M,F);B.add.forEach(function(X){wl(T,X[0],X[1].primKey,X[1].indexes)}),B.change.forEach(function(X){if(X.recreate)throw new le.Upgrade("Not yet support for changing primary key");var Y=T.objectStore(X.name);X.add.forEach(function(ne){return vo(Y,ne)}),X.change.forEach(function(ne){Y.deleteIndex(ne.name),vo(Y,ne)}),X.del.forEach(function(ne){return Y.deleteIndex(ne)})});var V=L._cfg.contentUpgrade;if(V&&L._cfg.version>$){po(x,T),O._memoizedTables={};var J=re(F);B.del.forEach(function(X){J[X]=M[X]}),gl(x,[x.Transaction.prototype]),mo(x,[x.Transaction.prototype],a(J),J),O.schema=J;var G,Q=je(V);return Q&&Br(),B=ee.follow(function(){var X;(G=V(O))&&Q&&(X=On.bind(null,null),G.then(X,X))}),G&&typeof G.then=="function"?ee.resolve(G):B.then(function(){return G})}}),D.push(function(M){var F,B,V=L._cfg.dbschema;F=V,B=M,[].slice.call(B.db.objectStoreNames).forEach(function(J){return F[J]==null&&B.db.deleteObjectStore(J)}),gl(x,[x.Transaction.prototype]),mo(x,[x.Transaction.prototype],x._storeNames,x._dbSchema),O.schema=x._dbSchema}),D.push(function(M){x.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(x.idbdb.version/10)===L._cfg.version?(x.idbdb.deleteObjectStore("$meta"),delete x._dbSchema.$meta,x._storeNames=x._storeNames.filter(function(F){return F!=="$meta"})):M.objectStore("$meta").put(L._cfg.version,"version"))})}),function L(){return D.length?ee.resolve(D.shift()(O.idbtrans)).then(L):ee.resolve()}().then(function(){Fd(I,T)})):ee.resolve();var x,$,O,T,D,I}).catch(w)):(a(h).forEach(function(R){wl(c,R,h[R].primKey,h[R].indexes)}),po(o,c),void ee.follow(function(){return o.on.populate.fire(m)}).catch(w));var C,P})}function Qv(o,l){Fd(o._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var c=go(0,o.idbdb,l);yo(o,o._dbSchema,l);for(var f=0,h=yl(c,o._dbSchema).change;f<h.length;f++){var m=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=l.objectStore(w.name);w.add.forEach(function(C){Yt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(C.src)),vo(k,C)})}(h[f]);if(typeof m=="object")return m.value}}function yl(o,l){var c,f={del:[],add:[],change:[]};for(c in o)l[c]||f.del.push(c);for(c in l){var h=o[c],m=l[c];if(h){var w={name:c,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)w.recreate=!0,f.change.push(w);else{var k=h.idxByName,C=m.idxByName,P=void 0;for(P in k)C[P]||w.del.push(P);for(P in C){var R=k[P],x=C[P];R?R.src!==x.src&&w.change.push(x):w.add.push(x)}(0<w.del.length||0<w.add.length||0<w.change.length)&&f.change.push(w)}}else f.add.push([c,m])}return f}function wl(o,l,c,f){var h=o.db.createObjectStore(l,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return f.forEach(function(m){return vo(h,m)}),h}function Fd(o,l){a(o).forEach(function(c){l.db.objectStoreNames.contains(c)||(Yt&&console.debug("Dexie: Creating missing table",c),wl(l,c,o[c].primKey,o[c].indexes))})}function vo(o,l){o.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function go(o,l,c){var f={};return b(l.objectStoreNames,0).forEach(function(h){for(var m=c.objectStore(h),w=pl(zd(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),k=[],C=0;C<m.indexNames.length;++C){var R=m.index(m.indexNames[C]),P=R.keyPath,R=pl(R.name,P,!!R.unique,!!R.multiEntry,!1,P&&typeof P!="string",!1);k.push(R)}f[h]=ml(h,w,k)}),f}function yo(o,l,c){for(var f=c.db.objectStoreNames,h=0;h<f.length;++h){var m=f[h],w=c.objectStore(m);o._hasGetAll="getAll"in w;for(var k=0;k<w.indexNames.length;++k){var C=w.indexNames[k],P=w.index(C).keyPath,R=typeof P=="string"?P:"["+b(P).join("+")+"]";!l[m]||(P=l[m].idxByName[R])&&(P.name=C,delete l[m].idxByName[R],l[m].idxByName[C]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Bd(o){return o.split(",").map(function(l,c){var m=l.split(":"),f=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return pl(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),u(m),c===0,f)})}var Jv=(Vr.prototype._createTableSchema=ml,Vr.prototype._parseIndexSyntax=Bd,Vr.prototype._parseStoresSpec=function(o,l){var c=this;a(o).forEach(function(f){if(o[f]!==null){var h=c._parseIndexSyntax(o[f]),m=h.shift();if(!m)throw new le.Schema("Invalid schema for table "+f+": "+o[f]);if(m.unique=!0,m.multi)throw new le.Schema("Primary key cannot be multiEntry*");h.forEach(function(w){if(w.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),h=c._createTableSchema(f,m,h),l[f]=h}})},Vr.prototype.stores=function(c){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,c):c;var c=l._versions,f={},h={};return c.forEach(function(m){d(f,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(f,h)}),l._dbSchema=h,gl(l,[l._allTables,l,l.Transaction.prototype]),mo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],a(h),h),l._storeNames=a(h),this},Vr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=el(this._cfg.contentUpgrade||Se,o),this},Vr);function Vr(){}function _l(o,l){var c=o._dbNamesDB;return c||(c=o._dbNamesDB=new un(ao,{addons:[],indexedDB:o,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function bl(o){return o&&typeof o.databases=="function"}function kl(o){return Cn(function(){return ae.letThrough=!0,o()})}function Sl(o){return!("from"in o)}var rt=function(o,l){if(!this){var c=new rt;return o&&"d"in o&&d(c,o),c}d(this,arguments.length?{d:1,from:o,to:1<arguments.length?l:o}:{d:0})};function Ji(o,l,c){var f=ye(l,c);if(!isNaN(f)){if(0<f)throw RangeError();if(Sl(o))return d(o,{from:l,to:c,d:1});var h=o.l,f=o.r;if(ye(c,o.from)<0)return h?Ji(h,l,c):o.l={from:l,to:c,d:1,l:null,r:null},qd(o);if(0<ye(l,o.to))return f?Ji(f,l,c):o.r={from:l,to:c,d:1,l:null,r:null},qd(o);ye(l,o.from)<0&&(o.from=l,o.l=null,o.d=f?f.d+1:1),0<ye(c,o.to)&&(o.to=c,o.r=null,o.d=o.l?o.l.d+1:1),c=!o.r,h&&!o.l&&Yi(o,h),f&&c&&Yi(o,f)}}function Yi(o,l){Sl(l)||function c(f,C){var m=C.from,w=C.to,k=C.l,C=C.r;Ji(f,m,w),k&&c(f,k),C&&c(f,C)}(o,l)}function Kd(o,l){var c=wo(l),f=c.next();if(f.done)return!1;for(var h=f.value,m=wo(o),w=m.next(h.from),k=w.value;!f.done&&!w.done;){if(ye(k.from,h.to)<=0&&0<=ye(k.to,h.from))return!0;ye(h.from,k.from)<0?h=(f=c.next(k.from)).value:k=(w=m.next(h.from)).value}return!1}function wo(o){var l=Sl(o)?null:{s:0,n:o};return{next:function(c){for(var f=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,f)for(;l.n.l&&ye(c,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!f||ye(c,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function qd(o){var l,c,f=(((l=o.r)===null||l===void 0?void 0:l.d)||0)-(((c=o.l)===null||c===void 0?void 0:c.d)||0),h=1<f?"r":f<-1?"l":"";h&&(l=h=="r"?"l":"r",c=r({},o),f=o[h],o.from=f.from,o.to=f.to,o[h]=f[h],c[h]=f[l],(o[l]=c).d=Wd(c)),o.d=Wd(o)}function Wd(c){var l=c.r,c=c.l;return(l?c?Math.max(l.d,c.d):l.d:c?c.d:0)+1}function _o(o,l){return a(l).forEach(function(c){o[c]?Yi(o[c],l[c]):o[c]=function f(h){var m,w,k={};for(m in h)g(h,m)&&(w=h[m],k[m]=!w||typeof w!="object"||Me.has(w.constructor)?w:f(w));return k}(l[c])}),o}function xl(o,l){return o.all||l.all||Object.keys(o).some(function(c){return l[c]&&Kd(l[c],o[c])})}y(rt.prototype,((Rt={add:function(o){return Yi(this,o),this},addKey:function(o){return Ji(this,o,o),this},addKeys:function(o){var l=this;return o.forEach(function(c){return Ji(l,c,c)}),this},hasKey:function(o){var l=wo(this).next(o).value;return l&&ye(l.from,o)<=0&&0<=ye(l.to,o)}})[an]=function(){return wo(this)},Rt));var hr={},El={},jl=!1;function bo(o){_o(El,o),jl||(jl=!0,setTimeout(function(){jl=!1,Cl(El,!(El={}))},0))}function Cl(o,l){l===void 0&&(l=!1);var c=new Set;if(o.all)for(var f=0,h=Object.values(hr);f<h.length;f++)Vd(w=h[f],o,c,l);else for(var m in o){var w,k=/^idb\:\/\/(.*)\/(.*)\//.exec(m);k&&(m=k[1],k=k[2],(w=hr["idb://".concat(m,"/").concat(k)])&&Vd(w,o,c,l))}c.forEach(function(C){return C()})}function Vd(o,l,c,f){for(var h=[],m=0,w=Object.entries(o.queries.query);m<w.length;m++){for(var k=w[m],C=k[0],P=[],R=0,x=k[1];R<x.length;R++){var $=x[R];xl(l,$.obsSet)?$.subscribers.forEach(function(I){return c.add(I)}):f&&P.push($)}f&&h.push([C,P])}if(f)for(var O=0,T=h;O<T.length;O++){var D=T[O],C=D[0],P=D[1];o.queries.query[C]=P}}function Yv(o){var l=o._state,c=o._deps.indexedDB;if(l.isBeingOpened||o.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Le(l.dbOpenError):o});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var f=l.openCanceller,h=Math.round(10*o.verno),m=!1;function w(){if(l.openCanceller!==f)throw new le.DatabaseClosed("db.open() was cancelled")}function k(){return new ee(function($,O){if(w(),!c)throw new le.MissingAPI;var T=o.name,D=l.autoSchema||!h?c.open(T):c.open(T,h);if(!D)throw new le.MissingAPI;D.onerror=Xt(O),D.onblocked=Te(o._fireOnBlocked),D.onupgradeneeded=Te(function(I){var L;R=D.transaction,l.autoSchema&&!o._options.allowEmptyDB?(D.onerror=Vi,R.abort(),D.result.close(),(L=c.deleteDatabase(T)).onsuccess=L.onerror=Te(function(){O(new le.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(R.onerror=Xt(O),I=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,x=I<1,o.idbdb=D.result,m&&Qv(o,R),Gv(o,I/10,R,O))},O),D.onsuccess=Te(function(){R=null;var I,L,M,F,B,V=o.idbdb=D.result,J=b(V.objectStoreNames);if(0<J.length)try{var G=V.transaction((F=J).length===1?F[0]:F,"readonly");if(l.autoSchema)L=V,M=G,(I=o).verno=L.version/10,M=I._dbSchema=go(0,L,M),I._storeNames=b(L.objectStoreNames,0),mo(I,[I._allTables],a(M),M);else if(yo(o,o._dbSchema,G),((B=yl(go(0,(B=o).idbdb,G),B._dbSchema)).add.length||B.change.some(function(Q){return Q.add.length||Q.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),h=V.version+1,m=!0,$(k());po(o,G)}catch{}Kr.push(o),V.onversionchange=Te(function(Q){l.vcFired=!0,o.on("versionchange").fire(Q)}),V.onclose=Te(function(Q){o.on("close").fire(Q)}),x&&(B=o._deps,G=T,V=B.indexedDB,B=B.IDBKeyRange,bl(V)||G===ao||_l(V,B).put({name:G}).catch(Se)),$()},O)}).catch(function($){switch($==null?void 0:$.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<h)return h=0,k()}return ee.reject($)})}var C,P=l.dbReadyResolve,R=null,x=!1;return ee.race([f,(typeof navigator>"u"?ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function O(){return indexedDB.databases().finally($)}C=setInterval(O,100),O()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(k)]).then(function(){return w(),l.onReadyBeingFired=[],ee.resolve(kl(function(){return o.on.ready.fire(o.vip)})).then(function $(){if(0<l.onReadyBeingFired.length){var O=l.onReadyBeingFired.reduce(el,Se);return l.onReadyBeingFired=[],ee.resolve(kl(function(){return O(o.vip)})).then($)}})}).finally(function(){l.openCanceller===f&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function($){l.dbOpenError=$;try{R&&R.abort()}catch{}return f===l.openCanceller&&o._close(),Le($)}).finally(function(){l.openComplete=!0,P()}).then(function(){var $;return x&&($={},o.tables.forEach(function(O){O.schema.indexes.forEach(function(T){T.name&&($["idb://".concat(o.name,"/").concat(O.name,"/").concat(T.name)]=new rt(-1/0,[[[]]]))}),$["idb://".concat(o.name,"/").concat(O.name,"/")]=$["idb://".concat(o.name,"/").concat(O.name,"/:dels")]=new rt(-1/0,[[[]]])}),Nn(Hi).fire($),Cl($,!0)),o})}function Ol(o){function l(m){return o.next(m)}var c=h(l),f=h(function(m){return o.throw(m)});function h(m){return function(C){var k=m(C),C=k.value;return k.done?C:C&&typeof C.then=="function"?C.then(c,f):u(C)?Promise.all(C).then(c,f):c(C)}}return h(l)()}function ko(o,l,c){for(var f=u(o)?o.slice():[o],h=0;h<c;++h)f.push(l);return f}var Xv={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(l){var c=o.table(l),f=c.schema,h={},m=[];function w(x,$,O){var T=Qi(x),D=h[T]=h[T]||[],I=x==null?0:typeof x=="string"?1:x.length,L=0<$,L=r(r({},O),{name:L?"".concat(T,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:L,keyTail:$,keyLength:I,extractKey:vl(x),unique:!L&&O.unique});return D.push(L),L.isPrimaryKey||m.push(L),1<I&&w(I===2?x[0]:x.slice(0,I-1),$+1,O),D.sort(function(M,F){return M.keyTail-F.keyTail}),L}l=w(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[l];for(var k=0,C=f.indexes;k<C.length;k++){var P=C[k];w(P.keyPath,0,P)}function R(x){var $,O=x.query.index;return O.isVirtual?r(r({},x),{query:{index:O.lowLevelIndex,range:($=x.query.range,O=O.keyTail,{type:$.type===1?2:$.type,lower:ko($.lower,$.lowerOpen?o.MAX_KEY:o.MIN_KEY,O),lowerOpen:!0,upper:ko($.upper,$.upperOpen?o.MIN_KEY:o.MAX_KEY,O),upperOpen:!0})}}):x}return r(r({},c),{schema:r(r({},f),{primaryKey:l,indexes:m,getIndexByKeyPath:function(x){return(x=h[Qi(x)])&&x[0]}}),count:function(x){return c.count(R(x))},query:function(x){return c.query(R(x))},openCursor:function(x){var $=x.query.index,O=$.keyTail,T=$.isVirtual,D=$.keyLength;return T?c.openCursor(R(x)).then(function(L){return L&&I(L)}):c.openCursor(x);function I(L){return Object.create(L,{continue:{value:function(M){M!=null?L.continue(ko(M,x.reverse?o.MAX_KEY:o.MIN_KEY,O)):x.unique?L.continue(L.key.slice(0,D).concat(x.reverse?o.MIN_KEY:o.MAX_KEY,O)):L.continue()}},continuePrimaryKey:{value:function(M,F){L.continuePrimaryKey(ko(M,o.MAX_KEY,O),F)}},primaryKey:{get:function(){return L.primaryKey}},key:{get:function(){var M=L.key;return D===1?M[0]:M.slice(0,D)}},value:{get:function(){return L.value}}})}}})}})}};function Pl(o,l,c,f){return c=c||{},f=f||"",a(o).forEach(function(h){var m,w,k;g(l,h)?(m=o[h],w=l[h],typeof m=="object"&&typeof w=="object"&&m&&w?(k=ir(m))!==ir(w)?c[f+h]=l[h]:k==="Object"?Pl(m,w,c,f+h+"."):m!==w&&(c[f+h]=l[h]):m!==w&&(c[f+h]=l[h])):c[f+h]=void 0}),a(l).forEach(function(h){g(o,h)||(c[f+h]=l[h])}),c}function Tl(o,l){return l.type==="delete"?l.keys:l.keys||l.values.map(o.extractKey)}var Zv={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(l){var c=o.table(l),f=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=ae.trans,w=m.table(l).hook,k=w.deleting,C=w.creating,P=w.updating;switch(h.type){case"add":if(C.fire===Se)break;return m._promise("readwrite",function(){return R(h)},!0);case"put":if(C.fire===Se&&P.fire===Se)break;return m._promise("readwrite",function(){return R(h)},!0);case"delete":if(k.fire===Se)break;return m._promise("readwrite",function(){return R(h)},!0);case"deleteRange":if(k.fire===Se)break;return m._promise("readwrite",function(){return function x($,O,T){return c.query({trans:$,values:!1,query:{index:f,range:O},limit:T}).then(function(D){var I=D.result;return R({type:"delete",keys:I,trans:$}).then(function(L){return 0<L.numFailures?Promise.reject(L.failures[0]):I.length<T?{failures:[],numFailures:0,lastResult:void 0}:x($,r(r({},O),{lower:I[I.length-1],lowerOpen:!0}),T)})})}(h.trans,h.range,1e4)},!0)}return c.mutate(h);function R(x){var $,O,T,D=ae.trans,I=x.keys||Tl(f,x);if(!I)throw new Error("Keys missing");return(x=x.type==="add"||x.type==="put"?r(r({},x),{keys:I}):r({},x)).type!=="delete"&&(x.values=i([],x.values)),x.keys&&(x.keys=i([],x.keys)),$=c,T=I,((O=x).type==="add"?Promise.resolve([]):$.getMany({trans:O.trans,keys:T,cache:"immutable"})).then(function(L){var M=I.map(function(F,B){var V,J,G,Q=L[B],X={onerror:null,onsuccess:null};return x.type==="delete"?k.fire.call(X,F,Q,D):x.type==="add"||Q===void 0?(V=C.fire.call(X,F,x.values[B],D),F==null&&V!=null&&(x.keys[B]=F=V,f.outbound||W(x.values[B],f.keyPath,F))):(V=Pl(Q,x.values[B]),(J=P.fire.call(X,V,F,Q,D))&&(G=x.values[B],Object.keys(J).forEach(function(Y){g(G,Y)?G[Y]=J[Y]:W(G,Y,J[Y])}))),X});return c.mutate(x).then(function(F){for(var B=F.failures,V=F.results,J=F.numFailures,F=F.lastResult,G=0;G<I.length;++G){var Q=(V||I)[G],X=M[G];Q==null?X.onerror&&X.onerror(B[G]):X.onsuccess&&X.onsuccess(x.type==="put"&&L[G]?x.values[G]:Q)}return{failures:B,results:V,numFailures:J,lastResult:F}}).catch(function(F){return M.forEach(function(B){return B.onerror&&B.onerror(F)}),Promise.reject(F)})})}}})}})}};function Hd(o,l,c){try{if(!l||l.keys.length<o.length)return null;for(var f=[],h=0,m=0;h<l.keys.length&&m<o.length;++h)ye(l.keys[h],o[m])===0&&(f.push(c?Fe(l.values[h]):l.values[h]),++m);return f.length===o.length?f:null}catch{return null}}var eg={stack:"dbcore",level:-1,create:function(o){return{table:function(l){var c=o.table(l);return r(r({},c),{getMany:function(f){if(!f.cache)return c.getMany(f);var h=Hd(f.keys,f.trans._cache,f.cache==="clone");return h?ee.resolve(h):c.getMany(f).then(function(m){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Fe(m):m},m})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),c.mutate(f)}})}}}};function Gd(o,l){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Qd(o,l){switch(o){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var tg={stack:"dbcore",level:0,name:"Observability",create:function(o){var l=o.schema.name,c=new rt(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(f,h,m){if(ae.subscr&&h!=="readonly")throw new le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ae.querier));return o.transaction(f,h,m)},table:function(f){var h=o.table(f),m=h.schema,w=m.primaryKey,x=m.indexes,k=w.extractKey,C=w.outbound,P=w.autoIncrement&&x.filter(function(O){return O.compound&&O.keyPath.includes(w.keyPath)}),R=r(r({},h),{mutate:function(O){function T(Y){return Y="idb://".concat(l,"/").concat(f,"/").concat(Y),F[Y]||(F[Y]=new rt)}var D,I,L,M=O.trans,F=O.mutatedParts||(O.mutatedParts={}),B=T(""),V=T(":dels"),J=O.type,X=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[Tl(w,O).filter(function(Y){return Y}),O.values]:[],G=X[0],Q=X[1],X=O.trans._cache;return u(G)?(B.addKeys(G),(X=J==="delete"||G.length===Q.length?Hd(G,X):null)||V.addKeys(G),(X||Q)&&(D=T,I=X,L=Q,m.indexes.forEach(function(Y){var ne=D(Y.name||"");function me(he){return he!=null?Y.extractKey(he):null}function we(he){return Y.multiEntry&&u(he)?he.forEach(function(De){return ne.addKey(De)}):ne.addKey(he)}(I||L).forEach(function(he,it){var fe=I&&me(I[it]),it=L&&me(L[it]);ye(fe,it)!==0&&(fe!=null&&we(fe),it!=null&&we(it))})}))):G?(Q={from:(Q=G.lower)!==null&&Q!==void 0?Q:o.MIN_KEY,to:(Q=G.upper)!==null&&Q!==void 0?Q:o.MAX_KEY},V.add(Q),B.add(Q)):(B.add(c),V.add(c),m.indexes.forEach(function(Y){return T(Y.name).add(c)})),h.mutate(O).then(function(Y){return!G||O.type!=="add"&&O.type!=="put"||(B.addKeys(Y.results),P&&P.forEach(function(ne){for(var me=O.values.map(function(fe){return ne.extractKey(fe)}),we=ne.keyPath.findIndex(function(fe){return fe===w.keyPath}),he=0,De=Y.results.length;he<De;++he)me[he][we]=Y.results[he];T(ne.name).addKeys(me)})),M.mutatedParts=_o(M.mutatedParts||{},F),Y})}}),x=function(T){var D=T.query,T=D.index,D=D.range;return[T,new rt((T=D.lower)!==null&&T!==void 0?T:o.MIN_KEY,(D=D.upper)!==null&&D!==void 0?D:o.MAX_KEY)]},$={get:function(O){return[w,new rt(O.key)]},getMany:function(O){return[w,new rt().addKeys(O.keys)]},count:x,query:x,openCursor:x};return a($).forEach(function(O){R[O]=function(T){var D=ae.subscr,I=!!D,L=Gd(ae,h)&&Qd(O,T)?T.obsSet={}:D;if(I){var M=function(Q){return Q="idb://".concat(l,"/").concat(f,"/").concat(Q),L[Q]||(L[Q]=new rt)},F=M(""),B=M(":dels"),D=$[O](T),I=D[0],D=D[1];if((O==="query"&&I.isPrimaryKey&&!T.values?B:M(I.name||"")).add(D),!I.isPrimaryKey){if(O!=="count"){var V=O==="query"&&C&&T.values&&h.query(r(r({},T),{values:!1}));return h[O].apply(this,arguments).then(function(Q){if(O==="query"){if(C&&T.values)return V.then(function(me){return me=me.result,F.addKeys(me),Q});var X=T.values?Q.result.map(k):Q.result;(T.values?F:B).addKeys(X)}else if(O==="openCursor"){var Y=Q,ne=T.values;return Y&&Object.create(Y,{key:{get:function(){return B.addKey(Y.primaryKey),Y.key}},primaryKey:{get:function(){var me=Y.primaryKey;return B.addKey(me),me}},value:{get:function(){return ne&&F.addKey(Y.primaryKey),Y.value}}})}return Q})}B.add(c)}}return h[O].apply(this,arguments)}}),R}})}};function Jd(o,l,c){if(c.numFailures===0)return l;if(l.type==="deleteRange")return null;var f=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return c.numFailures===f?null:(l=r({},l),u(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in c.failures)})),"values"in l&&u(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in c.failures)})),l)}function Nl(o,l){return c=o,((f=l).lower===void 0||(f.lowerOpen?0<ye(c,f.lower):0<=ye(c,f.lower)))&&(o=o,(l=l).upper===void 0||(l.upperOpen?ye(o,l.upper)<0:ye(o,l.upper)<=0));var c,f}function Yd(o,l,$,f,h,m){if(!$||$.length===0)return o;var w=l.query.index,k=w.multiEntry,C=l.query.range,P=f.schema.primaryKey.extractKey,R=w.extractKey,x=(w.lowLevelIndex||w).extractKey,$=$.reduce(function(O,T){var D=O,I=[];if(T.type==="add"||T.type==="put")for(var L=new rt,M=T.values.length-1;0<=M;--M){var F,B=T.values[M],V=P(B);L.hasKey(V)||(F=R(B),(k&&u(F)?F.some(function(Y){return Nl(Y,C)}):Nl(F,C))&&(L.addKey(V),I.push(B)))}switch(T.type){case"add":var J=new rt().addKeys(l.values?O.map(function(ne){return P(ne)}):O),D=O.concat(l.values?I.filter(function(ne){return ne=P(ne),!J.hasKey(ne)&&(J.addKey(ne),!0)}):I.map(function(ne){return P(ne)}).filter(function(ne){return!J.hasKey(ne)&&(J.addKey(ne),!0)}));break;case"put":var G=new rt().addKeys(T.values.map(function(ne){return P(ne)}));D=O.filter(function(ne){return!G.hasKey(l.values?P(ne):ne)}).concat(l.values?I:I.map(function(ne){return P(ne)}));break;case"delete":var Q=new rt().addKeys(T.keys);D=O.filter(function(ne){return!Q.hasKey(l.values?P(ne):ne)});break;case"deleteRange":var X=T.range;D=O.filter(function(ne){return!Nl(P(ne),X)})}return D},o);return $===o?o:($.sort(function(O,T){return ye(x(O),x(T))||ye(P(O),P(T))}),l.limit&&l.limit<1/0&&($.length>l.limit?$.length=l.limit:o.length===l.limit&&$.length<l.limit&&(h.dirty=!0)),m?Object.freeze($):$)}function Xd(o,l){return ye(o.lower,l.lower)===0&&ye(o.upper,l.upper)===0&&!!o.lowerOpen==!!l.lowerOpen&&!!o.upperOpen==!!l.upperOpen}function ng(o,l){return function(c,f,h,m){if(c===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=ye(c,f))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return f}(o.lower,l.lower,o.lowerOpen,l.lowerOpen)<=0&&0<=function(c,f,h,m){if(c===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=ye(c,f))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return f}(o.upper,l.upper,o.upperOpen,l.upperOpen)}function rg(o,l,c,f){o.subscribers.add(c),f.addEventListener("abort",function(){var h,m;o.subscribers.delete(c),o.subscribers.size===0&&(h=o,m=l,setTimeout(function(){h.subscribers.size===0&&te(m,h)},3e3))})}var ig={stack:"dbcore",level:0,name:"Cache",create:function(o){var l=o.schema.name;return r(r({},o),{transaction:function(c,f,h){var m,w,k=o.transaction(c,f,h);return f==="readwrite"&&(w=(m=new AbortController).signal,h=function(C){return function(){if(m.abort(),f==="readwrite"){for(var P=new Set,R=0,x=c;R<x.length;R++){var $=x[R],O=hr["idb://".concat(l,"/").concat($)];if(O){var T=o.table($),D=O.optimisticOps.filter(function(ne){return ne.trans===k});if(k._explicit&&C&&k.mutatedParts)for(var I=0,L=Object.values(O.queries.query);I<L.length;I++)for(var M=0,F=(J=L[I]).slice();M<F.length;M++)xl((G=F[M]).obsSet,k.mutatedParts)&&(te(J,G),G.subscribers.forEach(function(ne){return P.add(ne)}));else if(0<D.length){O.optimisticOps=O.optimisticOps.filter(function(ne){return ne.trans!==k});for(var B=0,V=Object.values(O.queries.query);B<V.length;B++)for(var J,G,Q,X=0,Y=(J=V[B]).slice();X<Y.length;X++)(G=Y[X]).res!=null&&k.mutatedParts&&(C&&!G.dirty?(Q=Object.isFrozen(G.res),Q=Yd(G.res,G.req,D,T,G,Q),G.dirty?(te(J,G),G.subscribers.forEach(function(ne){return P.add(ne)})):Q!==G.res&&(G.res=Q,G.promise=ee.resolve({result:Q}))):(G.dirty&&te(J,G),G.subscribers.forEach(function(ne){return P.add(ne)})))}}}P.forEach(function(ne){return ne()})}}},k.addEventListener("abort",h(!1),{signal:w}),k.addEventListener("error",h(!1),{signal:w}),k.addEventListener("complete",h(!0),{signal:w})),k},table:function(c){var f=o.table(c),h=f.schema.primaryKey;return r(r({},f),{mutate:function(m){var w=ae.trans;if(h.outbound||w.db._options.cache==="disabled"||w.explicit||w.idbtrans.mode!=="readwrite")return f.mutate(m);var k=hr["idb://".concat(l,"/").concat(c)];return k?(w=f.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Tl(h,m).some(function(C){return C==null}))?(k.optimisticOps.push(m),m.mutatedParts&&bo(m.mutatedParts),w.then(function(C){0<C.numFailures&&(te(k.optimisticOps,m),(C=Jd(0,m,C))&&k.optimisticOps.push(C),m.mutatedParts&&bo(m.mutatedParts))}),w.catch(function(){te(k.optimisticOps,m),m.mutatedParts&&bo(m.mutatedParts)})):w.then(function(C){var P=Jd(0,r(r({},m),{values:m.values.map(function(R,x){var $;return C.failures[x]?R:(R=($=h.keyPath)!==null&&$!==void 0&&$.includes(".")?Fe(R):r({},R),W(R,h.keyPath,C.results[x]),R)})}),C);k.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&bo(m.mutatedParts)})}),w):f.mutate(m)},query:function(m){if(!Gd(ae,f)||!Qd("query",m))return f.query(m);var w=((P=ae.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",x=ae,k=x.requery,C=x.signal,P=function(T,D,I,L){var M=hr["idb://".concat(T,"/").concat(D)];if(!M)return[];if(!(D=M.queries[I]))return[null,!1,M,null];var F=D[(L.query?L.query.index.name:null)||""];if(!F)return[null,!1,M,null];switch(I){case"query":var B=F.find(function(V){return V.req.limit===L.limit&&V.req.values===L.values&&Xd(V.req.query.range,L.query.range)});return B?[B,!0,M,F]:[F.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=L.limit&&(!L.values||V.req.values)&&ng(V.req.query.range,L.query.range)}),!1,M,F];case"count":return B=F.find(function(V){return Xd(V.req.query.range,L.query.range)}),[B,!!B,M,F]}}(l,c,"query",m),R=P[0],x=P[1],$=P[2],O=P[3];return R&&x?R.obsSet=m.obsSet:(x=f.query(m).then(function(T){var D=T.result;if(R&&(R.res=D),w){for(var I=0,L=D.length;I<L;++I)Object.freeze(D[I]);Object.freeze(D)}else T.result=Fe(D);return T}).catch(function(T){return O&&R&&te(O,R),Promise.reject(T)}),R={obsSet:m.obsSet,promise:x,subscribers:new Set,type:"query",req:m,dirty:!1},O?O.push(R):(O=[R],($=$||(hr["idb://".concat(l,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=O)),rg(R,O,k,C),R.promise.then(function(T){return{result:Yd(T.result,m,$==null?void 0:$.optimisticOps,f,R,w)}})}})}})}};function So(o,l){return new Proxy(o,{get:function(c,f,h){return f==="db"?l:Reflect.get(c,f,h)}})}var un=(Ue.prototype.version=function(o){if(isNaN(o)||o<.1)throw new le.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var l=this._versions,c=l.filter(function(f){return f._cfg.version===o})[0];return c||(c=new this.Version(o),l.push(c),l.sort(Hv),c.stores({}),this._state.autoSchema=!1,c)},Ue.prototype._whenReady=function(o){var l=this;return this.idbdb&&(this._state.openComplete||ae.letThrough||this._vip)?o():new ee(function(c,f){if(l._state.openComplete)return f(new le.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void f(new le.DatabaseClosed);l.open().catch(Se)}l._state.dbReadyPromise.then(c,f)}).then(o)},Ue.prototype.use=function(o){var l=o.stack,c=o.create,f=o.level,h=o.name;return h&&this.unuse({stack:l,name:h}),o=this._middlewares[l]||(this._middlewares[l]=[]),o.push({stack:l,create:c,level:f??10,name:h}),o.sort(function(m,w){return m.level-w.level}),this},Ue.prototype.unuse=function(o){var l=o.stack,c=o.name,f=o.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return f?h.create!==f:!!c&&h.name!==c})),this},Ue.prototype.open=function(){var o=this;return cr(jn,function(){return Yv(o)})},Ue.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,l=Kr.indexOf(this);if(0<=l&&Kr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new ee(function(c){o.dbReadyResolve=c}),o.openCanceller=new ee(function(c,f){o.cancelOpen=f}))},Ue.prototype.close=function(c){var l=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new le.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new le.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},Ue.prototype.delete=function(o){var l=this;o===void 0&&(o={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new ee(function(h,m){function w(){l.close(o);var k=l._deps.indexedDB.deleteDatabase(l.name);k.onsuccess=Te(function(){var C,P,R;C=l._deps,P=l.name,R=C.indexedDB,C=C.IDBKeyRange,bl(R)||P===ao||_l(R,C).delete(P).catch(Se),h()}),k.onerror=Xt(m),k.onblocked=l._fireOnBlocked}if(c)throw new le.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(w):w()})},Ue.prototype.backendDB=function(){return this.idbdb},Ue.prototype.isOpen=function(){return this.idbdb!==null},Ue.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Ue.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ue.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ue.prototype,"tables",{get:function(){var o=this;return a(this._allTables).map(function(l){return o._allTables[l]})},enumerable:!1,configurable:!0}),Ue.prototype.transaction=function(){var o=(function(l,c,f){var h=arguments.length;if(h<2)throw new le.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return f=m.pop(),[l,oe(m),f]}).apply(this,arguments);return this._transaction.apply(this,o)},Ue.prototype._transaction=function(o,l,c){var f=this,h=ae.trans;h&&h.db===this&&o.indexOf("!")===-1||(h=null);var m,w,k=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(w=l.map(function(P){if(P=P instanceof f.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),o=="r"||o===ul)m=ul;else{if(o!="rw"&&o!=cl)throw new le.InvalidArgument("Invalid transaction mode: "+o);m=cl}if(h){if(h.mode===ul&&m===cl){if(!k)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&w.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!k)throw new le.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),k&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(R,x){x(P)}):Le(P)}var C=(function P(R,x,$,O,T){return ee.resolve().then(function(){var D=ae.transless||ae,I=R._createTransaction(x,$,R._dbSchema,O);if(I.explicit=!0,D={trans:I,transless:D},O)I.idbtrans=O.idbtrans;else try{I.create(),I.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(F){return F.name===En.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,x,$,null,T)})):Le(F)}var L,M=je(T);return M&&Br(),D=ee.follow(function(){var F;(L=T.call(I,I))&&(M?(F=On.bind(null,null),L.then(F,F)):typeof L.next=="function"&&typeof L.throw=="function"&&(L=Ol(L)))},D),(L&&typeof L.then=="function"?ee.resolve(L).then(function(F){return I.active?F:Le(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):D.then(function(){return L})).then(function(F){return O&&I._resolve(),I._completion.then(function(){return F})}).catch(function(F){return I._reject(F),Le(F)})})}).bind(null,this,m,w,h,c);return h?h._promise(m,C,"lock"):ae.trans?cr(ae.transless,function(){return f._whenReady(C)}):this._whenReady(C)},Ue.prototype.table=function(o){if(!g(this._allTables,o))throw new le.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Ue);function Ue(o,l){var c=this;this._middlewares={},this.verno=0;var f=Ue.dependencies;this._options=l=r({addons:Ue.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},f=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,w,k,C,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new ee(function(x){P.dbReadyResolve=x}),P.openCanceller=new ee(function(x,$){P.cancelOpen=$}),this._state=P,this.name=o,this.on=Ki(this,"populate","blocked","versionchange","close",{ready:[el,Se]}),this.once=function(x,$){var O=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];c.on(x).unsubscribe(O),$.apply(c,T)};return c.on(x,O)},this.on.ready.subscribe=S(this.on.ready.subscribe,function(x){return function($,O){Ue.vip(function(){var T,D=c._state;D.openComplete?(D.dbOpenError||ee.resolve().then($),O&&x($)):D.onReadyBeingFired?(D.onReadyBeingFired.push($),O&&x($)):(x($),T=c,O||x(function I(){T.on.ready.unsubscribe($),T.on.ready.unsubscribe(I)}))})}}),this.Collection=(h=this,qi(Mv.prototype,function(L,I){this.db=h;var O=Od,T=null;if(I)try{O=I()}catch(M){T=M}var D=L._ctx,I=D.table,L=I.hook.reading.fire;this._ctx={table:I,index:D.index,isPrimKey:!D.index||I.schema.primKey.keyPath&&D.index===I.schema.primKey.name,range:O,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:D.or,valueMapper:L!==Ui?L:null}})),this.Table=(m=this,qi(Ad.prototype,function(x,$,O){this.db=m,this._tx=O,this.name=x,this.schema=$,this.hook=m._allTables[x]?m._allTables[x].hook:Ki(null,{creating:[Nv,Se],reading:[Tv,Ui],updating:[Rv,Se],deleting:[Av,Se]})})),this.Transaction=(w=this,qi(Kv.prototype,function(x,$,O,T,D){var I=this;x!=="readonly"&&$.forEach(function(L){L=(L=O[L])===null||L===void 0?void 0:L.yProps,L&&($=$.concat(L.map(function(M){return M.updatesTable})))}),this.db=w,this.mode=x,this.storeNames=$,this.schema=O,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=Ki(this,"complete","error","abort"),this.parent=D||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee(function(L,M){I._resolve=L,I._reject=M}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(L){var M=I.active;return I.active=!1,I.on.error.fire(L),I.parent?I.parent._reject(L):M&&I.idbtrans&&I.idbtrans.abort(),Le(L)})})),this.Version=(k=this,qi(Jv.prototype,function(x){this.db=k,this._cfg={version:x,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,qi(Ud.prototype,function(x,$,O){if(this.db=C,this._ctx={table:x,index:$===":id"?null:$,or:O},this._cmp=this._ascending=ye,this._descending=function(T,D){return ye(D,T)},this._max=function(T,D){return 0<ye(T,D)?T:D},this._min=function(T,D){return ye(T,D)<0?T:D},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new le.MissingAPI})),this.on("versionchange",function(x){0<x.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(x){!x.newVersion||x.newVersion<x.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(x.oldVersion/10))}),this._maxKey=Gi(l.IDBKeyRange),this._createTransaction=function(x,$,O,T){return new c.Transaction(x,$,O,c._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(x){c.on("blocked").fire(x),Kr.filter(function($){return $.name===c.name&&$!==c&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(x)})},this.use(eg),this.use(ig),this.use(tg),this.use(Xv),this.use(Zv);var R=new Proxy(this,{get:function(x,$,O){if($==="_vip")return!0;if($==="table")return function(D){return So(c.table(D),R)};var T=Reflect.get(x,$,O);return T instanceof Ad?So(T,R):$==="tables"?T.map(function(D){return So(D,R)}):$==="_createTransaction"?function(){return So(T.apply(this,arguments),R)}:T}});this.vip=R,f.forEach(function(x){return x(c)})}var xo,Rt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",sg=(Al.prototype.subscribe=function(o,l,c){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:l,complete:c})},Al.prototype[Rt]=function(){return this},Al);function Al(o){this._subscribe=o}try{xo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{xo={indexedDB:null,IDBKeyRange:null}}function Zd(o){var l,c=!1,f=new sg(function(h){var m=je(o),w,k=!1,C={},P={},R={get closed(){return k},unsubscribe:function(){k||(k=!0,w&&w.abort(),x&&Nn.storagemutated.unsubscribe(O))}};h.start&&h.start(R);var x=!1,$=function(){return ll(T)},O=function(D){_o(C,D),xl(P,C)&&$()},T=function(){var D,I,L;!k&&xo.indexedDB&&(C={},D={},w&&w.abort(),w=new AbortController,L=function(M){var F=Mr();try{m&&Br();var B=Cn(o,M);return B=m?B.finally(On):B}finally{F&&Fr()}}(I={subscr:D,signal:w.signal,requery:$,querier:o,trans:null}),Promise.resolve(L).then(function(M){c=!0,l=M,k||I.signal.aborted||(C={},function(F){for(var B in F)if(g(F,B))return;return 1}(P=D)||x||(Nn(Hi,O),x=!0),ll(function(){return!k&&h.next&&h.next(M)}))},function(M){c=!1,["DatabaseClosedError","AbortError"].includes(M==null?void 0:M.name)||k||ll(function(){k||h.error&&h.error(M)})}))};return setTimeout($,0),R});return f.hasValue=function(){return c},f.getValue=function(){return l},f}var pr=un;function Rl(o){var l=An;try{An=!0,Nn.storagemutated.fire(o),Cl(o,!0)}finally{An=l}}y(pr,r(r({},Xs),{delete:function(o){return new pr(o,{addons:[]}).delete()},exists:function(o){return new pr(o,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return l=pr.dependencies,c=l.indexedDB,l=l.IDBKeyRange,(bl(c)?Promise.resolve(c.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==ao})}):_l(c,l).toCollection().primaryKeys()).then(o)}catch{return Le(new le.MissingAPI)}var l,c},defineClass:function(){return function(o){d(this,o)}},ignoreTransaction:function(o){return ae.trans?cr(ae.transless,o):o()},vip:kl,async:function(o){return function(){try{var l=Ol(o.apply(this,arguments));return l&&typeof l.then=="function"?l:ee.resolve(l)}catch(c){return Le(c)}}},spawn:function(o,l,c){try{var f=Ol(o.apply(c,l||[]));return f&&typeof f.then=="function"?f:ee.resolve(f)}catch(h){return Le(h)}},currentTransaction:{get:function(){return ae.trans||null}},waitFor:function(o,l){return l=ee.resolve(typeof o=="function"?pr.ignoreTransaction(o):o).timeout(l||6e4),ae.trans?ae.trans.waitFor(l):l},Promise:ee,debug:{get:function(){return Yt},set:function(o){bd(o)}},derive:U,extend:d,props:y,override:S,Events:Ki,on:Nn,liveQuery:Zd,extendObservabilitySet:_o,getByKeyPath:K,setByKeyPath:W,delByKeyPath:function(o,l){typeof l=="string"?W(o,l,void 0):"length"in l&&[].map.call(l,function(c){W(o,c,void 0)})},shallowClone:re,deepClone:Fe,getObjectDiff:Pl,cmp:ye,asap:z,minKey:-1/0,addons:[],connections:Kr,errnames:En,dependencies:xo,cache:hr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,l,c){return o+l/Math.pow(10,2*c)})})),pr.maxKey=Gi(pr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nn(Hi,function(o){An||(o=new CustomEvent(hl,{detail:o}),An=!0,dispatchEvent(o),An=!1)}),addEventListener(hl,function(o){o=o.detail,An||Rl(o)}));var Hr,An=!1,ef=function(){};return typeof BroadcastChannel<"u"&&((ef=function(){(Hr=new BroadcastChannel(hl)).onmessage=function(o){return o.data&&Rl(o.data)}})(),typeof Hr.unref=="function"&&Hr.unref(),Nn(Hi,function(o){An||Hr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!un.disableBfCache&&o.persisted){Yt&&console.debug("Dexie: handling persisted pagehide"),Hr!=null&&Hr.close();for(var l=0,c=Kr;l<c.length;l++)c[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!un.disableBfCache&&o.persisted&&(Yt&&console.debug("Dexie: handling persisted pageshow"),ef(),Rl({all:new rt(-1/0,[[]])}))})),ee.rejectionMapper=function(o,l){return!o||o instanceof Mt||o instanceof TypeError||o instanceof SyntaxError||!o.name||!_d[o.name]?o:(l=new _d[o.name](l||o.message,o),"stack"in o&&N(l,"stack",{get:function(){return this.inner.stack}}),l)},bd(Yt),r(un,Object.freeze({__proto__:null,Dexie:un,liveQuery:Zd,Entity:Pd,cmp:ye,PropModification:Wi,replacePrefix:function(o,l){return new Wi({replacePrefix:[o,l]})},add:function(o){return new Wi({add:o})},remove:function(o){return new Wi({remove:o})},default:un,RangeSet:rt,mergeRanges:Yi,rangesOverlap:Kd}),{default:un}),un})})(Sv);var Db=Sv.exports;const _c=$h(Db),Ah=Symbol.for("Dexie"),Ni=globalThis[Ah]||(globalThis[Ah]=_c);if(_c.semVer!==Ni.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_c.semVer} and ${Ni.semVer}`);const{liveQuery:yk,mergeRanges:wk,rangesOverlap:_k,RangeSet:bk,cmp:kk,Entity:Sk,PropModification:xk,replacePrefix:Ek,add:jk,remove:Ck,DexieYProvider:Ok}=Ni;class $b extends Ni{constructor(){super("gestor-reparaciones"),this.version(1).stores({clientes:"id, nombre, telefono, fecha_alta",equipos:"id, clienteId, marca, modelo, fecha_recepcion",ordenes:"id, codigo, equipoId, estado, creada, actualizada",eventos:"id, ordenId, fecha",piezas:"id, ordenId, estado"}),this.version(2).stores({clientes:"id, nombre, telefono, fecha_alta",equipos:"id, clienteId, marca, modelo, fecha_recepcion",ordenes:"id, codigo, equipoId, estado, creada, actualizada",eventos:"id, ordenId, fecha",piezas:"id, ordenId, estado",adjuntos:"id, ordenId, fecha"}),this.version(3).stores({clientes:"id, nombre, telefono, fecha_alta",equipos:"id, clienteId, marca, modelo, fecha_recepcion",ordenes:"id, codigo, equipoId, estado, creada, actualizada, cliente, telefono, equipo",eventos:"id, ordenId, fecha",piezas:"id, ordenId, estado",adjuntos:"id, ordenId, fecha"})}}const Z=new $b,xv="2f647c2d-8b01-447a-8959-1e35520937a6";let Ev="idle";function Lb(){return Ev}const ia=[];function Ub(t){return ia.push(t),()=>{const e=ia.indexOf(t);e!==-1&&ia.splice(e,1)}}function vn(t){Ev=t,ia.forEach(e=>e(t))}async function zb(){vn("syncing"),console.log("⚙️ Sincronización manual forzada...");try{await Mb(),await Fb()}catch(t){throw console.error("❌ Error en sincronización forzada:",t),vn("error"),t}}async function Mb(){try{vn("syncing"),console.log("📤 Subiendo backup a Supabase...");const t=await Z.clientes.toArray(),e=await Z.equipos.toArray(),n=await Z.ordenes.toArray(),r=await Z.adjuntos.toArray(),i={clientes:t,equipos:e,ordenes:n,adjuntos:r,fecha:new Date().toISOString()},{error:s}=await kv.from("backups").upsert([{id:xv,fecha:new Date().toISOString(),payload:i}],{onConflict:"id"});if(s)throw s;console.log("✅ Backup subido correctamente."),vn("ok")}catch(t){console.error("❌ Error en syncPush:",t.message),vn("error")}}async function Fb(){try{vn("syncing"),console.log("⬇️ Descargando backup desde Supabase...");const{data:t,error:e}=await kv.from("backups").select("payload").eq("id",xv).single();if(e)throw e;const n=t==null?void 0:t.payload;if(!n||!n.fecha){console.log("⚠️ No se encontró backup válido en Supabase. Se mantendrán los datos locales."),vn("ok");return}const r=new Date(n.fecha),i=await Z.ordenes.count(),s=await Z.ordenes.orderBy("actualizada").last();if(i===0||r>new Date((s==null?void 0:s.actualizada)||0)){console.log("🔄 Restaurando backup remoto más reciente...");const{clientes:a,equipos:u,ordenes:d,adjuntos:p}=n;await Z.transaction("rw",Z.clientes,Z.equipos,Z.ordenes,Z.adjuntos,async()=>{await Z.clientes.clear(),await Z.equipos.clear(),await Z.ordenes.clear(),await Z.adjuntos.clear(),await Z.clientes.bulkAdd(a||[]),await Z.equipos.bulkAdd(u||[]),await Z.ordenes.bulkAdd(d||[]),await Z.adjuntos.bulkAdd(p||[])}),console.log("✅ Datos restaurados desde Supabase.")}else console.log("Datos locales más recientes o iguales. No se realiza pull.");vn("ok")}catch(t){console.error("❌ Error en syncPull:",t.message),vn("error")}}function Bb({tab:t,onTab:e,children:n}){const[r,i]=ve.useState(()=>localStorage.getItem("gr_dark")==="1"),[s,a]=ve.useState(Lb());return ve.useEffect(()=>{Ub(d=>a(d))},[]),ve.useEffect(()=>{const u=document.documentElement;localStorage.setItem("gr_dark",r?"1":"0"),r?u.classList.add("dark"):u.classList.remove("dark")},[r]),_.jsxs("div",{className:"min-h-screen grid grid-cols-1 lg:grid-cols-[240px_1fr] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[_.jsxs("aside",{className:"hidden lg:flex lg:flex-col gap-2 border-r border-neutral-200 dark:border-neutral-800 p-4 sticky top-0 h-screen",children:[_.jsx("h1",{className:"text-xl font-bold mb-4",children:"Gestor Rep."}),_.jsx(as,{icon:W0,label:"Registro",active:t==="registro",onClick:()=>e("registro")}),_.jsx(as,{icon:H0,label:"Órdenes",active:t==="ordenes",onClick:()=>e("ordenes")}),_.jsx(as,{icon:z0,label:"Presupuesto",active:t==="presupuesto",onClick:()=>e("presupuesto")}),_.jsx(as,{icon:tw,label:"Reparación",active:t==="reparacion",onClick:()=>e("reparacion")}),_.jsx(as,{icon:Z0,label:"Informes",active:t==="informes",onClick:()=>e("informes")}),_.jsx("div",{className:"mt-auto pt-4 border-t border-neutral-200 dark:border-neutral-800",children:_.jsxs("div",{className:"text-xs opacity-70",children:["Sincronización: ",s]})})]}),_.jsxs("div",{className:"grid grid-rows-[auto_1fr]",children:[_.jsxs("header",{className:"border-b border-neutral-200 dark:border-neutral-800",children:[_.jsxs("div",{className:"flex justify-between items-center max-w-6xl w-full mx-auto p-4",children:[_.jsx("h1",{className:"text-xl font-bold lg:hidden",children:"Gestor Rep."}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("button",{className:`tab ${t==="registro"?"tab-active":""}`,onClick:()=>e("registro"),children:"Registro"}),_.jsx("button",{className:`tab ${t==="ordenes"?"tab-active":""}`,onClick:()=>e("ordenes"),children:"Órdenes"}),_.jsx("button",{className:`tab ${t==="presupuesto"?"tab-active":""}`,onClick:()=>e("presupuesto"),children:"Presupuesto"}),_.jsx("button",{className:`tab ${t==="reparacion"?"tab-active":""}`,onClick:()=>e("reparacion"),children:"Reparación"}),_.jsx("button",{className:`tab ${t==="informes"?"tab-active":""}`,onClick:()=>e("informes"),children:"Informes"}),_.jsx("button",{title:"Tema",className:"btn btn-ghost",onClick:()=>i(u=>!u),children:r?_.jsx(Y0,{className:"size-4"}):_.jsx(Q0,{className:"size-4"})})]})]}),_.jsxs("div",{className:"lg:hidden p-2 text-center text-xs opacity-70 border-t border-neutral-200 dark:border-neutral-800",children:["Sincronización: ",s]})]}),_.jsx("main",{className:"max-w-6xl w-full mx-auto p-4 overflow-y-auto",children:_.jsx("div",{className:"grid gap-4",children:n})})]})]})}function as({icon:t,label:e,active:n,onClick:r}){return _.jsxs("button",{onClick:r,className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-colors duration-150 ${n?"bg-primary-500 text-white shadow-md":"text-neutral-600 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-800"}`,children:[_.jsx(t,{className:"size-4"}),_.jsx("span",{children:e})]})}function Kb(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var s=br.useRef({hasResult:!1,result:i,error:null}),a=br.useReducer(function(p){return p+1},0);a[0];var u=a[1],d=br.useMemo(function(){var p=typeof t=="function"?t():t;if(!p||typeof p.subscribe!="function")throw t===p?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof p.hasValue!="function"||p.hasValue()))if(typeof p.getValue=="function")s.current.result=p.getValue(),s.current.hasResult=!0;else{var v=p.subscribe(function(g){s.current.result=g,s.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return p},r);if(br.useDebugValue(s.current.result),br.useEffect(function(){var p=d.subscribe(function(v){var g=s.current;(g.error!==null||g.result!==v)&&(g.error=null,g.result=v,g.hasResult=!0,u())},function(v){var g=s.current;g.error!==v&&(g.error=v,u())});return typeof p=="function"?p:p.unsubscribe.bind(p)},r),s.current.error)throw s.current.error;return s.current.result}function hn(t,e,n){return Kb(function(){return Ni.liveQuery(t)},e||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=Ni.DexieYProvider;e&&e.release(t)});const Ze=[];for(let t=0;t<256;++t)Ze.push((t+256).toString(16).slice(1));function qb(t,e=0){return(Ze[t[e+0]]+Ze[t[e+1]]+Ze[t[e+2]]+Ze[t[e+3]]+"-"+Ze[t[e+4]]+Ze[t[e+5]]+"-"+Ze[t[e+6]]+Ze[t[e+7]]+"-"+Ze[t[e+8]]+Ze[t[e+9]]+"-"+Ze[t[e+10]]+Ze[t[e+11]]+Ze[t[e+12]]+Ze[t[e+13]]+Ze[t[e+14]]+Ze[t[e+15]]).toLowerCase()}let mu;const Wb=new Uint8Array(16);function Vb(){if(!mu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mu=crypto.getRandomValues.bind(crypto)}return mu(Wb)}const Hb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rh={randomUUID:Hb};function Gb(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Vb();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qb(r)}function Tr(t,e,n){return Rh.randomUUID&&!t?Rh.randomUUID():Gb(t)}function jv(t=Date.now()){return"ORD-"+t}async function Cv(t){const e=new Date().toISOString();let n;if(t.id){if(await Z.clientes.update(t.id,{nombre:t.nombre,telefono:t.telefono,email:t.email||null}),n=await Z.clientes.get(t.id),!n)throw new Error(`Error: Cliente con ID ${t.id} no encontrado para actualizar.`)}else n={id:Tr(),nombre:t.nombre,telefono:t.cliente.telefono,email:t.email||null,fecha_alta:e},await Z.clientes.add(n);return n}async function Qb(t){const e=new Date().toISOString();return Z.transaction("rw",Z.clientes,Z.equipos,Z.ordenes,Z.eventos,async()=>{const n=await Cv(t.cliente),r={id:Tr(),clienteId:n.id,categoria:t.equipo.categoria,marca:t.equipo.marca,modelo:t.equipo.modelo,numeroSerie:t.equipo.numeroSerie,descripcion:t.equipo.descripcion,fecha_recepcion:e},i={id:Tr(),codigo:jv(),equipoId:r.id,estado:"recepcion",creada:e,actualizada:e,cliente:n.nombre,telefono:n.telefono,equipo:`${r.marca} ${r.modelo}`},s={id:Tr(),ordenId:i.id,tipo:"recepcion",texto:"Equipo recibido y registrado.",fecha:e};return await Z.equipos.add(r),await Z.ordenes.add(i),await Z.eventos.add(s),{cliente:n,equipo:r,orden:i}})}async function Jb(t){const e=new Date().toISOString();return Z.transaction("rw",Z.clientes,Z.equipos,Z.ordenes,Z.eventos,async()=>{const n=await Cv(t.cliente),r=t.equipos.map(u=>({id:Tr(),clienteId:n.id,categoria:u.categoria,marca:u.marca,modelo:u.modelo,numeroSerie:u.numeroSerie,descripcion:u.descripcion,fecha_recepcion:e})),i=r.map(u=>({id:Tr(),codigo:jv(),equipoId:u.id,estado:"recepcion",creada:e,actualizada:e,cliente:n.nombre,telefono:n.telefono,equipo:`${u.marca} ${u.modelo}`})),s=i.map(u=>({id:Tr(),ordenId:u.id,tipo:"recepcion",texto:"Equipo recibido y registrado.",fecha:e}));return await Z.equipos.bulkAdd(r),await Z.ordenes.bulkAdd(i),await Z.eventos.bulkAdd(s),{resultados:i.map((u,d)=>({cliente:n,equipo:r[d],orden:u}))}})}const Ih={id:void 0,nombre:"",telefono:"",email:""},vu={categoria:"",marca:"",modelo:"",numeroSerie:"",descripcion:""};function Yb({onCreated:t}){const[e,n]=ve.useState(Ih),[r,i]=ve.useState([{...vu}]),s=hn(()=>Z.clientes.toArray(),[]);ve.useEffect(()=>{if(e.telefono&&e.telefono.length>=9&&s){const y=s.find(E=>E.telefono===e.telefono);y&&y.id!==e.id&&n({id:y.id,nombre:y.nombre,telefono:y.telefono,email:y.email||""})}if(e.id&&e.telefono){const y=s==null?void 0:s.find(E=>E.id===e.id);y&&y.telefono!==e.telefono&&n(E=>({...E,id:void 0}))}else!e.telefono&&e.id&&n(y=>({...y,id:void 0,nombre:"",email:""}))},[e.telefono,s]);const a=!!e.nombre&&!!e.telefono&&r.every(y=>y.categoria&&y.marca&&y.modelo&&y.descripcion);function u(y,E){i(N=>N.map((U,q)=>q===y?{...U,...E}:U))}function d(){i(y=>[...y,{...vu}])}function p(y){i(E=>E.length>1?E.filter((N,U)=>U!==y):E)}function v(){n({...Ih}),i([{...vu}])}async function g(){if(!a)return;const y={id:e.id||void 0,nombre:e.nombre,telefono:e.telefono,email:e.email||void 0};if(r.length===1){const N=r[0],{orden:U}=await Qb({cliente:y,equipo:{categoria:N.categoria,marca:N.marca,modelo:N.modelo,numeroSerie:N.numeroSerie||void 0,descripcion:N.descripcion}});v(),t(U.id);return}const{resultados:E}=await Jb({cliente:y,equipos:r.map(N=>({categoria:N.categoria,marca:N.marca,modelo:N.modelo,numeroSerie:N.numeroSerie||void 0,descripcion:N.descripcion}))});v(),t(E[0].orden.id)}return _.jsx("section",{className:"grid gap-4",children:_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-4",children:[_.jsx("h2",{className:"text-lg font-semibold",children:"Registro cliente y aparatos"}),_.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[_.jsxs(Dn,{label:"Nombre*",children:[_.jsx("input",{className:"input",value:e.nombre,onChange:y=>n({...e,nombre:y.target.value})}),e.id&&_.jsxs("span",{className:"text-xs text-green-500",children:["Cliente existente (ID: ",e.id.substring(0,4),"...)"]})]}),_.jsx(Dn,{label:"Teléfono*",children:_.jsx("input",{className:"input",type:"tel",value:e.telefono,onChange:y=>n({...e,telefono:y.target.value})})}),_.jsx(Dn,{label:"Email",children:_.jsx("input",{className:"input",type:"email",value:e.email||"",onChange:y=>n({...e,email:y.target.value})})})]}),_.jsxs("div",{className:"grid gap-4",children:[r.map((y,E)=>_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"font-medium",children:["Equipo #",E+1]}),r.length>1&&_.jsx("button",{className:"btn",onClick:()=>p(E),children:"Quitar"})]}),_.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[_.jsx(Dn,{label:"Aparato*",children:_.jsx("input",{className:"input w-full",value:y.categoria,onChange:N=>u(E,{categoria:N.target.value}),placeholder:"Ej: Móvil, Portátil, Consola PS5, etc."})}),_.jsx(Dn,{label:"Marca*",children:_.jsx("input",{className:"input",value:y.marca,onChange:N=>u(E,{marca:N.target.value})})}),_.jsx(Dn,{label:"Modelo*",children:_.jsx("input",{className:"input",value:y.modelo,onChange:N=>u(E,{modelo:N.target.value})})}),_.jsx(Dn,{label:"Nº de serie",children:_.jsx("input",{className:"input",value:y.numeroSerie,onChange:N=>u(E,{numeroSerie:N.target.value})})})]}),_.jsx(Dn,{label:"Daño inicial*",children:_.jsx("textarea",{className:"input min-h-28",value:y.descripcion,onChange:N=>u(E,{descripcion:N.target.value})})})]})},E)),_.jsx("div",{children:_.jsx("button",{className:"btn",onClick:d,children:"Añadir otro equipo"})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"btn btn-primary",disabled:!a,onClick:g,children:"Crear orden(es)"}),_.jsx("button",{className:"btn",onClick:v,children:"Limpiar"})]})]})})})}function Dn({label:t,children:e}){return _.jsxs("label",{className:"grid gap-1",children:[_.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),e]})}function Xb(t){const e=i=>`"${(i||"").replace(/"/g,'""')}"`;return[["ID","Código","Estado","Cliente","Teléfono","Equipo","Creada","Actualizada"].join(",")].concat(t.map(i=>[i.id,i.codigo,i.estado,i.cliente,i.telefono,i.equipo,new Date(i.creada).toLocaleString(),new Date(i.actualizada).toLocaleString()].map(e).join(","))).join(`\r
`)}async function Zb(){return new Promise(t=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async()=>{var r;const n=(r=e.files)==null?void 0:r[0];if(!n){t(null);return}try{const i=JSON.parse(await n.text());t(i)}catch{t(null)}},e.click()})}function ek({onOpen:t}){const[e,n]=ve.useState(""),[r,i]=ve.useState("todos"),[s,a]=ve.useState(""),[u,d]=ve.useState(""),[p,v]=ve.useState("act_desc"),[g,y]=ve.useState(null),[E,N]=ve.useState(!1),U=hn(()=>Z.ordenes.toArray(),[]),q=ve.useMemo(()=>{if(!U)return[];const z={};U.forEach(ie=>{if(!ie.cliente||!ie.telefono||!ie.equipo){console.warn("Orden ignorada por falta de campos redundantes:",ie.id);return}const oe=ie.cliente+ie.telefono,Me={id:ie.id,codigo:ie.codigo,estado:ie.estado,cliente:ie.cliente,telefono:ie.telefono,equipo:ie.equipo,creada:ie.creada,actualizada:ie.actualizada};z[oe]||(z[oe]={clienteId:oe,nombre:Me.cliente,telefono:Me.telefono,totalOrdenes:0,ordenes:[]}),z[oe].ordenes.push(Me),z[oe].totalOrdenes++});let K=Object.values(z);const W=e.trim().toLowerCase(),re={creada_desc:(ie,oe)=>new Date(oe.creada).getTime()-new Date(ie.creada).getTime(),creada_asc:(ie,oe)=>new Date(ie.creada).getTime()-new Date(oe.creada).getTime(),act_desc:(ie,oe)=>new Date(oe.actualizada).getTime()-new Date(ie.actualizada).getTime(),act_asc:(ie,oe)=>new Date(ie.actualizada).getTime()-new Date(oe.actualizada).getTime()}[p];return K=K.filter(ie=>{const oe=ie.ordenes.filter(Fe=>{let zr=r==="todos"||Fe.estado===r,ir=s?new Date(Fe.creada)>=new Date(s):!0,an=u?new Date(Fe.creada).setHours(23,59,59,999)>=new Date(u).getTime():!0;return zr&&ir&&an}).sort(re),Me=ie.nombre.toLowerCase().includes(W)||ie.telefono.includes(W),xt=oe.some(Fe=>Fe.codigo.toLowerCase().includes(W)||Fe.equipo.toLowerCase().includes(W));return ie.ordenes=oe,(Me||xt)&&oe.length>0}),g&&!K.some(ie=>ie.clienteId===g)&&y(null),K},[U,e,r,s,u,p,g]);function j(){const z=q.flatMap(oe=>oe.ordenes);if(z.length===0){alert("No hay órdenes para exportar.");return}const K=Xb(z),W=new Blob([K],{type:"text/csv;charset=utf-8;"}),re=URL.createObjectURL(W),ie=document.createElement("a");ie.href=re,ie.download=`ordenes-${new Date().toISOString().slice(0,10)}.csv`,ie.click(),URL.revokeObjectURL(re)}async function b(){if(!confirm("¿Estás seguro de que quieres importar datos? Esto podría añadir o sobrescribir datos si los IDs coinciden."))return;const z=await Zb();if(z)try{await Z.transaction("rw",Z.clientes,Z.equipos,Z.ordenes,Z.eventos,Z.piezas,Z.adjuntos,async()=>{z.clientes&&await Z.clientes.bulkAdd(z.clientes).catch(()=>console.warn("Advertencia: Algunos clientes ya existían o tenían un ID repetido.")),z.equipos&&await Z.equipos.bulkAdd(z.equipos).catch(()=>console.warn("Advertencia: Algunos equipos ya existían o tenían un ID repetido.")),z.ordenes&&await Z.ordenes.bulkAdd(z.ordenes).catch(()=>console.warn("Advertencia: Algunas órdenes ya existían o tenían un ID repetido.")),z.eventos&&await Z.eventos.bulkAdd(z.eventos).catch(()=>console.warn("Advertencia: Algunos eventos ya existían o tenían un ID repetido.")),z.piezas&&await Z.piezas.bulkAdd(z.piezas).catch(()=>console.warn("Advertencia: Algunas piezas ya existían o tenían un ID repetido.")),z.adjuntos&&await Z.adjuntos.bulkAdd(z.adjuntos).catch(()=>console.warn("Advertencia: Algunos adjuntos ya existían o tenían un ID repetido."))}),alert("Datos importados correctamente.")}catch(K){alert(`Error al importar datos: ${K.message}`)}}async function S(z){confirm("¿Seguro que deseas eliminar esta orden?")&&(await Z.transaction("rw",Z.ordenes,Z.eventos,Z.piezas,Z.adjuntos,async()=>{await Z.eventos.where("ordenId").equals(z).delete(),await Z.piezas.where("ordenId").equals(z).delete(),Z.adjuntos&&await Z.adjuntos.where("ordenId").equals(z).delete(),await Z.ordenes.delete(z)}),alert("Orden eliminada correctamente"))}async function A(){N(!0);try{await zb()}catch{alert("Error al sincronizar. Revisa la consola y la conexión.")}finally{N(!1)}}return _.jsxs("section",{className:"grid gap-3",children:[_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("div",{className:"grid lg:grid-cols-5 gap-2",children:[_.jsx("input",{className:"input",placeholder:"Buscar por código, cliente, teléfono o equipo",value:e,onChange:z=>n(z.target.value)}),_.jsxs("select",{className:"input",value:r,onChange:z=>i(z.target.value),children:[_.jsx("option",{value:"todos",children:"Todos"}),_.jsx("option",{value:"recepcion",children:"recepcion"}),_.jsx("option",{value:"diagnostico",children:"diagnostico"}),_.jsx("option",{value:"reparacion",children:"reparacion"}),_.jsx("option",{value:"listo",children:"listo"}),_.jsx("option",{value:"entregado",children:"entregado"})]}),_.jsx("input",{className:"input",type:"date",value:s,onChange:z=>a(z.target.value)}),_.jsx("input",{className:"input",type:"date",value:u,onChange:z=>d(z.target.value)}),_.jsxs("select",{className:"input",value:p,onChange:z=>v(z.target.value),children:[_.jsx("option",{value:"act_desc",children:"Act. reciente"}),_.jsx("option",{value:"act_asc",children:"Act. antigua"}),_.jsx("option",{value:"creada_desc",children:"Creada reciente"}),_.jsx("option",{value:"creada_asc",children:"Creada antigua"})]})]}),_.jsxs("div",{className:"mt-3 flex gap-2",children:[_.jsx("button",{className:"btn",onClick:j,children:"Exportar CSV"}),_.jsx("button",{className:"btn",onClick:b,children:"Importar JSON"}),_.jsx("button",{className:"btn btn-secondary",onClick:A,disabled:E,children:E?"Sincronizando...":"Sincronizar ahora"})]})]})}),_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body p-0",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm",children:[_.jsx("thead",{}),_.jsxs("tbody",{children:[q.map(z=>_.jsxs(br.Fragment,{children:[_.jsx("tr",{className:"bg-neutral-100 dark:bg-neutral-800 font-semibold cursor-pointer",onClick:()=>y(K=>K===z.clienteId?null:z.clienteId),children:_.jsxs("td",{className:"py-2 px-3 flex items-center gap-2",colSpan:8,children:[g===z.clienteId?_.jsx(F0,{className:"size-4"}):_.jsx(K0,{className:"size-4"}),"Cliente: ",z.nombre," (",z.telefono,") | Órdenes: ",z.ordenes.length]})}),g===z.clienteId&&z.ordenes.map(K=>_.jsxs("tr",{className:"border-t border-neutral-200/70 dark:border-neutral-800",children:[_.jsx("td",{className:"py-2 pr-3 pl-8",children:K.codigo}),_.jsx("td",{className:"py-2 pr-3",children:K.cliente}),_.jsx("td",{className:"py-2 pr-3",children:K.telefono}),_.jsx("td",{className:"py-2 pr-3",children:K.equipo}),_.jsx("td",{className:"py-2 pr-3",children:K.estado}),_.jsx("td",{className:"py-2 pr-3",children:new Date(K.creada).toLocaleString()}),_.jsx("td",{className:"py-2 pr-3",children:new Date(K.actualizada).toLocaleString()}),_.jsxs("td",{className:"py-2 flex gap-2",children:[_.jsx("button",{className:"btn btn-primary",onClick:()=>t(K.id),children:"Abrir"}),_.jsx("button",{className:"btn",onClick:()=>S(K.id),children:"Eliminar"})]})]},K.id))]},z.clienteId)),q.length===0&&_.jsx("tr",{children:_.jsx("td",{className:"py-4 opacity-70 px-4",colSpan:8,children:"No se encontraron órdenes."})})]})]})})})})]})}function tk(){const[t,e]=ve.useState([]),[n,r]=ve.useState(1),{subtotal:i,total:s}=ve.useMemo(()=>{const g=t.reduce((E,N)=>E+N.cantidad*N.precioUnitario,0);return{subtotal:g,total:g}},[t]),a=()=>{e(g=>[...g,{id:n,descripcion:"",cantidad:1,precioUnitario:0}]),r(n+1)},u=(g,y,E)=>{e(N=>N.map(U=>{if(U.id===g){if(y==="descripcion")return{...U,[y]:E};const q=parseFloat(E)||0;return{...U,[y]:q}}return U}))},d=g=>{e(y=>y.filter(E=>E.id!==g))},p=()=>{console.log("Exportando presupuesto:",{items:t,total:s}),alert(`Presupuesto total: ${s.toFixed(2)}€ (Lógica de exportación pendiente)`)},v=()=>{e([]),r(1)};return _.jsxs("div",{className:"grid gap-6",children:[_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalle del Presupuesto"}),_.jsxs("div",{className:"flex gap-2 mb-4",children:[_.jsx("button",{className:"btn btn-primary",onClick:a,children:"+ Añadir Línea"}),_.jsx("button",{className:"btn btn-secondary",onClick:p,disabled:t.length===0,children:"Exportar (PDF/JSON)"}),_.jsx("button",{className:"btn btn-ghost",onClick:v,children:"Limpiar"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"table-auto w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-neutral-300 dark:border-neutral-700",children:[_.jsx("th",{className:"py-2 pr-2",children:"Descripción"}),_.jsx("th",{className:"py-2 px-2 w-24",children:"Cant."}),_.jsx("th",{className:"py-2 px-2 w-32",children:"P. Unitario (€)"}),_.jsx("th",{className:"py-2 px-2 w-32",children:"Total Línea (€)"}),_.jsx("th",{className:"py-2 pl-2 w-12"})]})}),_.jsxs("tbody",{children:[t.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:5,className:"py-4 opacity-70 text-center",children:"Añada líneas para empezar el presupuesto."})}),t.map(g=>_.jsxs("tr",{className:"border-b border-neutral-200/70 dark:border-neutral-800",children:[_.jsx("td",{className:"py-2 pr-2",children:_.jsx("input",{className:"input w-full text-sm",value:g.descripcion,onChange:y=>u(g.id,"descripcion",y.target.value),placeholder:"Mano de obra, Pieza X, Licencia"})}),_.jsx("td",{className:"py-2 px-2",children:_.jsx("input",{className:"input w-full text-sm text-center",type:"number",min:"1",value:g.cantidad,onChange:y=>u(g.id,"cantidad",y.target.value)})}),_.jsx("td",{className:"py-2 px-2",children:_.jsx("input",{className:"input w-full text-sm text-right",type:"number",step:"0.01",value:g.precioUnitario.toFixed(2),onChange:y=>u(g.id,"precioUnitario",y.target.value)})}),_.jsx("td",{className:"py-2 px-2 text-right font-medium",children:(g.cantidad*g.precioUnitario).toFixed(2)}),_.jsx("td",{className:"py-2 pl-2",children:_.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>d(g.id),children:"🗑️"})})]},g.id))]})]})})]})}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Resumen"}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-sm ml-auto",children:[_.jsx("div",{className:"text-right",children:"Subtotal:"}),_.jsxs("div",{className:"text-right font-medium",children:[i.toFixed(2)," €"]}),_.jsx("div",{className:"text-right text-xl font-bold border-t pt-2 mt-2 border-neutral-400 dark:border-neutral-600",children:"TOTAL:"}),_.jsxs("div",{className:"text-right text-xl font-bold border-t pt-2 mt-2 border-neutral-400 dark:border-neutral-600",children:[s.toFixed(2)," €"]})]})]})})]})}const nk=["recepcion","diagnostico","reparacion","listo","entregado"];function rk(t){if(t<1024)return t+" B";const e=1024,n=["KB","MB","GB","TB"];let r=-1,i=t;do i/=e,r++;while(i>=e&&r<n.length-1);return i.toFixed(1)+" "+n[r]}function ik({ordenId:t}){const[e,n]=ve.useState(""),[r,i]=ve.useState({nombre:"",cantidad:1,coste:0,estado:"pendiente"}),[s,a]=ve.useState(null),[u,d]=ve.useState(!1),p=hn(()=>Z.ordenes.get(t),[t]),v=hn(()=>p!=null&&p.equipoId?Z.equipos.get(p.equipoId):void 0,[p==null?void 0:p.equipoId]),g=hn(()=>v!=null&&v.clienteId?Z.clientes.get(v.clienteId):void 0,[v==null?void 0:v.clienteId]),y=hn(()=>Z.piezas.where("ordenId").equals(t).toArray(),[t]),E=hn(()=>Z.eventos.where("ordenId").equals(t).reverse().toArray(),[t]),N=hn(()=>Z.adjuntos.where("ordenId").equals(t).toArray(),[t]),U=ve.useMemo(()=>(y||[]).reduce((A,z)=>A+z.coste*z.cantidad,0),[y]),q=ve.useMemo(()=>{if(!p)return null;const A=v,z=g,K=A?`${A.marca} ${A.modelo} (${A.categoria||"Genérico"})`:"N/A";return{codigo:p.codigo,estado:p.estado,clienteNombre:(z==null?void 0:z.nombre)||"N/A",clienteTelefono:(z==null?void 0:z.telefono)||"N/A",equipoInfo:K,creada:p.creada,actualizada:p.actualizada}},[p,v,g]);async function j(A){if(!(!p||!A))try{await Z.ordenes.update(t,{estado:A,actualizada:new Date().toISOString()}),await Z.eventos.add({id:crypto.randomUUID(),ordenId:t,tipo:"estado",texto:`Estado cambiado a: ${A}`,fecha:new Date().toISOString()}),a({msg:`Estado actualizado a ${A}.`})}catch(z){console.error("Error al cambiar el estado:",z),a({msg:"Error al actualizar el estado."})}}ve.useEffect(()=>{},[t]);async function b(A){}async function S(A,z){}return t?q?_.jsxs("section",{className:"grid gap-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h2",{className:"text-lg font-semibold",children:["Orden: ",q.codigo]}),u?_.jsx("span",{className:"text-sm opacity-70",children:"⏳ Sincronizando…"}):_.jsx("span",{className:"text-sm opacity-70",children:"✔ Sincronizado"})]}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid sm:grid-cols-2 gap-3",children:[_.jsx("h3",{className:"font-medium sm:col-span-2",children:"Detalles Clave"}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Estado:"}),_.jsx("span",{className:"font-semibold text-right",children:q.estado.toUpperCase()})]}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Cliente:"}),_.jsx("span",{className:"text-right",children:q.clienteNombre})]}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Teléfono:"}),_.jsx("span",{className:"text-right",children:q.clienteTelefono})]}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Equipo:"}),_.jsx("span",{className:"text-right",children:q.equipoInfo})]}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Creada:"}),_.jsx("span",{className:"text-right",children:new Date(q.creada).toLocaleDateString()})]}),_.jsxs("div",{className:"flex justify-between border-b pb-1",children:[_.jsx("span",{className:"opacity-70",children:"Última Act.:"}),_.jsx("span",{className:"text-right",children:new Date(q.actualizada).toLocaleDateString()})]}),_.jsxs("div",{className:"mt-2 sm:col-span-2 grid sm:grid-cols-[150px_1fr] gap-2 items-center",children:[_.jsx("span",{className:"opacity-70",children:"Cambiar Estado a:"}),_.jsx("select",{className:"input",value:q.estado,onChange:A=>j(A.target.value),children:nk.map(A=>_.jsx("option",{value:A,children:A.toUpperCase()},A))})]})]})}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-3",children:[_.jsx("div",{className:"font-medium",children:"Timeline / Notas"}),_.jsxs("div",{className:"grid sm:grid-cols-[1fr_auto] gap-2",children:[_.jsx("input",{className:"input",placeholder:"Nueva nota",value:e,onChange:A=>n(A.target.value)}),_.jsx("button",{className:"btn btn-primary",onClick:async()=>{e.trim()&&(await Z.eventos.add({id:crypto.randomUUID(),ordenId:t,tipo:"nota",texto:e.trim(),fecha:new Date().toISOString()}),n(""),a({msg:"Nota agregada."}))},children:"Añadir"})]}),E!=null&&E.length?_.jsx("ul",{className:"text-sm",children:E.map(A=>_.jsxs("li",{children:[new Date(A.fecha).toLocaleString()," — ",A.texto]},A.id))}):_.jsx("p",{className:"text-sm opacity-60",children:"Sin eventos."})]})}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-3",children:[_.jsx("div",{className:"font-medium",children:"Piezas usadas"}),_.jsxs("div",{className:"grid sm:grid-cols-4 gap-2",children:[_.jsx("input",{className:"input",placeholder:"Nombre",value:r.nombre,onChange:A=>i({...r,nombre:A.target.value})}),_.jsx("input",{className:"input",type:"number",placeholder:"Cant.",value:r.cantidad,onChange:A=>i({...r,cantidad:+A.target.value})}),_.jsx("input",{className:"input",type:"number",placeholder:"Coste",value:r.coste,onChange:A=>i({...r,coste:+A.target.value})}),_.jsx("button",{className:"btn btn-primary",onClick:async()=>{r.nombre.trim()&&(await Z.piezas.add({id:crypto.randomUUID(),ordenId:t,...r}),i({nombre:"",cantidad:1,coste:0,estado:"pendiente"}),a({msg:"Pieza agregada."}))},children:"Añadir"})]}),y!=null&&y.length?_.jsx("ul",{className:"text-sm grid gap-1",children:y.map(A=>_.jsxs("li",{className:"flex justify-between items-center",children:[_.jsxs("span",{children:[A.nombre," ×",A.cantidad," — ",A.estado," — ",A.coste.toFixed(2)," €"]}),_.jsx("button",{className:"btn",onClick:async()=>{await Z.piezas.delete(A.id),a({msg:"Pieza eliminada."})},children:"Borrar"})]},A.id))}):_.jsx("p",{className:"text-sm opacity-60",children:"Sin piezas."}),_.jsxs("div",{className:"font-semibold text-right",children:["Total piezas: ",U.toFixed(2)," €"]})]})}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-3",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"font-medium",children:"Adjuntos"}),_.jsx("input",{type:"file",className:"input",multiple:!0,onChange:b})]}),N!=null&&N.length?_.jsx("div",{className:"grid sm:grid-cols-3 md:grid-cols-4 gap-3",children:N.map(A=>{const z=/^image\//.test(A.tipo),K=URL.createObjectURL(A.blob);return _.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid gap-2",children:[_.jsx("div",{className:"text-sm break-all",children:A.nombre}),_.jsxs("div",{className:"text-xs opacity-70",children:[rk(A.tam)," — ",new Date(A.fecha).toLocaleString()]}),z?_.jsx("a",{href:K,target:"_blank",rel:"noreferrer",children:_.jsx("img",{src:K,alt:A.nombre,className:"w-full h-32 object-cover rounded-lg border"})}):_.jsx("a",{href:K,target:"_blank",rel:"noreferrer",className:"btn",children:"Descargar"}),_.jsx("button",{className:"btn",onClick:()=>S(A.id,A.nombre),children:"Borrar"})]})},A.id)})}):_.jsx("p",{className:"text-sm opacity-60",children:"Sin adjuntos."})]})}),s&&_.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body flex items-center gap-2",children:[_.jsx("span",{children:s.msg}),_.jsx("button",{className:"btn",onClick:()=>a(null),children:"Cerrar"})]})})})]}):_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:"Cargando datos de la orden..."})}):_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:"Selecciona una orden."})})}const wd=new Date,Dh=t=>t.toISOString().split("T")[0],Ov=new Date(wd);Ov.setDate(wd.getDate()-1);const sk=["recepcion","diagnostico","reparacion","listo"];function ok(){const[t,e]=ve.useState(Dh(Ov)),[n,r]=ve.useState(Dh(wd)),i=hn(()=>Z.ordenes.toArray(),[],[]),s=ve.useMemo(()=>{if(!i)return[];const u=new Date(t).getTime(),d=new Date(n);d.setDate(d.getDate()+1);const p=d.getTime();return i.filter(v=>{const g=new Date(v.creada).getTime();return g>=u&&g<p})},[i,t,n]),a=ve.useMemo(()=>{const u={recepcion:0,diagnostico:0,reparacion:0,listo:0,entregado:0};let d=0,p=0;return s.forEach(v=>{u[v.estado]+=1,v.estado==="entregado"&&(d+=1)}),{totalOrdenes:s.length,totalEntregadas:d,conteoPorEstado:u,ingresosEstimados:p}},[s]);return _.jsxs("div",{className:"grid gap-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Informes y Estadísticas"}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body grid sm:grid-cols-3 gap-4 items-end",children:[_.jsxs("label",{className:"grid gap-1",children:[_.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Fecha Inicio:"}),_.jsx("input",{type:"date",className:"input",value:t,onChange:u=>e(u.target.value)})]}),_.jsxs("label",{className:"grid gap-1",children:[_.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Fecha Fin:"}),_.jsx("input",{type:"date",className:"input",value:n,onChange:u=>r(u.target.value)})]}),_.jsx("p",{className:"text-sm opacity-70",children:"Mostrando datos de órdenes creadas entre estas fechas."})]})}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsx(ti,{title:"Órdenes Totales (Período)",value:a.totalOrdenes}),_.jsx(ti,{title:"Órdenes Entregadas",value:a.totalEntregadas}),_.jsx(ti,{title:"Órdenes Pendientes",value:a.totalOrdenes-a.totalEntregadas}),_.jsx(ti,{title:"Ingresos (Est.)",value:`$${a.ingresosEstimados.toFixed(2)}`})]}),_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Órdenes por Estado"}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[sk.map(u=>_.jsx(ti,{title:u.charAt(0).toUpperCase()+u.slice(1),value:a.conteoPorEstado[u],isSmall:!0},u)),_.jsx(ti,{title:"Entregado",value:a.conteoPorEstado.entregado,isSmall:!0})]})]})})]})}function ti({title:t,value:e,isSmall:n=!1}){return _.jsxs("div",{className:`p-4 rounded-lg shadow border border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800 ${n?"":"col-span-1"}`,children:[_.jsx("p",{className:`text-sm opacity-70 mb-1 ${n?"text-xs":""}`,children:t}),_.jsx("p",{className:`font-bold ${n?"text-xl":"text-3xl"}`,children:e})]})}function ak(){const[t,e]=ve.useState("ordenes"),[n,r]=ve.useState(void 0);return _.jsxs(Bb,{tab:t,onTab:i=>{e(i)},children:[t==="registro"&&_.jsx(Yb,{onCreated:i=>{r(i),e("reparacion")}}),t==="ordenes"&&_.jsx(ek,{onOpen:i=>{r(i),e("reparacion")}}),t==="presupuesto"&&_.jsx(tk,{}),t==="reparacion"&&(n?_.jsx(ik,{ordenId:n}):_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:"Selecciona una orden desde “Órdenes”."})})),t==="informes"&&_.jsx(ok,{})]})}Qm(document.getElementById("root")).render(_.jsx(br.StrictMode,{children:_.jsx(ak,{})}));
